is_unital <- function(reducer, value) {
reducer$reducefn(reducer$initialfn(), value) == value
}
is_unital(sum_reducer, 5)
is_associative <- function(reducer, val1, val2, val3) {
rfn <- reducer$reducefn
rfn(val1, rfn(val2, val3)) == rfn(rfn(val1, val2), val3)
}
is_associative(sum_reducer, 1, 2, 3)
is_unital <- function(reducer, val) {
ifn <- reducer$initialfn
rfn <- reducer$reducefn
rfn(ifn(), val) == val
}
is_associative <- function(reducer, val1, val2, val3) {
rfn <- reducer$reducefn
rfn(val1, rfn(val2, val3)) == rfn(rfn(val1, val2), val3)
}
is_unital(sum_reducer, 5)
is_associative(sum_reducer, 1, 2, 3)
product_reducer <- list(
initialfn = function() 1,
reducefn = function(x, y) x * y
)
is_unital(product_reducer, 2)
is_associative(product_reducer, 1, 2, 3)
Reduce(sum_reducer$reducefn, c(1, 2, 3), sum_reducer$initialfn())
#| collapse: true
sum_r <- list(
initialfn = function() 0,
reducefn = function(x, y) x + y
)
sum_r$reducefn(sum_r$initialfn(), 5)
# Invalid exponentiation reducer
initialfn <- "???"
reducefn <- function(x, y) x^y
c(reducefn(2, reducefn(3, 4)),
reducefn(reducefn(2, 3), 4)
)
c(reducefn(1.1, reducefn(1.2, 1.3)),
reducefn(reducefn(1.1, 1.2), 1.3)
)
c(reducefn(1.5, reducefn(2, 2.5)),
reducefn(reducefn(1.5, 2), 2.5)
)
c(reducefn(2, reducefn(3, 2)),
reducefn(reducefn(2, 3), 2)
)
c(reducefn(1, reducefn(2, 3)),
reducefn(reducefn(1, 2), 3)
)
# Invalid mean reducer
initialfn <- function() "???" # To make mean(c, x) == x, we would need to know x
reducefn <- function(x, y) mean(x, y)
c(reducefn(1, reducefn(2, 3)),
reducefn(reducefn(1, 2), 3)
)
reducefn <- function(x, y) mean(x, y)
reducefn(2, 3)
reducefn(1, reducefn(2, 3))
reducefn <- function(x, y) (x + y) / 2
reducefn(1, reducefn(2, 3))
c(reducefn(1, reducefn(2, 3)),
reducefn(reducefn(1, 2), 3)
)
max(10, -Inf)
sacramento
library(plotscaper)
sacramento
sacramento$city <- tools::toTitleCase(sacramento$city)
sacramento$city
levels(sacramento$city) <- tools::toTitleCase(levels(sacramento$city))
usethis::use_data(sacramento)
usethis::use_data(sacramento, overwrite = TRUE)
devtools::install()
.rs.restartR()
devtools::document()
devtools::install()
devtools::install()
library(plotscaper)
sacramento
levels(sacramento$city) <- tools::toTitleCase(levels(sacramento$city))
usethis::use_data(sacramento, overwrite = TRUE)
devtools::load_all(
)
sacramento
levels(sacramento$city) <- tools::toTitleCase(levels(sacramento$city))
usethis::use_data(sacramento, overwrite = TRUE)
devtools::load_all(
)
sacramento
levels(sacramento$city) <- tools::toTitleCase(tolower(levels(sacramento$city)))
sacramento
usethis::use_data(sacramento, overwrite = TRUE)
devtools::install(
)
devtools::load_all()
sacramento
.rs.restartR()
library(plotscaper)
sacramento
library(plotscaper)
library(htmlwidgets)
reducer1 <- reducer(
initialfn = JS("() => -Infinity"),
reducefn = JS("(a, b) => Math.max(a, b)"),
name = "max"
)
set_scene(sacramento) |>
add_scatterplot(c("latitude", "longitude")) |>
add_barplot(c("city", "price"),
options(reducer = reducer1))
set_scene(ggplot2::mpg) |>
add_scatterplot(c("displ", "hwy")) |>
add_histogram(c("cty")) |>
add_barplot(c("manufacturer")) |>
add_fluctplot(c("class", "drv")) |>
add_parcoords(c("displ", "hwy", "cty")) |>
add_histogram2d(c("displ", "cty")) |>
add_notes()
library(ggplot2)
ggplot(mpg, aes(displ, mpg, size = cty)) +
geom_point()
ggplot(mpg, aes(displ, hwy, size = cty)) +
geom_point()
ggplot(mpg, aes(displ, hwy, size = cty)) +
geom_point() +
scale_size_area()
ggplot(mpg, aes(displ, hwy, size = cty)) +
geom_point()
ggplot(mpg, aes(displ, hwy, size = cty)) +
geom_point() +
scale_size_area()
devtools::install(
)
library(plotscaper)
library(htmlwidgets)
reducer1 <- reducer(
initialfn = JS("() => -Infinity"),
reducefn = JS("(a, b) => Math.max(a, b)"),
name = "max"
)
set_scene(sacramento) |>
add_scatterplot(c("latitude", "longitude")) |>
add_barplot(c("city", "price"),
options(reducer = reducer1))
set_scene(ggplot2::mpg) |>
add_scatterplot(c("displ", "hwy")) |>
add_histogram(c("cty")) |>
add_barplot(c("manufacturer")) |>
add_fluctplot(c("class", "drv")) |>
add_parcoords(c("displ", "hwy", "cty")) |>
add_histogram2d(c("displ", "cty")) |>
add_notes()
set_scene(ggplot2::diamonds) |>
add_scatterplot(c("carat", "price")) |>
add_fluctplot(c("cut", "color")) |>
add_barplot(c("clarity"))
layout <- matrix(c(
1, 1, 2, 3,
1, 1, 4, 5,
6, 7, 7, 7
), ncol = 4, byrow = TRUE)
dplyr::glimpse(sacramento)
set_scene(sacramento) |>
add_scatterplot(c("longitude", "latitude")) |>
add_barplot("city") |>
add_histogram(c("sqft")) |>
add_fluctplot(c("beds", "baths")) |>
add_histogram2d(c("sqft", "price")) |>
add_notes() |>
add_parcoords(names(sacramento)) |>
set_layout(layout)
set_scene(sacramento) |>
add_scatterplot(c("longitude", "latitude")) |>
add_barplot("city") |>
add_histogram(c("sqft")) |>
add_fluctplot(c("beds", "baths")) |>
add_histogram2d(c("sqft", "price")) |>
add_notes() |>
add_parcoords(names(sacramento)) |>
set_layout(layout)
library(plotscaper)
set_scene(sacramento) |>
add_scatterplot(c("longitude", "latitude")) |>
add_barplot("city") |>
add_histogram(c("sqft")) |>
add_fluctplot(c("beds", "baths")) |>
add_histogram2d(c("sqft", "price")) |>
add_notes() |>
add_parcoords(names(sacramento)) |>
set_layout(layout)
reducer1 <- reducer(
initialfn = JS("() => -Infinity"),
reducefn = JS("(a, b) => Math.max(a, b)"),
name = "max"
)
set_scene(sacramento) |>
add_scatterplot(c("latitude", "longitude")) |>
add_barplot(c("city", "price"),
options(reducer = reducer1))
library(htmlwidgets)
reducer1 <- reducer(
initialfn = JS("() => -Infinity"),
reducefn = JS("(a, b) => Math.max(a, b)"),
name = "max"
)
set_scene(sacramento) |>
add_scatterplot(c("latitude", "longitude")) |>
add_barplot(c("city", "price"),
options(reducer = reducer1))
set_scene(sacramento) |>
add_scatterplot(c("longitude", "latitude")) |>
add_barplot("city") |>
add_histogram(c("sqft")) |>
add_fluctplot(c("beds", "baths")) |>
# add_histogram2d(c("sqft", "price")) |>
add_notes() |>
add_parcoords(names(sacramento)) |>
set_layout(layout)
set_scene(sacramento) |>
add_scatterplot(c("longitude", "latitude")) |>
add_barplot("city") |>
add_histogram(c("sqft")) |>
add_fluctplot(c("beds", "baths")) |>
# add_histogram2d(c("sqft", "price")) |>
add_notes() |>
# add_parcoords(names(sacramento)) |>
set_layout(layout)
set_scene(sacramento) |>
add_scatterplot(c("longitude", "latitude")) |>
add_barplot("city") |>
add_histogram(c("sqft")) |>
add_fluctplot(c("beds", "baths")) |>
add_histogram2d(c("sqft", "price")) |>
add_notes() |>
# add_parcoords(names(sacramento)) |>
set_layout(layout)
set_scene(sacramento) |>
add_scatterplot(c("longitude", "latitude")) |>
add_barplot("city") |>
add_histogram(c("sqft")) |>
add_fluctplot(c("beds", "baths")) |>
add_histogram2d(c("sqft", "price")) |>
add_notes() |>
add_parcoords(names(sacramento)) |>
set_layout(layout)
set_scene(sacramento) |>
add_scatterplot(c("longitude", "latitude")) |>
add_barplot("city") |>
add_histogram(c("sqft")) |>
add_fluctplot(c("beds", "baths")) |>
add_histogram2d(c("sqft", "price")) |>
add_notes() |>
add_parcoords(c("price", "sqft", "beds", "baths")) |>
set_layout(layout)
set_scene(sacramento) |>
add_scatterplot(c("longitude", "latitude")) |>
add_barplot("city") |>
add_histogram(c("sqft")) |>
add_fluctplot(c("beds", "baths")) |>
add_histogram2d(c("sqft", "price")) |>
add_notes() |>
add_parcoords(c("price", "latitude", "longitude")) |>
set_layout(layout)
4 * 2^4
4 ^ 16
16^4
(2^3)^4
set_scene(sacramento) |>
add_scatterplot(c("longitude", "latitude")) |>
add_barplot("city") |>
add_histogram(c("sqft")) |>
add_fluctplot(c("beds", "baths")) |>
add_histogram2d(c("sqft", "price")) |>
add_notes() |>
add_parcoords(c("price", "latitude", "longitude")) |>
set_layout(layout)
layout <- matrix(c(
1, 1, 2, 3,
1, 1, 4, 5,
6, 7, 7, 7
), ncol = 4, byrow = TRUE)
set_scene(sacramento) |>
add_scatterplot(c("longitude", "latitude")) |>
add_barplot("city") |>
add_histogram(c("sqft")) |>
add_fluctplot(c("beds", "baths")) |>
add_histogram2d(c("sqft", "price")) |>
add_notes() |>
add_parcoords(c("price", "latitude", "longitude")) |>
set_layout(layout)
library(plotscaper)
set_scene(sacramento) |>
add_scatterplot(c("longitude", "latitude")) |>
add_barplot("city") |>
add_histogram(c("sqft")) |>
add_fluctplot(c("beds", "baths")) |>
add_histogram2d(c("sqft", "price")) |>
add_notes() |>
add_parcoords(c("price", "latitude", "longitude")) |>
set_layout(layout)
set_scene(sacramento) |>
add_scatterplot(c("latitude", "longitude")) |>
add_barplot(c("city"))
set_scene(sacramento) |>
add_scatterplot(c("latitude", "longitude")) |>
add_barplot(c("city", "mpg"))
set_scene(sacramento) |>
add_scatterplot(c("latitude", "longitude")) |>
add_barplot(c("city", "hwy"))
set_scene(sacramento) |>
add_scatterplot(c("latitude", "longitude")) |>
add_barplot(c("city", "price"))
reducer1 <- reducer(
initialfn = JS("() => -Infinity"),
reducefn = JS("(a, b) => Math.max(a, b)"),
name = "max"
)
library(htmlwidgets)
reducer1 <- reducer(
initialfn = JS("() => -Infinity"),
reducefn = JS("(a, b) => Math.max(a, b)"),
name = "max"
)
reducer1 <- reducer(
initialfn = JS("() => -Infinity"),
reducefn = JS("(a, b) => Math.max(a, b)"),
name = "max"
)
set_scene(sacramento) |>
add_scatterplot(c("latitude", "longitude")) |>
add_barplot(c("city", "price"),
options = list(reducer = reducer1))
set_scene(sacramento) |>
add_scatterplot(c("latitude", "longitude")) |>
add_barplot(c("city", "price"))
set_scene(sacramento) |>
add_scatterplot(c("latitude", "longitude")) |>
add_barplot(c("city", "price"),
options = list(reducer = reducer1))
set_scene(sacramento) |>
add_scatterplot(c("longitude", "latitude")) |>
add_barplot("city") |>
add_histogram(c("sqft")) |>
add_fluctplot(c("beds", "baths")) |>
add_histogram2d(c("sqft", "price")) |>
add_notes() |>
add_parcoords(c("price", "latitude", "longitude")) |>
set_layout(layout)
4^4
expand.grid(1:4, 1:4, 1:4, 1:4)
X <- expand.grid(1:4, 1:4, 1:4, 1:4)
diff(X)
apply(X, 1, diff)
Y <- apply(X, 1, diff)
Y
apply(Y, 2, function(x) any(x < 0))
sum(apply(Y, 2, function(x) !any(x < 0)))
X <- expand.grid(1:3, 1:3, 1:3)
Y <- apply(X, 1, diff)
sum(apply(Y, 2, function(x) !any(x < 0)))
which(apply(Y, 2, function(x) !any(x < 0)))
X[which(apply(Y, 2, function(x) !any(x < 0))), ]
X <- expand.grid(1:3, 1:3)
Y <- apply(X, 1, diff)
X[which(apply(Y, 2, function(x) !any(x < 0))), ]
Y
X
X[which(apply(as.matrix(Y), 2, function(x) !any(x < 0))), ]
X <- expand.grid(1:3, 1:3)
Y <- apply(X, 1, diff)
X[which(apply(as.matrix(Y, nrow = nrow(X)),
2, function(x) !any(x < 0))), ]
Y
X[which(apply(as.matrix(Y, ncol = nrow(X)),
2, function(x) !any(x < 0))), ]
X <- expand.grid(1:3, 1:3, 1:3)
Y <- apply(X, 1, diff)
X[which(apply(Y, 2, function(x) !any(x < 0))), ]
3^3
X
X[which(apply(Y, 2, function(x) !any(x < 0))), ]
X <- expand.grid(1:2, 1:2, 1:2)
Y <- apply(X, 1, diff)
X[which(apply(Y, 2, function(x) !any(x < 0))), ]
X <- expand.grid(1:4, 1:4, 1:4)
Y <- apply(X, 1, diff)
X[which(apply(Y, 2, function(x) !any(x < 0))), ]
X <- expand.grid(1:2, 1:2, 1:2, 1:2)
Y <- apply(X, 1, diff)
X[which(apply(Y, 2, function(x) !any(x < 0))), ]
X <- expand.grid(1:4, 1:4)
Y <- apply(X, 1, diff)
X[which(apply(Y, 2, function(x) !any(x < 0))), ]
X <- expand.grid(1:4, 1:4)
Y <- apply(X, 1, diff)
X
apply(X, 1, diff)
apply(X, 1, diff, drop = FALSE)
apply(X, 1, diff)
?apply
apply(X, 1, diff, simplify = FALSE)
X[which(apply(Y, 2, function(x) !any(x < 0)), simplify = FALSE), ]
X[which(apply(Y, 2, function(x) !any(x < 0), simplify = FALSE)), ]
apply(X, 1, diff, simplify = FALSE)
check_increasing <- function(x) {
!any(diff(x) < 0)
}
check_increasing(c(1, 2, 3))
check_increasing(c(1, 2, 1))
X <- expand.grid(1:4, 1:4)
check_increasing <- function(x) {
!any(diff(x) < 0)
}
X[apply(X, 1, check_increasing)]
X[apply(X, 1, check_increasing), ]
X <- expand.grid(1:3, 1:3)
check_increasing <- function(x) {
!any(diff(x) < 0)
}
X[apply(X, 1, check_increasing), ]
nrow(X[apply(X, 1, check_increasing), ])
X <- expand.grid(1:4, 1:4)
check_increasing <- function(x) {
!any(diff(x) < 0)
}
nrow(X[apply(X, 1, check_increasing), ])
X <- expand.grid(1:5, 1:5)
check_increasing <- function(x) {
!any(diff(x) < 0)
}
nrow(X[apply(X, 1, check_increasing), ])
X <- expand.grid(1:6, 1:6)
check_increasing <- function(x) {
!any(diff(x) < 0)
}
nrow(X[apply(X, 1, check_increasing), ])
X[apply(X, 1, check_increasing), ]
X <- expand.grid(1:2, 1:2, 1:3)
X <- expand.grid(1:2, 1:2, 1:2)
check_increasing <- function(x) {
!any(diff(x) < 0)
}
X[apply(X, 1, check_increasing), ]
nrow(X[apply(X, 1, check_increasing), ])
X <- expand.grid(1:3, 1:3, 1:3)
check_increasing <- function(x) {
!any(diff(x) < 0)
}
nrow(X[apply(X, 1, check_increasing), ])
X <- expand.grid(1:4, 1:4, 1:4)
check_increasing <- function(x) {
!any(diff(x) < 0)
}
nrow(X[apply(X, 1, check_increasing), ])
X[apply(X, 1, check_increasing), ]
X <- expand.grid(1:5, 1:5, 1:5)
check_increasing <- function(x) {
!any(diff(x) < 0)
}
X[apply(X, 1, check_increasing), ]
nrow(X[apply(X, 1, check_increasing), ])
m <- 6
n <- 6
X <- expand.grid(1:n, 1:n, 1:n)
check_increasing <- function(x) {
!any(diff(x) < 0)
}
nrow(X[apply(X, 1, check_increasing), ])
n <- 3
X <- expand.grid(1:n, 1:n, 1:n)
check_increasing <- function(x) {
!any(diff(x) < 0)
}
nrow(X[apply(X, 1, check_increasing), ])
n <- 4
X <- expand.grid(1:n, 1:n, 1:n)
check_increasing <- function(x) {
!any(diff(x) < 0)
}
nrow(X[apply(X, 1, check_increasing), ])
n <- 2
X <- expand.grid(1:n, 1:n, 1:n, 1:n)
check_increasing <- function(x) {
!any(diff(x) < 0)
}
nrow(X[apply(X, 1, check_increasing), ])
n <- 3
X <- expand.grid(1:n, 1:n, 1:n, 1:n)
check_increasing <- function(x) {
!any(diff(x) < 0)
}
nrow(X[apply(X, 1, check_increasing), ])
n <- 4
X <- expand.grid(1:n, 1:n, 1:n, 1:n)
check_increasing <- function(x) {
!any(diff(x) < 0)
}
nrow(X[apply(X, 1, check_increasing), ])
n <- 5
X <- expand.grid(1:n, 1:n, 1:n, 1:n)
check_increasing <- function(x) {
!any(diff(x) < 0)
}
nrow(X[apply(X, 1, check_increasing), ])
n <- 6
X <- expand.grid(1:n, 1:n, 1:n, 1:n)
check_increasing <- function(x) {
!any(diff(x) < 0)
}
nrow(X[apply(X, 1, check_increasing), ])
