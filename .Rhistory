add_histogram(c("sqft")) |>
add_fluctplot(c("beds", "baths")) |>
add_histogram2d(c("sqft", "price")) |>
add_notes() |>
add_parcoords(names(sacramento)) |>
set_layout(layout)
devtools::install()
library(plotscaper)
set_scene(ggplot2::mpg) |>
add_scatterplot(c("displ", "hwy")) |>
add_histogram(c("cty")) |>
add_barplot(c("manufacturer")) |>
add_fluctplot(c("class", "drv")) |>
add_parcoords(c("displ", "hwy", "cty")) |>
add_histogram2d(c("displ", "cty")) |>
add_notes()
devtools::install(
)
set_scene(ggplot2::mpg) |>
add_scatterplot(c("displ", "hwy")) |>
add_histogram(c("cty")) |>
add_barplot(c("manufacturer")) |>
add_fluctplot(c("class", "drv")) |>
add_parcoords(c("displ", "hwy", "cty")) |>
add_histogram2d(c("displ", "cty")) |>
add_notes()
set_scene(ggplot2::mpg) |>
add_scatterplot(c("displ", "hwy")) |>
add_histogram(c("cty")) |>
add_barplot(c("manufacturer")) |>
add_fluctplot(c("class", "drv")) |>
add_parcoords(c("displ", "hwy", "cty")) |>
add_histogram2d(c("displ", "cty")) |>
add_notes()
library(plotscaper)
set_scene(ggplot2::mpg) |>
add_scatterplot(c("displ", "hwy")) |>
add_histogram(c("cty")) |>
add_barplot(c("manufacturer")) |>
add_fluctplot(c("class", "drv")) |>
add_parcoords(c("displ", "hwy", "cty")) |>
add_histogram2d(c("displ", "cty")) |>
add_notes()
set_scene(ggplot2::mpg) |>
add_scatterplot(c("displ", "hwy")) |>
add_histogram(c("cty")) |>
add_barplot(c("manufacturer")) |>
add_fluctplot(c("class", "drv")) |>
add_parcoords(c("displ", "hwy", "cty")) |>
add_histogram2d(c("displ", "cty")) |>
add_notes()
library(plotscaper)
set_scene(ggplot2::mpg) |>
add_scatterplot(c("displ", "hwy")) |>
add_histogram(c("cty")) |>
add_barplot(c("manufacturer")) |>
add_fluctplot(c("class", "drv")) |>
add_parcoords(c("displ", "hwy", "cty")) |>
add_histogram2d(c("displ", "cty")) |>
add_notes()
devtools::install_github("bartonicek/plotscape/packages/plotscaper")
library(plotscaper)
set_scene(ggplot2::mpg) |>
add_scatterplot(c("displ", "hwy")) |>
add_histogram(c("cty")) |>
add_barplot(c("manufacturer")) |>
add_fluctplot(c("class", "drv")) |>
add_parcoords(c("displ", "hwy", "cty")) |>
add_histogram2d(c("displ", "cty")) |>
add_notes()
p1 <- p0 + geom_bar(aes(fill = cyl1), width = 0.75)
p2 <- p0 + geom_bar(aes(fill = cyl2), width = 0.75)
p3 <- p0 + geom_bar(aes(fill = cyl3), width = 0.75)
library(ggplot2)
library(patchwork)
set.seed(12345)
mtcars$cyl1 <- factor(mtcars$cyl)
mtcars$cyl2 <- sample(mtcars$cyl)
mtcars$cyl3 <- sample(mtcars$cyl)
p0 <- ggplot(mtcars, aes(am)) +
scale_x_continuous(breaks = c(0, 1), expand = c(0.2, 0.2)) +
scale_y_continuous(breaks = seq(0, 24, by = 2), expand = c(0, 1)) +
scale_fill_brewer(palette = "Set2") +
guides(fill = "none") +
theme_bw() +
theme(panel.grid = element_blank())
plot_list <- list()
p1 <- p0 + geom_bar(aes(fill = cyl1), width = 0.75)
p2 <- p0 + geom_bar(aes(fill = cyl2), width = 0.75)
p3 <- p0 + geom_bar(aes(fill = cyl3), width = 0.75)
p4 <- p0 + geom_bar(aes(fill = cyl1), position = "dodge", width = 0.75)
p5 <- p0 + geom_bar(aes(fill = cyl2), position = "dodge", width = 0.75)
p6 <- p0 + geom_bar(aes(fill = cyl3), position = "dodge", width = 0.75)
(p1 + p2 + p3) / (p4 + p5 + p6)
p1 <- p0 + geom_bar(aes(fill = cyl1), width = 0.75)
p1
set.seed(12345)
mtcars$cyl1 <- factor(mtcars$cyl)
mtcars$cyl2 <- sample(mtcars$cyl)
mtcars$cyl3 <- sample(mtcars$cyl)
p0 <- ggplot(mtcars, aes(am)) +
scale_x_continuous(breaks = c(0, 1), expand = c(0.2, 0.2)) +
scale_y_continuous(breaks = seq(0, 24, by = 2), expand = c(0, 1)) +
scale_fill_brewer(palette = "Set2") +
guides(fill = "none") +
theme_bw() +
theme(panel.grid = element_blank())
p1 <- p0 + geom_bar(aes(fill = cyl1), width = 0.75)
p2 <- p0 + geom_bar(aes(fill = cyl2), width = 0.75)
p3 <- p0 + geom_bar(aes(fill = cyl3), width = 0.75)
p4 <- p0 + geom_bar(aes(fill = cyl1), position = "dodge", width = 0.75)
p5 <- p0 + geom_bar(aes(fill = cyl2), position = "dodge", width = 0.75)
p6 <- p0 + geom_bar(aes(fill = cyl3), position = "dodge", width = 0.75)
(p1 + p2 + p3) / (p4 + p5 + p6)
mtcars
p0 + geom_bar(aes(fill = cyl2))
mtcars$cyl2
library(ggplot2)
library(patchwork)
set.seed(12345)
mtcars$cyl1 <- factor(mtcars$cyl)
mtcars$cyl2 <- factor(sample(mtcars$cyl))
mtcars$cyl3 <- factor(sample(mtcars$cyl))
p0 <- ggplot(mtcars, aes(am)) +
scale_x_continuous(breaks = c(0, 1), expand = c(0.2, 0.2)) +
scale_y_continuous(breaks = seq(0, 24, by = 2), expand = c(0, 1)) +
scale_fill_brewer(palette = "Set2") +
guides(fill = "none") +
theme_bw() +
theme(panel.grid = element_blank())
p1 <- p0 + geom_bar(aes(fill = cyl1), width = 0.75)
p2 <- p0 + geom_bar(aes(fill = cyl2), width = 0.75)
p3 <- p0 + geom_bar(aes(fill = cyl3), width = 0.75)
p4 <- p0 + geom_bar(aes(fill = cyl1), position = "dodge", width = 0.75)
p5 <- p0 + geom_bar(aes(fill = cyl2), position = "dodge", width = 0.75)
p6 <- p0 + geom_bar(aes(fill = cyl3), position = "dodge", width = 0.75)
(p1 + p2 + p3) / (p4 + p5 + p6)
library(ggplot2)
library(patchwork)
set.seed(12345)
mtcars$cyl1 <- factor(mtcars$cyl)
mtcars$cyl2 <- factor(sample(mtcars$cyl))
mtcars$cyl3 <- factor(sample(mtcars$cyl))
p0 <- ggplot(mtcars, aes(am)) +
scale_x_continuous(breaks = c(0, 1), expand = c(0.2, 0.2)) +
scale_y_continuous(breaks = seq(0, 24, by = 2), expand = c(0, 1)) +
scale_fill_brewer(palette = "Set2") +
guides(fill = "none") +
theme_bw() +
theme(panel.grid = element_blank())
p <- list()
for (i in 1:3) {
p[[i]] <- p0 + geom_bar(aes(fill = .data[[paste0("cyl", i)]]), width = 0.75)
p[[2 * i]] <- p0 + geom_bar(aes(fill = .data[[paste0("cyl", i)]]),
position = "dodge", width = 0.75)
}
(p1 + p2 + p3) / (p4 + p5 + p6)
p <- list()
for (i in 1:3) {
p[[i]] <- p0 + geom_bar(aes(fill = .data[[paste0("cyl", i)]]), width = 0.75)
p[[2 * i]] <- p0 + geom_bar(aes(fill = .data[[paste0("cyl", i)]]),
position = "dodge", width = 0.75)
}
library(ggplot2)
library(patchwork)
set.seed(12345)
mtcars$cyl1 <- factor(mtcars$cyl)
mtcars$cyl2 <- factor(sample(mtcars$cyl))
mtcars$cyl3 <- factor(sample(mtcars$cyl))
p0 <- ggplot(mtcars, aes(am)) +
scale_x_continuous(breaks = c(0, 1), expand = c(0.2, 0.2)) +
scale_y_continuous(breaks = seq(0, 24, by = 2), expand = c(0, 1)) +
scale_fill_brewer(palette = "Set2") +
guides(fill = "none") +
theme_bw() +
theme(panel.grid = element_blank())
p <- list()
for (i in 1:3) {
p[[i]] <- p0 + geom_bar(aes(fill = .data[[paste0("cyl", i)]]), width = 0.75)
p[[2 * i]] <- p0 + geom_bar(aes(fill = .data[[paste0("cyl", i)]]),
position = "dodge", width = 0.75)
}
print(p)
(p[[1]] + p[[2]] + p[[3]]) / (p[[4]] + p[[5]] + p[[6]])
p0 +
geom_bar(aes(y = mpg, fill = cyl1), stat = "summary", fun = "mean") +
scale_y_continuous()
library(ggplot2)
library(patchwork)
set.seed(12345)
mtcars$cyl1 <- factor(mtcars$cyl)
mtcars$cyl2 <- factor(sample(mtcars$cyl)) # Randomly permute the `fill` factor
mtcars$cyl3 <- factor(sample(mtcars$cyl))
p0 <- ggplot(mtcars, aes(am)) +
scale_x_continuous(breaks = c(0, 1), expand = c(0.2, 0.2)) +
scale_y_continuous(breaks = seq(0, 24, by = 2), expand = c(0, 1)) +
scale_fill_brewer(palette = "Set2") +
guides(fill = "none") +
theme_bw() +
theme(panel.grid = element_blank())
p <- list()
for (i in 1:3) {
p[[i]] <- p0 + geom_bar(aes(fill = .data[[paste0("cyl", i)]]))
p[[3 + i]] <- p0 + geom_bar(aes(fill = .data[[paste0("cyl", i)]]),
position = "dodge")
}
(p[[1]] + p[[2]] + p[[3]]) / (p[[4]] + p[[5]] + p[[6]])
p0 +
geom_bar(aes(y = mpg, fill = cyl1), stat = "summary", fun = "mean") +
geom_bar(position = "stack") + # Just to highlight that we are, indeed, stacking
scale_y_continuous()
p0 +
geom_bar(aes(y = mpg, fill = cyl), stat = "summary", fun = "mean") +
geom_bar(position = "stack") + # Just to highlight that we are, indeed, stacking
scale_y_continuous()
p0 +
geom_bar(aes(y = mpg, fill = factor(cyl)), stat = "summary", fun = "mean") +
geom_bar(position = "stack") + # Just to highlight that we are, indeed, stacking
scale_y_continuous()
p0 +
geom_bar(aes(y = mpg, fill = cyl2), stat = "summary", fun = "mean") +
geom_bar(position = "stack") + # Just to highlight that we are, indeed, stacking
scale_y_continuous()
p0 +
geom_bar(aes(y = mpg, fill = cyl1), stat = "summary", fun = "mean") +
geom_bar(position = "stack") + # Just to highlight that we are, indeed, stacking
scale_y_continuous()
p0 +
geom_bar(aes(y = mpg, fill = cyl1), stat = "summary", fun = "mean") +
geom_bar(position = "stack") # Just to highlight that we are, indeed, stacking
scale_y_continuous()
mtcars
mtcars$cyl
mtcars$cyl1
p0 + geom_bar(aes(cyl1))
p0 + geom_bar(aes(x = cyl1))
p0 + geom_bar(aes(fill = cyl1))
p0 + geom_bar(aes(y = mpg, fill = cyl1))
p0 + geom_bar(aes(y = mpg, fill = cyl1), stat = "summary")
p0 + geom_bar(aes(y = mpg, fill = cyl1), stat = "summary", fun = "mean")
p0 + geom_bar(aes(y = mpg, fill = cyl1), stat = "summary", fun = "mean")
p0 +
geom_bar(aes(y = mpg, fill = cyl1), stat = "summary", fun = "mean") +
geom_bar(position = "stack")
p0 + geom_bar(aes(y = mpg, fill = cyl1), stat = "summary", fun = "mean")
15 * 60 + 22
install.packages("liminal")
limn_tour(fake_trees, dim1:dim10)
library(liminal)
limn_tour(fake_trees, dim1:dim10)
limn_tour(fake_trees, dim1:dim10)
limn_tour_link(
p_cl[,3:4],
penguins_cl,
cols = bl:bm,
color = cl_w
)
p_cl %>%
count(cl_w, cl_mc) %>%
pivot_wider(names_from = cl_mc,
values_from = n,
values_fill = 0) %>%
gt() %>%
tab_spanner(label = "cl_mc", columns=c(`2`, `3`, `1`)) %>%
cols_width(everything() ~ px(60))
library(ggplot2)
ggplot(iris, aes(x = Species, y = Sepal.Length)) +
geom_bar()
ggplot(iris, aes(x = Species, y = Sepal.Length)) +
geom_bar(stat = "summary", fun = "mean")
ggplot(iris, aes(x = Species, y = Sepal.Length)) +
geom_bar(stat = "summary", fun = mean)
ggplot(mtcars, aes(x = factor(cyl), y = mpg, fill = factor(am))) +
geom_bar(stat = "summary", fun = mean)
ggplot(mtcars, aes(x = factor(am), y = mpg, fill = factor(cyl))) +
geom_bar(stat = "summary", fun = mean) +
scale_fill_brewer(palette = "Set2") +
guides(fill = "none") +
theme_bw() +
theme(panel.grid = element_blank())
mtcars$am <- factor(mtcars$am)
mtcars$cyl <- factor(mtcars$cyl)
ggplot(mtcars, aes(x = am, y = mpg, fill = cyl)) +
geom_bar(stat = "summary", fun = mean) +
scale_fill_brewer(palette = "Set2") +
guides(fill = "none") +
theme_bw() +
theme(panel.grid = element_blank())
library(ggplot2)
mtcars$am <- factor(mtcars$am)
mtcars$cyl <- factor(mtcars$cyl)
ggplot(mtcars, aes(x = am, y = mpg, fill = cyl)) +
geom_bar(stat = "summary", fun = mean) +
scale_fill_brewer(palette = "Set2") +
guides(fill = "none") +
theme_bw() +
theme(panel.grid = element_blank())
ggplot(mtcars, aes(x = am, y = mpg, fill = cyl)) +
geom_bar(stat = "summary", fun = mean) +
scale_fill_brewer(palette = "Set2") +
theme_bw() +
theme(panel.grid = element_blank())
A <- rnorm(10)
B <- rnorm(10)
C <- rnorm(10)
A <- rnorm(10)
B <- rnorm(10)
C <- rnorm(10)
mean(c(A, B, C))
mean(mean(A), mean(B), mean(C))
c(sum(c(A, B, C)), sum(sum(A), sum(B), sum(C)))
library(ggplot2)
theme_set(theme_bw() + theme(panel.grid = element_blank()))
mtcars$am <- factor(mtcars$am)
mtcars$cyl <- factor(mtcars$cyl)
ggplot(mtcars, aes(x = am, y = mpg, fill = cyl)) +
geom_bar(stat = "summary", fun = mean) +
scale_fill_brewer(palette = "Set2")
ggplot(mtcars, aes(x = am, y = mpg, fill = cyl)) +
geom_bar(stat = "summary", fun = mean, position = "dodge") +
scale_fill_brewer(palette = "Set2")
library(patchwork)
set.seed(12345)
mtcars$cyl1 <- factor(mtcars$cyl)
mtcars$cyl2 <- factor(sample(mtcars$cyl))
mtcars$cyl3 <- factor(sample(mtcars$cyl))
p0 <- ggplot(mtcars, aes(am)) +
scale_y_continuous(breaks = seq(0, 24, by = 2), expand = c(0, 1)) +
scale_fill_brewer(palette = "Set2") +
guides(fill = "none")
p <- list()
for (i in 1:3) {
p[[i]] <- p0 + geom_bar(aes(fill = .data[[paste0("cyl", i)]]), width = 0.75)
p[[3 + i]] <- p0 + geom_bar(aes(fill = .data[[paste0("cyl", i)]]),
position = "dodge")
}
(p[[1]] + p[[2]] + p[[3]]) / (p[[4]] + p[[5]] + p[[6]])
wrap_plot(p, nrow = 2)
wrap_plots(p, nrow = 2)
library(patchwork)
set.seed(12345)
mtcars$cyl1 <- factor(mtcars$cyl)
mtcars$cyl2 <- factor(sample(mtcars$cyl))
mtcars$cyl3 <- factor(sample(mtcars$cyl))
mtcars$cyl4 <- factor(sample(mtcars$cyl))
p0 <- ggplot(mtcars, aes(am)) +
scale_y_continuous(breaks = seq(0, 24, by = 2), expand = c(0, 1)) +
scale_fill_brewer(palette = "Set2") +
guides(fill = "none")
p <- list()
for (i in 1:4) {
p[[i]] <- p0 + geom_bar(aes(fill = .data[[paste0("cyl", i)]]), width = 0.75)
p[[4 + i]] <- p0 + geom_bar(aes(fill = .data[[paste0("cyl", i)]]),
position = "dodge")
}
wrap_plots(p, nrow = 2)
p0 <- ggplot(mtcars, aes(am)) +
scale_y_continuous(breaks = seq(0, 24, by = 2), expand = c(0, 1)) +
scale_fill_brewer(palette = "Set2") +
labs(x = NULL, y = NULL) +
guides(fill = "none")
p <- list()
for (i in 1:4) {
p[[i]] <- p0 + geom_bar(aes(fill = .data[[paste0("cyl", i)]]), width = 0.75)
p[[4 + i]] <- p0 + geom_bar(aes(fill = .data[[paste0("cyl", i)]]),
position = "dodge")
}
wrap_plots(p, nrow = 2)
sum_initialfn <- function() 0
sum_reducefn <- function(x, y) x + y
sum_reducer <- list(
initialfn = function() 0,
reducefn = function(x, y) x + y
)
test_unitality <- function(reducer, value) {
reducer$reducefn(reducer$initialfn(), value) === value
test_unitality <- function(reducer, value) {
reducer$reducefn(reducer$initialfn(), value) == value
}
is_unital <- function(reducer, value) {
reducer$reducefn(reducer$initialfn(), value) == value
}
is_unital(sum_reducer, 5)
is_associative <- function(reducer, val1, val2, val3) {
rfn <- reducer$reducefn
rfn(val1, rfn(val2, val3)) == rfn(rfn(val1, val2), val3)
}
is_associative(sum_reducer, 1, 2, 3)
is_unital <- function(reducer, val) {
ifn <- reducer$initialfn
rfn <- reducer$reducefn
rfn(ifn(), val) == val
}
is_associative <- function(reducer, val1, val2, val3) {
rfn <- reducer$reducefn
rfn(val1, rfn(val2, val3)) == rfn(rfn(val1, val2), val3)
}
is_unital(sum_reducer, 5)
is_associative(sum_reducer, 1, 2, 3)
product_reducer <- list(
initialfn = function() 1,
reducefn = function(x, y) x * y
)
is_unital(product_reducer, 2)
is_associative(product_reducer, 1, 2, 3)
Reduce(sum_reducer$reducefn, c(1, 2, 3), sum_reducer$initialfn())
#| collapse: true
sum_r <- list(
initialfn = function() 0,
reducefn = function(x, y) x + y
)
sum_r$reducefn(sum_r$initialfn(), 5)
# Invalid exponentiation reducer
initialfn <- "???"
reducefn <- function(x, y) x^y
c(reducefn(2, reducefn(3, 4)),
reducefn(reducefn(2, 3), 4)
)
c(reducefn(1.1, reducefn(1.2, 1.3)),
reducefn(reducefn(1.1, 1.2), 1.3)
)
c(reducefn(1.5, reducefn(2, 2.5)),
reducefn(reducefn(1.5, 2), 2.5)
)
c(reducefn(2, reducefn(3, 2)),
reducefn(reducefn(2, 3), 2)
)
c(reducefn(1, reducefn(2, 3)),
reducefn(reducefn(1, 2), 3)
)
# Invalid mean reducer
initialfn <- function() "???" # To make mean(c, x) == x, we would need to know x
reducefn <- function(x, y) mean(x, y)
c(reducefn(1, reducefn(2, 3)),
reducefn(reducefn(1, 2), 3)
)
reducefn <- function(x, y) mean(x, y)
reducefn(2, 3)
reducefn(1, reducefn(2, 3))
reducefn <- function(x, y) (x + y) / 2
reducefn(1, reducefn(2, 3))
c(reducefn(1, reducefn(2, 3)),
reducefn(reducefn(1, 2), 3)
)
max(10, -Inf)
sacramento
library(plotscaper)
sacramento
sacramento$city <- tools::toTitleCase(sacramento$city)
sacramento$city
levels(sacramento$city) <- tools::toTitleCase(levels(sacramento$city))
usethis::use_data(sacramento)
usethis::use_data(sacramento, overwrite = TRUE)
devtools::install()
.rs.restartR()
devtools::document()
devtools::install()
devtools::install()
library(plotscaper)
sacramento
levels(sacramento$city) <- tools::toTitleCase(levels(sacramento$city))
usethis::use_data(sacramento, overwrite = TRUE)
devtools::load_all(
)
sacramento
levels(sacramento$city) <- tools::toTitleCase(levels(sacramento$city))
usethis::use_data(sacramento, overwrite = TRUE)
devtools::load_all(
)
sacramento
levels(sacramento$city) <- tools::toTitleCase(tolower(levels(sacramento$city)))
sacramento
usethis::use_data(sacramento, overwrite = TRUE)
devtools::install(
)
devtools::load_all()
sacramento
.rs.restartR()
library(plotscaper)
sacramento
library(plotscaper)
library(htmlwidgets)
reducer1 <- reducer(
initialfn = JS("() => -Infinity"),
reducefn = JS("(a, b) => Math.max(a, b)"),
name = "max"
)
set_scene(sacramento) |>
add_scatterplot(c("latitude", "longitude")) |>
add_barplot(c("city", "price"),
options(reducer = reducer1))
set_scene(ggplot2::mpg) |>
add_scatterplot(c("displ", "hwy")) |>
add_histogram(c("cty")) |>
add_barplot(c("manufacturer")) |>
add_fluctplot(c("class", "drv")) |>
add_parcoords(c("displ", "hwy", "cty")) |>
add_histogram2d(c("displ", "cty")) |>
add_notes()
library(ggplot2)
ggplot(mpg, aes(displ, mpg, size = cty)) +
geom_point()
ggplot(mpg, aes(displ, hwy, size = cty)) +
geom_point()
ggplot(mpg, aes(displ, hwy, size = cty)) +
geom_point() +
scale_size_area()
ggplot(mpg, aes(displ, hwy, size = cty)) +
geom_point()
ggplot(mpg, aes(displ, hwy, size = cty)) +
geom_point() +
scale_size_area()
