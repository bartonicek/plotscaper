var plotscape=function(exports){"use strict";var __vite_style__=document.createElement("style");__vite_style__.textContent=`*:where(.tailwind,.tailwind *),:before:where(.tailwind,.tailwind *),:after:where(.tailwind,.tailwind *){box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before:where(.tailwind,.tailwind *),:after:where(.tailwind,.tailwind *){--tw-content: ""}.tailwind{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}.tailwind{margin:0;line-height:inherit}hr:where(.tailwind,.tailwind *){height:0;color:inherit;border-top-width:1px}abbr:where([title]):where(.tailwind,.tailwind *){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1:where(.tailwind,.tailwind *),h2:where(.tailwind,.tailwind *),h3:where(.tailwind,.tailwind *),h4:where(.tailwind,.tailwind *),h5:where(.tailwind,.tailwind *),h6:where(.tailwind,.tailwind *){font-size:inherit;font-weight:inherit}a:where(.tailwind,.tailwind *){color:inherit;text-decoration:inherit}b:where(.tailwind,.tailwind *),strong:where(.tailwind,.tailwind *){font-weight:bolder}code:where(.tailwind,.tailwind *),kbd:where(.tailwind,.tailwind *),samp:where(.tailwind,.tailwind *),pre:where(.tailwind,.tailwind *){font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small:where(.tailwind,.tailwind *){font-size:80%}sub:where(.tailwind,.tailwind *),sup:where(.tailwind,.tailwind *){font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub:where(.tailwind,.tailwind *){bottom:-.25em}sup:where(.tailwind,.tailwind *){top:-.5em}table:where(.tailwind,.tailwind *){text-indent:0;border-color:inherit;border-collapse:collapse}button:where(.tailwind,.tailwind *),input:where(.tailwind,.tailwind *),optgroup:where(.tailwind,.tailwind *),select:where(.tailwind,.tailwind *),textarea:where(.tailwind,.tailwind *){font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button:where(.tailwind,.tailwind *),select:where(.tailwind,.tailwind *){text-transform:none}button:where(.tailwind,.tailwind *),input:where([type=button]):where(.tailwind,.tailwind *),input:where([type=reset]):where(.tailwind,.tailwind *),input:where([type=submit]):where(.tailwind,.tailwind *){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring:where(.tailwind,.tailwind *){outline:auto}:-moz-ui-invalid:where(.tailwind,.tailwind *){box-shadow:none}progress:where(.tailwind,.tailwind *){vertical-align:baseline}::-webkit-inner-spin-button:where(.tailwind,.tailwind *),::-webkit-outer-spin-button:where(.tailwind,.tailwind *){height:auto}[type=search]:where(.tailwind,.tailwind *){-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration:where(.tailwind,.tailwind *){-webkit-appearance:none}::-webkit-file-upload-button:where(.tailwind,.tailwind *){-webkit-appearance:button;font:inherit}summary:where(.tailwind,.tailwind *){display:list-item}blockquote:where(.tailwind,.tailwind *),dl:where(.tailwind,.tailwind *),dd:where(.tailwind,.tailwind *),h1:where(.tailwind,.tailwind *),h2:where(.tailwind,.tailwind *),h3:where(.tailwind,.tailwind *),h4:where(.tailwind,.tailwind *),h5:where(.tailwind,.tailwind *),h6:where(.tailwind,.tailwind *),hr:where(.tailwind,.tailwind *),figure:where(.tailwind,.tailwind *),p:where(.tailwind,.tailwind *),pre:where(.tailwind,.tailwind *){margin:0}fieldset:where(.tailwind,.tailwind *){margin:0;padding:0}legend:where(.tailwind,.tailwind *){padding:0}ol:where(.tailwind,.tailwind *),ul:where(.tailwind,.tailwind *),menu:where(.tailwind,.tailwind *){list-style:none;margin:0;padding:0}dialog:where(.tailwind,.tailwind *){padding:0}textarea:where(.tailwind,.tailwind *){resize:vertical}input::-moz-placeholder:where(.tailwind,.tailwind *),textarea::-moz-placeholder:where(.tailwind,.tailwind *){opacity:1;color:#9ca3af}input::placeholder:where(.tailwind,.tailwind *),textarea::placeholder:where(.tailwind,.tailwind *){opacity:1;color:#9ca3af}button:where(.tailwind,.tailwind *),[role=button]:where(.tailwind,.tailwind *){cursor:pointer}:disabled:where(.tailwind,.tailwind *){cursor:default}img:where(.tailwind,.tailwind *),svg:where(.tailwind,.tailwind *),video:where(.tailwind,.tailwind *),canvas:where(.tailwind,.tailwind *),audio:where(.tailwind,.tailwind *),iframe:where(.tailwind,.tailwind *),embed:where(.tailwind,.tailwind *),object:where(.tailwind,.tailwind *){display:block;vertical-align:middle}img:where(.tailwind,.tailwind *),video:where(.tailwind,.tailwind *){max-width:100%;height:auto}[hidden]:where(.tailwind,.tailwind *){display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }.container{width:100%}@media (min-width: 640px){.container{max-width:640px}}@media (min-width: 768px){.container{max-width:768px}}@media (min-width: 1024px){.container{max-width:1024px}}@media (min-width: 1280px){.container{max-width:1280px}}@media (min-width: 1536px){.container{max-width:1536px}}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.left-0{left:0}.right-0{right:0}.top-0{top:0}.z-0{z-index:0}.z-10{z-index:10}.z-30{z-index:30}.z-50{z-index:50}.m-1{margin:.25rem}.inline-block{display:inline-block}.flex{display:flex}.table{display:table}.grid{display:grid}.hidden{display:none}.size-full{width:100%;height:100%}.h-5\\/6{height:83.333333%}.h-full{height:100%}.h-screen{height:100vh}.w-5\\/6{width:83.333333%}.w-8{width:2rem}.w-fit{width:-moz-fit-content;width:fit-content}.w-full{width:100%}.shrink{flex-shrink:1}.grow{flex-grow:1}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.resize{resize:both}.grid-cols-1{grid-template-columns:repeat(1,minmax(0,1fr))}.grid-rows-1{grid-template-rows:repeat(1,minmax(0,1fr))}.flex-row{flex-direction:row}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.content-center{align-content:center}.items-center{align-items:center}.justify-start{justify-content:flex-start}.justify-center{justify-content:center}.gap-5{gap:1.25rem}.rounded{border-radius:.25rem}.rounded-md{border-radius:.375rem}.rounded-bl-md{border-bottom-left-radius:.375rem}.border{border-width:1px}.border-gray-400{--tw-border-opacity: 1;border-color:rgb(156 163 175 / var(--tw-border-opacity))}.border-b-black{--tw-border-opacity: 1;border-bottom-color:rgb(0 0 0 / var(--tw-border-opacity))}.border-l-black{--tw-border-opacity: 1;border-left-color:rgb(0 0 0 / var(--tw-border-opacity))}.bg-\\[\\#deded9\\]{--tw-bg-opacity: 1;background-color:rgb(222 222 217 / var(--tw-bg-opacity))}.bg-gray-100{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity))}.bg-gray-300{--tw-bg-opacity: 1;background-color:rgb(209 213 219 / var(--tw-bg-opacity))}.bg-gray-400{--tw-bg-opacity: 1;background-color:rgb(156 163 175 / var(--tw-bg-opacity))}.bg-gray-50{--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity))}.bg-slate-200{--tw-bg-opacity: 1;background-color:rgb(226 232 240 / var(--tw-bg-opacity))}.bg-slate-800{--tw-bg-opacity: 1;background-color:rgb(30 41 59 / var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-opacity-80{--tw-bg-opacity: .8}.p-1{padding:.25rem}.p-10{padding:2.5rem}.px-2{padding-left:.5rem;padding-right:.5rem}.px-3{padding-left:.75rem;padding-right:.75rem}.py-10{padding-top:2.5rem;padding-bottom:2.5rem}.text-center{text-align:center}.font-mono{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace}.text-sm{font-size:.875rem;line-height:1.25rem}.uppercase{text-transform:uppercase}.lowercase{text-transform:lowercase}.capitalize{text-transform:capitalize}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline-none{outline:2px solid transparent;outline-offset:2px}.outline{outline-style:solid}.outline-2{outline-width:2px}.outline-slate-600{outline-color:#475569}.drop-shadow-md{--tw-drop-shadow: drop-shadow(0 4px 3px rgb(0 0 0 / .07)) drop-shadow(0 2px 2px rgb(0 0 0 / .06));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.hover\\:bg-gray-400:hover{--tw-bg-opacity: 1;background-color:rgb(156 163 175 / var(--tw-bg-opacity))}.hover\\:bg-gray-500:hover{--tw-bg-opacity: 1;background-color:rgb(107 114 128 / var(--tw-bg-opacity))}.hover\\:bg-slate-200:hover{--tw-bg-opacity: 1;background-color:rgb(226 232 240 / var(--tw-bg-opacity))}
`,document.head.appendChild(__vite_style__);const NAME=Symbol("name"),LENGTH=Symbol("length"),MIN=Symbol("min"),MAX=Symbol("max"),QUERYABLE=Symbol("queryable"),PARENTVALUES=Symbol("parentValues"),keyToSymbolMap={name:NAME,length:LENGTH,min:MIN,max:MAX,queryable:QUERYABLE,parent:PARENTVALUES};var Meta;(e=>{function t(a,u){return!!a[keyToSymbolMap[u]]}e.has=t;function n(a,u){return u==="length"&&Array.isArray(a)?a.length:a[keyToSymbolMap[u]]}e.get=n;function o(a,u){const h=[];for(let i=0;i<u.length;i++)h.push(n(a,u[i]));return h}e.getN=o;function l(a,u,h){a[keyToSymbolMap[u]]=h}e.set=l;function r(a,u,h){for(let i=0;i<u.length;i++)l(a,u[i],h[i])}e.setN=r;function d(a,u,h){const i=h??Object.keys(keyToSymbolMap);for(const s of i)a[keyToSymbolMap[s]]=n(u,s)}e.copy=d})(Meta||(Meta={}));function identity(e){return e}const just=e=>()=>e,zero=just(0),one=just(1);function inc(e){return e+1}function dec(e){return e-1}function call(e){return e()}function square(e){return e**2}const sqrt=Math.sqrt,log10=Math.log10;function exp10(e){return 10**e}const max=Math.max;function diff(e,t){return e-t}function sum(e,t){return e+t}function prod(e,t){return e*t}function trunc(e,t=0,n=1){return Math.min(Math.max(e,t),n)}function rangeInverse(e,t){return 1/(t-e)}function invertRange(e,t){const n=rangeInverse(e,t);return[-e*n,n-e*n]}function round(e,t=0){return Math.round(e*10**t)/10**t}function compareAlphaNumeric(e,t){return e.localeCompare(t,"en",{numeric:!0})}function capitalize(e){return e.charAt(0).toUpperCase()+e.slice(1)}function toLowerCase(e){return e.toLocaleLowerCase()}function toUpperCase(e){return e.toLocaleUpperCase()}function stripWS(e){return e.replace(/\s/g,"")}function last(e){return e[e.length-1]}function rep(e,t){return Array(t).fill(e)}function seq(e,t,n){const o=Math.abs(t-e);n=n??Math.ceil(o)+1;const l=o/(n-1),r=t>=e?1:-1;return Array.from(Array(n),(d,a)=>e+r*l*a)}function subset(e,t){const n=Array(t.length);for(let o=0;o<t.length;o++)n[o]=e[t[o]];return n}function remove(e,t){const n=e.indexOf(t);n!==-1&&e.splice(n,1)}function ordered(e,t){const n=Array(t.length);for(let o=0;o<t.length;o++)n[t[o]]=e[o];return n}function orderIndices(e){const t=e.toSorted(diff),n={},o={};for(let l=0;l<t.length;l++){const r=e[l];o[r]=o[r]+1||0,n[l]=t.indexOf(r)+o[r]}return Object.values(n)}function orderBy(e,t){const n=Array(e.length);for(let o=0;o<e.length;o++)n[o]=e[t[o]];for(let o=0;o<e.length;o++)e[o]=n[o]}function orderIndicesByTable(e,t){const n=Array(e.length);for(let o=0;o<e.length;o++)n[o]=t.indexOf(e[o]);return n}function minmax(e){let[t,n]=[1/0,-1/0];for(let o=0;o<e.length;o++)t=Math.min(t,e[o]),n=Math.max(n,e[o]);return[t,n]}function cumsum(e){const t=Array(e.length);t[0]=e[0];for(let n=1;n<e.length;n++)t[n]=e[n]+t[n-1];return t}function randomInteger(e,t){return Math.floor(e+Math.random()*t)}function uniqueIntegers(e,t,n=t-e){const o=t-e,l=[],r=new Set;for(;l.length<Math.min(n,o);){let d=randomInteger(e,t);for(;r.has(d);)d=randomInteger(e,t);l.push(d),r.add(d)}return l}async function fetchJSON(e){return await(await fetch(e)).json()}function merge(e,t){return{...e,...t}}function copyValues(e,t){if(e!==t){if(isTypedArray(e)&&isTypedArray(t))t.set(e);else if(isArray(e)&&isArray(t)){t.length=e.length;for(let n=0;n<e.length;n++)t[n]=e[n]}}}function copyProps(e,t){for(const[n,o]of Object.entries(e))isArray(o)&&isArray(e[n])?copyValues(o,e[n]):t[n]=o}function applyDirection(e,t){return .5*(1-t)+t*e}function prettyBreaks(e,t,n=4){const o=(t-e)/n,l=Math.floor(Math.log10(o)),r=[1,2,4,5,10];let[d,a]=[1/0,0];for(let g=0;g<r.length;g++){const p=(r[g]*10**l-o)**2;p<d&&([d,a]=[p,r[g]])}const u=10**l*a,h=Math.ceil(e/u)*u,i=Math.floor(t/u)*u,s=Math.round((i-h)/u),c=[];for(let g=0;g<s+1;g++){const p=h+g*u;c.push(p)}return c}function binBreaks(e,t){let{width:n,anchor:o,nBins:l}=t||{};const[r,d]=minmax(e),a=d-r;l=l??(n?Math.ceil(a/n)+1:10),n=n??a/(l-1),o=o??r;const u=r-n+(o-r)%n,h=d+n-(d-o)%n,i=Array(l+2);i[0]=u,i[i.length-1]=h;for(let s=1;s<i.length-1;s++)i[s]=u+s*n;return i}function addTailwind(e,t){for(const n of t.split(" "))e.classList.add(n)}function removeTailwind(e,t){for(const n of t.split(" "))e.classList.remove(n)}function throttle(e,t){let n=0;return function(...o){const l=new Date().getTime();l-n<t||(n=l,e(...o))}}function timeExecution(e){const t=performance.now();return e(),performance.now()-t}function segmentToPointVec(e){const[t,n,o,l]=e;return[t,n,o-t,l-n]}function inRange(e,t,n){return!(e<t)&&!(e>n)}function segmentsIntersect(e,t){let[n,o,l,r]=segmentToPointVec(e),[d,a,u,h]=segmentToPointVec(t);const i=u*r-l*h,s=((n-d)*r-(o-a)*l)/i,c=-(-(n-d)*h+(o-a)*u)/i;return inRange(s,0,1)&&inRange(c,0,1)}function rectSegmentIntersect(e,t){const[n,o,l,r]=e;return segmentsIntersect([n,o,l,o],t)||segmentsIntersect([n,o,n,r],t)||segmentsIntersect([l,o,l,r],t)||segmentsIntersect([n,r,l,r],t)}function pointInRect(e,t){const[n,o]=e,[l,r,d,a]=t;return!(n<l||n>d||o<r||o>a)}function rectsIntersect(e,t){const[n,o]=[e[0],e[2]].sort(diff),[l,r]=[e[1],e[3]].sort(diff),[d,a]=[t[0],t[2]].sort(diff),[u,h]=[t[1],t[3]].sort(diff);return!(o<d||n>a||r<u||l>h)}function addIndexed(e,t,n){const l=Object.keys(e).filter(a=>a.replace(/[0-9]*$/,"")===t);if(l.length===0){e[`${t}1`]=n;return}const r=l.map(a=>parseInt(a.match(/[0-9]*$/)[0],10)),d=Math.max(...r);e[`${t}${d+1}`]=n}function minDecimal(e){let t=1/0;for(let n=0;n<e.length;n++)e[n]!==0&&(t=Math.min(t,Math.log10(Math.abs(e[n]))));return t>3?0:Math.floor(Math.abs(t))+2}function formatText(e,t={lowercase:!0,capitalize:!0,split:!0}){return t!=null&&t.split&&(e=e.replace(/_/g," ")),t!=null&&t.lowercase&&(e=e.toLocaleLowerCase()),t!=null&&t.capitalize&&(e=capitalize(e)),e}function formatLabel(e){if(typeof e=="string")return e;if(e===0)return e.toString();const t=Math.floor(Math.log10(Math.abs(e)));return t>=3?round(e).toString():t<=-3?round(e,-t+1).toString():round(e,2).toString()}function formatAxisLabels(e,t){if(!isNumberArray(e))return e;const n=(t==null?void 0:t.tens)??4,o=a=>a!=0&&Math.abs(Math.log10(a))>n,l=(t==null?void 0:t.decimals)??minDecimal(e);e=e.map(a=>round(a,l));const d=minmax(e).some(o)?superscriptFn:noSuperscriptFn;return e.map(d)}function superscriptFn(e){return e===0?"0":exponentialToSuperscript(e.toExponential())}function noSuperscriptFn(e){return e===0?"0":parseFloat(e.toPrecision(12)).toString()}function exponentialToSuperscript(e){let[t,n]=e.split("e");return n=convertToSuperscript(n),t+"×10"+n}const sups={"-":"⁻","+":"",0:"⁰",1:"¹",2:"²",3:"³",4:"⁴",5:"⁵",6:"⁶",7:"⁷",8:"⁸",9:"⁹"};function convertToSuperscript(e){return e.split("").map(t=>sups[t]).join("")}function isDefined(e){return e!=null}const primitives=["string","number","boolean","undefined"];function isPrimitive(e){return e===null||primitives.includes(typeof e)}const isArray=Array.isArray;function isObject(e){return typeof e=="object"&&e!==null}function isTypedArray(e){return ArrayBuffer.isView(e)}function isNumber(e){return typeof e=="number"}function isIntegerString(e){return/^[0-9]+/.test(e)}function isNumberArray(e){return typeof e[0]=="number"&&typeof last(e)=="number"}function isStringArray(e){return typeof e[0]=="string"&&typeof last(e)=="string"}function isEventTarget(e){return"addEventListener"in e}function findLength(e){for(const n of e){if(!n)continue;const o=Meta.get(n,"length");if(o)return o}const t="At least one variable needs to be of fixed length";throw new Error(t)}function applyWith(...e){return function(t){return t(...e)}}function row(e,t){const n={};for(const[o,l]of Object.entries(e))n[o]=Getter.of(l)(t);return n}function selector(e){return function(t){return t[e]}}function keysToSelectors(e){return function(t){return e.map(n=>t[n])}}function splitNumericSuffix(e){let t=e.length-1;for(;t>0&&/[0-9]/.test(e[t]);)t--;return t+=1,[e.substring(0,t),e.substring(t,e.length)]}function filterIndices(e,t){const n=[];for(let o=0;o<e.length;o++)t(e[o])&&n.push(o);return n}function stringArraysMatch(e,t){if(e.length!==t.length)return!1;const n=e.toSorted(compareAlphaNumeric).join(""),o=t.toSorted(compareAlphaNumeric).join("");return n===o}function clearNodeChildren(e){e.innerHTML=""}var Getter;(e=>{function t(r){if(typeof r=="function")return r;if(isArray(r)){const d=a=>r[a];return Meta.set(d,"length",r.length),d}if(isTypedArray(r)){const d=a=>r[a];return Meta.set(d,"length",r.length),d}return()=>r}e.of=t;function n(r){return()=>r}e.constant=n;function o(r,d){const a=e.of(r),u=h=>a(d[h]);return isObject(r)&&Meta.copy(u,r),Meta.set(u,"length",d.length),u}e.proxy=o;function l(r){const d=r.map(e.of),a=u=>d.map(h=>h(u));return Meta.copy(a,r[0],["length"]),a}e.multi=l})(Getter||(Getter={}));var Direction=(e=>(e[e.Forwards=1]="Forwards",e[e.Backwards=-1]="Backwards",e))(Direction||{}),VAnchor=(e=>(e[e.Middle=.5]="Middle",e[e.Top=1]="Top",e[e.Bottom=0]="Bottom",e))(VAnchor||{}),HAnchor=(e=>(e[e.Center=.5]="Center",e[e.Left=1]="Left",e[e.Right=0]="Right",e))(HAnchor||{}),MouseButton=(e=>(e[e.Left=0]="Left",e[e.Right=2]="Right",e))(MouseButton||{});const dataLayers=[0,1,2,3,4,5,6,7],baseLayers=[4,5,6,7];var Frame;(e=>{function t(f,x){if(!isCanvas(f))throw new Error("Node must be a HTML5 canvas element");const y=f.getContext("2d"),{clientWidth:b,clientHeight:S,clientLeft:k,clientTop:z}=f,v=b-k,A=S-z;return{canvas:f,context:y,width:v,height:A,margins:[0,0,0,0],scalingFactor:2,contextProps:{},options:x}}e.of=t;function n(f,x){x.appendChild(f.canvas),f.parent=x}e.append=n;function o(f,x){for(const[y,b]of Object.entries(x))f.contextProps[y]=b,f.context[y]=b}e.setContext=o;function l(f){const{context:x,canvas:y,scalingFactor:b}=f,{clientWidth:S,clientHeight:k,clientLeft:z,clientTop:v}=y,A=S-z,w=k-v;f.width=A,f.height=w,f.canvas.width=A*b,f.canvas.height=w*b;for(const[M,_]of Object.entries(f.contextProps))f.context[M]=_;x.scale(b,b),e.clip(f)}e.resize=l;function r(f){const{context:x}=f;let{width:y,height:b}=f;const[S,k,z,v]=f.margins;y=Math.max(y-k-v,0),b=Math.max(b-z-S,0),x.beginPath(),x.rect(k,z,y,b),x.clip()}e.clip=r;function d(f){f.context.clearRect(0,0,f.width,f.height)}e.clear=d;function a(f,x){f.context.globalAlpha=x(f.context.globalAlpha)}e.setAlpha=a;function u(f){f.context.globalAlpha=1}e.resetAlpha=u;function h(f,x){return f.context.measureText(x).width}e.textWidth=h;function i(f,x){const y=f.context.measureText(x);return y.actualBoundingBoxAscent+y.actualBoundingBoxDescent}e.textHeight=i;function s(f,x,y,b=f.options.size,S){const{context:k}=f,z=f.canvas.clientHeight,v=(S==null?void 0:S.hAnchor)??HAnchor.Center,A=(S==null?void 0:S.vAnchor)??VAnchor.Middle;x=x+2*(v-.5)*b,y=z-y+2*(.5-A)*b,k.beginPath(),k.arc(x,y,b,0,Math.PI*2),k.fill()}e.point=s;function c(f,x,y,b,S){const{context:k,height:z}=f;k.fillRect(x,z-y,b-x,y-S)}e.rectangleXY=c;function g(f,x,y,b,S,k){const{context:z,height:v}=f,A=(k==null?void 0:k.hAnchor)??HAnchor.Center,w=(k==null?void 0:k.vAnchor)??VAnchor.Middle;x=x-A*b,y=v-y+w*S,z.fillRect(x,y,b,-S)}e.rectangleWH=g;function p(f,x,y){const{context:b,height:S}=f;b.beginPath(),b.moveTo(x[0],S-y[0]);for(let k=0;k<x.length;k++)b.lineTo(x[k],S-y[k]);b.stroke()}e.line=p;function m(f,x,y,b,S){const{context:k,height:z}=f;k.save(),k.translate(x,z-y),S!=null&&S.vertical&&k.rotate(-Math.PI/2),k.fillText(b,0,0),k.translate(-x,-(z-y)),k.restore()}e.text=m})(Frame||(Frame={}));function isCanvas(e){return e.nodeName==="CANVAS"}const LISTENERS=Symbol("listeners"),DEFERRED=Symbol("deferred");var Reactive;(e=>{function t(){return function(i){return{...i,[LISTENERS]:{},[DEFERRED]:{}}}}e.of=t;function n(i){return i[LISTENERS]!==void 0}e.is=n;function o(i,s,c,g){g!=null&&g.throttle&&(c=throttle(c,g.throttle));const p=g!=null&&g.defer?i[DEFERRED]:i[LISTENERS];p[s]||(p[s]=[]),p[s].includes(c)||p[s].push(c)}e.listen=o;function l(i,s,c){const[g,p]=[i[LISTENERS][s],i[DEFERRED][s]];if(g)for(const m of g)m(c);if(p)for(const m of p)m(c)}e.dispatch=l;function r(i,s,c){const g=()=>e.dispatch(s,c);e.listen(i,c,g,{defer:!0})}e.propagate=r;function d(i,s){s(i),e.dispatch(i,"changed")}e.set=d;function a(i,s,c){const[g,p]=[i[LISTENERS][s],i[DEFERRED][s]];g&&remove(g,c),p&&remove(p,c)}e.remove=a;function u(i,s){const[c,g]=[i[LISTENERS][s],i[DEFERRED][s]];if(c)for(const p of c)remove(c,p);if(g)for(const p of g)remove(g,p)}e.removeAll=u;function h(i){const[s,c]=[i[LISTENERS],i[DEFERRED]];if(s)for(const g of Object.values(s))g.length=0;if(c)for(const g of Object.values(c))g.length=0}e.removeAllListeners=h})(Reactive||(Reactive={}));var ExpanseBand;(e=>{function t(s=[],c){const g="",p="band",m=exports.Expanse.base(c),{zero:f,one:x,direction:y}=m,b=Array.from(Array(s.length),(A,w)=>w),S=(c==null?void 0:c.weights)??Array(s.length).fill(1),k=cumsum(S),z=!1,v={ordered:z,labels:[...s],order:[...b],weights:[...S],cumulativeWeights:[...k],zero:f,one:x,direction:y};return{value:g,type:p,ordered:z,labels:s,order:b,weights:S,cumulativeWeights:k,...m,defaults:v}}e.of=t;function n(s,c){const{order:g,cumulativeWeights:p}=s;c=g[c];const m=p[c-1]??0,f=p[c],x=last(p);return(m+f)/2/x}function o(s,c){if(c=c??Array(s.labels.length).fill(1),c.length!=s.labels.length){const m="The length of the weights must match the length of labels";throw new Error(m)}const{order:g}=s,p=cumsum(ordered(c,g));copyValues(c,s.weights),copyValues(c,s.defaults.weights),copyValues(p,s.cumulativeWeights),copyValues(p,s.defaults.cumulativeWeights),Reactive.dispatch(s,"changed")}e.setWeights=o;function l(s,c){const{labels:g,zero:p,one:m,direction:f}=s,x=g.indexOf(c);if(x===-1)throw new Error(`Label ${c} not found in: ${g}`);const y=n(s,x),b=p+y*(m-p);return applyDirection(b,f)}e.normalize=l;function r(s,c){const{labels:g,zero:p,one:m,direction:f}=s;c=applyDirection(c,f);const x=(c-p)/(m-p),y=Math.round((2*x*g.length-1)/2);return g[y]}e.unnormalize=r;function d(s,c,g){const{order:p}=s,m=Array.from(new Set(c)).sort(compareAlphaNumeric);if(!p.length){for(let b=0;b<m.length;b++)p[b]=b;s.defaults.order=[...p],s.ordered=!1}const f=Array(m.length).fill(1),x=cumsum(ordered(f,p)),y={labels:m,weights:f,cumulativeWeights:x};for(const[b,S]of Object.entries(y))isArray(s[b])&&copyValues(S,s[b]),g!=null&&g.default&&copyValues(S,s.defaults[b])}e.train=d;function a(s,c){const{order:g,weights:p,cumulativeWeights:m,defaults:f}=s;if(!c){copyValues(f.order,g),copyValues(cumsum(ordered(p,g)),m),s.ordered=!1,Reactive.dispatch(s,"changed");return}copyValues(c,g),copyValues(cumsum(ordered(p,c)),m),s.ordered=!0,Reactive.dispatch(s,"changed")}e.reorder=a;function u(s){return ordered(s.labels,s.order)}e.breaks=u;function h(){return!1}e.isContinuous=h;function i(){return!0}e.isDiscrete=i})(ExpanseBand||(ExpanseBand={}));var ExpanseContinuous;(e=>{function t(a=0,u=1,h){const s="continuous",c=exports.Expanse.base(h),[g,p]=[identity,identity],m=(h==null?void 0:h.scale)??1,f=(h==null?void 0:h.mult)??1,x=(h==null?void 0:h.offset)??0,y=(h==null?void 0:h.ratio)??!1,b={min:a,max:u,scale:m,mult:f,...c,offset:x,trans:g,inv:p};return{value:0,type:s,min:a,max:u,scale:m,mult:f,offset:x,ratio:y,...c,trans:g,inv:p,defaults:b}}e.of=t;function n(a,u){const{min:h,max:i,zero:s,one:c}=a,{direction:g,scale:p,mult:m,offset:f,trans:x}=a;u=u/(p*m)-f;const y=x(i)-x(h);let b=(x(u-f)-x(h))/y;return b=s+b*(c-s),applyDirection(b,g)}e.normalize=n;function o(a,u){const{min:h,max:i,zero:s,one:c}=a,{scale:g,mult:p,offset:m,trans:f,inv:x}=a,y=(u-s)/(c-s),b=f(i)-f(h);return x(f(h)+y*b)*(g*p)+m}e.unnormalize=o;function l(a){const{min:u,max:h}=a;return h-u}e.range=l;function r(a,u,h){let[i,s]=Meta.getN(u,["min","max"]);(!i||!s)&&([i,s]=minmax(u)),i=a.ratio||h!=null&&h.ratio?0:i,exports.Expanse.set(a,c=>(c.min=i,c.max=s),h)}e.train=r;function d(a,u=4){const[h,i]=[0,1].map(c=>e.unnormalize(a,c)).sort(diff);return prettyBreaks(h,i,u)}e.breaks=d})(ExpanseContinuous||(ExpanseContinuous={}));var ExpanseCompound;(e=>{function t(a=[],u){const h=[],i="compound",s=exports.Expanse.continuous(0,1,u),{zero:c,one:g,direction:p}=s,m={zero:c,one:g,direction:p};for(const x of a)Object.assign(x,{zero:c,one:g,direction:p}),Object.assign(x.defaults,{zero:c,one:g,direction:p});const f={expanses:a,...s,value:h,type:i,defaults:m};return Reactive.listen(f,"changed",()=>{const{zero:x,one:y,direction:b}=f;for(const S of a)Object.assign(S,{zero:x,one:y,direction:b}),Object.assign(S.defaults,{zero:x,one:y,direction:b})}),f}e.of=t;function n(a,u){const{expanses:h}=a;return u.map((i,s)=>exports.Expanse.normalize(h[s],i))}e.normalize=n;function o(a,u){const{expanses:h}=a;return u.map((i,s)=>exports.Expanse.unnormalize(h[s],i))}e.unnormalize=o;function l(a,u){const{expanses:h}=a;if(u.length!=h.length){const i="The number of arrays does not match the number of expanses.";throw new Error(i)}for(let i=0;i<u.length;i++)exports.Expanse.train(h[i],u[i])}e.train=l;function r(a){return ExpanseContinuous.breaks(a)}e.breaks=r;function d(a){for(const u of a.expanses)exports.Expanse.restoreDefaults(u)}e.restoreDefaults=d})(ExpanseCompound||(ExpanseCompound={}));var ExpansePoint;(e=>{function t(a=[],u){const h="",i="point",s=exports.Expanse.base(u),{zero:c,one:g,direction:p}=s,m=Array.from(Array(a.length),(y,b)=>b),f=!1,x={ordered:f,labels:[...a],order:[...m],zero:c,one:g,direction:p};return{value:h,type:i,ordered:f,labels:a,order:m,...s,defaults:x}}e.of=t;function n(a,u){const{labels:h,order:i,zero:s,one:c,direction:g}=a,p=i[h.indexOf(u)];if(p===-1)return p;const m=s+p/(h.length-1)*(c-s);return applyDirection(m,g)}e.normalize=n;function o(a,u){const{labels:h,order:i,zero:s,one:c,direction:g}=a;u=applyDirection(u,g);const p=(u-s)/(c-s),m=Math.round(p*(h.length-1));return h[i[m]]}e.unnormalize=o;function l(a,u,h){const{order:i}=a,s=Array.from(new Set(u)).sort(compareAlphaNumeric);if(!i.length){for(let c=0;c<s.length;c++)i[c]=c;a.defaults.order=[...i],a.ordered=!1}copyValues(s,a.labels),h!=null&&h.default&&copyValues(s,a.defaults.labels)}e.train=l;function r(a,u){const{order:h,defaults:i}=a;if(!u){copyValues(i.order,h),a.ordered=!1,Reactive.dispatch(a,"changed");return}copyValues(u,h),a.ordered=!0,Reactive.dispatch(a,"changed")}e.reorder=r;function d(a){return ordered(a.labels,a.order)}e.breaks=d})(ExpansePoint||(ExpansePoint={}));var ExpanseSplit;(e=>{function t(d){const a=[],u="split",h=d.type;return{...d,value:a,type:u,innerType:h}}e.of=t;function n(d,a){return isArray(a)?a.map(u=>exports.Expanse.methods[d.innerType].normalize(d,u)):exports.Expanse.methods[d.innerType].normalize(d,a)}e.normalize=n;function o(d,a){return isArray(a)?a.map(u=>exports.Expanse.methods[d.innerType].unnormalize(d,u)):exports.Expanse.methods[d.innerType].unnormalize(d,a)}e.unnormalize=o;function l(d,a){exports.Expanse.methods[d.innerType].train(d,a)}e.train=l;function r(d){return exports.Expanse.methods[d.innerType].breaks(d)}e.breaks=r})(ExpanseSplit||(ExpanseSplit={})),exports.Expanse=void 0,(e=>{e.methods={continuous:ExpanseContinuous,point:ExpansePoint,band:ExpanseBand,compound:ExpanseCompound,split:ExpanseSplit},e.continuous=ExpanseContinuous.of,e.point=ExpansePoint.of,e.band=ExpanseBand.of,e.compound=ExpanseCompound.of,e.split=ExpanseSplit.of;function t(v){const A=(v==null?void 0:v.zero)??0,w=(v==null?void 0:v.one)??1,M=(v==null?void 0:v.direction)??Direction.Forwards,_=[],E=[];return Reactive.of()({zero:A,one:w,direction:M,frozen:_,linked:E})}e.base=t;function n(v,A,w){const{linked:M,frozen:_}=v,E={...v};if(A(E),!(w!=null&&w.unfreeze))for(const I of _)delete E[I];for(const I of Object.keys(E))E[I]===v[I]&&delete E[I];copyProps(E,v);for(const I of M)e.set(I,A);w!=null&&w.default&&copyProps(E,v.defaults),w!=null&&w.silent||Reactive.dispatch(v,"changed")}e.set=n;function o(v,A={train:!0}){const w=isNumberArray(v)?e.continuous():e.point();return A.train&&e.train(w,v),w}e.infer=o;function l(v,A){for(const w of A)v.frozen.includes(w)||v.frozen.push(w)}e.freeze=l;function r(v,A){v.linked.includes(A)||v.linked.push(A)}e.linkTo=r;function d(v){const{defaults:A}=v;for(const[w,M]of Object.entries(A))isArray(M)&&isArray(v[w])?copyValues(M,v[w]):v[w]=M;Reactive.dispatch(v,"changed")}e.restoreDefaults=d;function a(v,A){return e.methods[v.type].normalize(v,A)}e.normalize=a;function u(v,A){return e.methods[v.type].unnormalize(v,A)}e.unnormalize=u;function h(v,A,w){return e.methods[v.type].train(v,A,w)}e.train=h;function i(v){return e.methods[v.type].breaks(v)}e.breaks=i;function s(v,A){const{direction:w}=v,M=A;e.set(v,_=>(_.zero+=w*M,_.one+=w*M))}e.move=s;function c(v,A,w,M){const{zero:_,one:E,direction:I}=v,F=E-_;I===Direction.Backwards&&([A,w]=[1-A,1-w]);let[D,N]=[A,w].map(R=>(R-_)/F);[D,N]=invertRange(D,N),I===Direction.Backwards&&([D,N]=[1-D,1-N]),e.set(v,R=>(R.zero=D,R.one=N),M)}e.expand=c;function g(v){e.set(v,A=>A.direction*=-1)}e.flip=g;function p(v,A){if(!b(v))throw new Error("Expanse must be discrete");e.methods[v.type].reorder(v,A)}e.reorder=p;function m(v){return v.one-v.zero}e.unitRange=m;function f(v){if(!x(v))throw new Error("Can only compute range on a continuous expanse");return ExpanseContinuous.range(v)}e.range=f;function x(v){return v.type==="continuous"||v.type==="split"}e.isContinuous=x;function y(v){return v.type==="point"}e.isPoint=y;function b(v){return v.type==="point"||v.type==="band"}e.isDiscrete=b;function S(v){return v.type==="band"}e.isBand=S;function k(v){return v.type==="compound"}e.isCompound=k;function z(v){return v.type==="split"}e.isSplit=z})(exports.Expanse||(exports.Expanse={})),exports.Scale=void 0,(e=>{function t(m,f){const x=Reactive.of()({domain:m,codomain:f});return Reactive.propagate(m,x,"changed"),Reactive.propagate(f,x,"changed"),x}e.of=t;function n(m,f){m.domain=f,Reactive.propagate(m.domain,m,"changed")}e.setDomain=n;function o(m,f){m.codomain=f,Reactive.propagate(m.codomain,m,"changed")}e.setCoomain=o;function l(m,f){const{domain:x,codomain:y}=m;return exports.Expanse.unnormalize(y,exports.Expanse.normalize(x,f))}e.pushforward=l;function r(m,f){const{domain:x,codomain:y}=m;return exports.Expanse.unnormalize(x,exports.Expanse.normalize(y,f))}e.pullback=r;function d(m,f,x,y){exports.Expanse.expand(m.domain,f,x,y)}e.expand=d;function a(m,f,x){if(((x==null?void 0:x.name)??!0)&&Meta.has(f,"name")&&Meta.copy(m,f,["name"]),typeof f[0]=="string"&&exports.Expanse.isContinuous(m.domain)){const b=Array.from(new Set(f));m.domain=exports.Expanse.band(b)}exports.Expanse.train(m.domain,f,x)}e.train=a;function u(m){exports.Expanse.restoreDefaults(m.domain),exports.Expanse.restoreDefaults(m.codomain)}e.restoreDefaults=u;function h(m){const f=exports.Expanse.breaks(m.domain);let x=formatAxisLabels(f);if(exports.Expanse.isCompound(m.domain)){x=formatAxisLabels(f,{decimals:1});const b=f.map(S=>exports.Expanse.unnormalize(m.codomain,ExpanseContinuous.normalize(m.domain,S)));return{labels:x,positions:b}}else if(exports.Expanse.isSplit(m.codomain)){const b=e.pushforward(m,f);return{labels:x,positions:b}}const y=f.map(b=>e.pushforward(m,b));return{labels:x,positions:y}}e.breaks=h;function i(m,f){exports.Expanse.move(m.domain,f)}e.move=i;function s(m,f){f.codomain=m.codomain}e.shareCodomain=s;function c(m){return exports.Expanse.range(m.domain)/exports.Expanse.unitRange(m.domain)}e.domainRange=c;function g(m){return exports.Expanse.range(m.codomain)*exports.Expanse.unitRange(m.codomain)}e.codomainRange=g;function p(m){const{domain:f,codomain:x}=m;if([f,x].map(exports.Expanse.isContinuous).includes(!1))throw new Error("Both domain and codomain need to be continuous");const y=exports.Expanse.range(f);return exports.Expanse.range(x)*exports.Expanse.unitRange(x)/y}e.unitRatio=p})(exports.Scale||(exports.Scale={}));const POSITIONS=Symbol("positions");exports.Factor=void 0,(e=>{(i=>{i[i.Constant=0]="Constant",i[i.Bijection=1]="Bijection",i[i.Surjection=2]="Surjection"})(e.Type||(e.Type={}));function t(i,s,c,g){return Reactive.of()({type:i,cardinality:s,indices:c,data:g})}e.of=t;function n(i,s){s.cardinality=i.cardinality,copyValues(i.indices,s.indices);for(const c of Reflect.ownKeys(i.data))isArray(i.data[c])&&isArray(s.data[c])?(copyValues(i.data[c],s.data[c]),Meta.copy(s.data[c],i.data[c])):s.data[c]=i.data[c]}e.copyFrom=n;function o(i,s){if([i,s].some(c=>c.type===1))return!0;if(i.indices.length!==s.indices.length)throw new Error("Factors do not have matching length")}function l(i){const c=new Uint32Array,g=f=>[f],p=1,m={...i,[POSITIONS]:g};return t(p,1/0,c,m)}e.bijection=l;function r(i){const c=new Uint32Array(i).fill(0),g=()=>Array.from(c),p=0,m={[POSITIONS]:g};return t(p,1,c,m)}e.mono=r;function d(i,s){const c=i.map(x=>x.toString());s=s??Array.from(new Set(c)).sort(compareAlphaNumeric),Meta.has(i,"name")&&Meta.copy(s,i,["name"]);const g=new Uint32Array(i.length),p={};for(let x=0;x<c.length;x++){const y=s.indexOf(c[x]);p[y]||(p[y]=[]),g[x]=y,p[y].push(x)}const m=2,f={label:s,[POSITIONS]:Object.values(p)};return t(m,s.length,g,f)}e.from=d;function a(i,s){function c(){const p=(s==null?void 0:s.breaks)??binBreaks(i,s),m=new Set,f=new Uint32Array(i.length),x={};for(let w=0;w<i.length;w++){const M=p.findIndex(_=>_>=i[w])-1;x[M]||(x[M]=[]),f[w]=M,x[M].push(w),m.add(M)}const y=Array.from(m).sort(diff);for(let w=0;w<f.length;w++)f[w]=y.indexOf(f[w]);const[b,S]=[[],[]];for(let w=0;w<y.length;w++)b.push(p[y[w]]),S.push(p[y[w]+1]);const[k,z]=[p[y[0]],p[last(y)+1]];Meta.setN(b,["min","max"],[k,z]),Meta.setN(S,["min","max"],[k,z]),Meta.set(b,"name",`min of ${Meta.get(i,"name")}`),Meta.set(S,"name",`max of ${Meta.get(i,"name")}`),Meta.copy(p,i,["name"]);const v=2,A={binMin:b,binMax:S,breaks:p,[POSITIONS]:Object.values(x)};return t(v,y.length,f,A)}const g=c();return s&&Reactive.is(s)&&Reactive.listen(s,"changed",()=>{const p=c();e.copyFrom(p,g),Reactive.dispatch(g,"changed")}),g}e.bin=a;function u(i,s){o(i,s);function c(){if(i.type===1){const E={};for(const R of Reflect.ownKeys(i.data))E[R]=Getter.of(i.data[R]);for(const R of Reflect.ownKeys(s.data))E[R]=Getter.proxy(s.data[R],s.indices);const I=1,F=s.indices.length,D=new Uint32Array(i.indices.length),N=t(I,F,D,E);return N.parent=i,N}if(i.type===0){const{type:E,data:I,cardinality:F,indices:D}=s,N=t(E,F,D,I);return N.parent=i,N}const p=Math.max(i.cardinality,s.cardinality)+1,m=new Set,f=new Uint32Array(i.indices.length),x={},y={},b={},S=Getter.of(i.indices),k=Getter.of(s.indices);for(let E=0;E<i.indices.length;E++){const[I,F]=[S(E),k(E)],D=p*I+F;D in y||(y[D]=I,b[D]=F,x[D]=[]),f[E]=D,x[D].push(E),m.add(D)}const z=Array.from(m).sort(diff);for(let E=0;E<f.length;E++)f[E]=z.indexOf(f[E]);const v=Object.values(y),A=Object.values(b),w={};for(let E of Reflect.ownKeys(i.data)){let I=E;if(typeof E=="string")for(;I in w;)E+="$";const[F,D]=[i.data[E],v],N=isArray(F)?subset(F,D):Getter.proxy(F,D);Meta.copy(N,F),w[I]=N}for(let E of Reflect.ownKeys(s.data)){let I=E;if(typeof E=="string")for(;I in w;)I+="$";const[F,D]=[s.data[E],A],N=isArray(F)?subset(F,D):Getter.proxy(F,D);Meta.copy(N,F),w[I]=N}const M=2;w[POSITIONS]=Object.values(x);const _=t(M,z.length,f,w);return _.parent=i,_}const g=c();return Reactive.listen(i,"changed",()=>{const p=c();e.copyFrom(p,g)}),Reactive.listen(s,"changed",()=>{const p=c();e.copyFrom(p,g)}),Reactive.propagate(i,g,"changed"),Reactive.propagate(s,g,"changed"),g}e.product=u;function h(i,s){const c={};for(let g=0;g<s.indices.length&&(c[s.indices[g]]=i.indices[g],!(Object.keys(c).length>=s.cardinality));g++);return Object.values(c)}e.parentIndices=h})(exports.Factor||(exports.Factor={}));const Transient=255;var Group=(e=>(e[e.Base=7]="Base",e[e.First=6]="First",e[e.Second=5]="Second",e[e.Third=4]="Third",e[e.BaseTransient=3]="BaseTransient",e[e.FirstTransient=2]="FirstTransient",e[e.SecondTransient=1]="SecondTransient",e[e.ThirdTransient=0]="ThirdTransient",e))(Group||{}),Marker;(e=>{function t(i){const s=Transient,c=new Uint32Array(i).fill(7),g=[],p=exports.Factor.Type.Surjection,m=exports.Factor.of(p,8,c,{[LAYER]:[0,1,2,3,4,5,6,7]}),f=Reactive.of()({group:s,indices:c,transientIndices:g,factor:m});return Reactive.listen(f,"updated",()=>Reactive.dispatch(m,"changed")),Reactive.listen(f,"cleared",()=>Reactive.dispatch(m,"changed")),f}e.of=t;function n(i,s){i.group=s}e.setGroup=n;function o(i,s,c){const g=(c==null?void 0:c.group)??i.group;if(r(i,{silent:!0}),g===Transient){for(let p=0;p<s.length;p++){const m=s[p];i.indices[m]=u(i.indices[m])}i.transientIndices=s}else for(let p=0;p<s.length;p++){const m=s[p];i.indices[m]=g}c!=null&&c.silent||Reactive.dispatch(i,"updated")}e.update=o;function l(i,s){for(let c=0;c<i.indices.length;c++)i.indices[c]=7;s!=null&&s.silent||Reactive.dispatch(i,"cleared")}e.clearAll=l;function r(i,s){for(let c=0;c<i.transientIndices.length;c++){const g=i.transientIndices[c];i.indices[g]=h(i.indices[g])}s!=null&&s.silent||Reactive.dispatch(i,"cleared")}e.clearTransient=r;function d(i){const{factor:s,indices:c}=i;return g=>s.data[LAYER][c[g]]}e.getLayer=d;function a(i){return!(i&4)}e.isTransient=a;function u(i){return i&-5}function h(i){return i|4}})(Marker||(Marker={}));const LAYER=Symbol("layer");var Bars;(e=>{function t(r){const d={},a=[],u=Geom.Type.Bars,h=(r==null?void 0:r.vAnchor)??VAnchor.Bottom,i=(r==null?void 0:r.hAnchor)??HAnchor.Center,s=(r==null?void 0:r.postfn)??identity;return{type:u,data:a,scales:d,postfn:s,vAnchor:h,hAnchor:i}}e.of=t;function n(r,d){const{scales:a,postfn:u,hAnchor:h,vAnchor:i}=r,s=Geom.groupedData(r),c=findLength(Object.values(s)),g=["x","y","width","height",LAYER],[p,m,f,x,y]=Geom.getters(s,g);for(let b=0;b<c;b++){let S=exports.Scale.pushforward(a.x,p(b)),k=exports.Scale.pushforward(a.y,m(b)),z=exports.Scale.pushforward(a.width,f(b)),v=exports.Scale.pushforward(a.height,x(b));const A=d[y(b)],w=[S,k,z,v];u(w),Frame.rectangleWH(A,...w,{hAnchor:h,vAnchor:i})}}e.render=n;function o(r,d){const{scales:a,postfn:u,hAnchor:h,vAnchor:i}=r,s=Geom.flatData(r),c=findLength(Object.values(s)),g=["x","y","width","height",POSITIONS],[p,m,f,x,y]=Geom.getters(s,g),b=[];for(let S=0;S<c;S++){let k=exports.Scale.pushforward(a.x,p(S)),z=exports.Scale.pushforward(a.y,m(S)),v=exports.Scale.pushforward(a.width,f(S)),A=exports.Scale.pushforward(a.height,x(S));const w=[k,z,v,A];u(w),[k,z,v,A]=w;const M=[k-v*h,z-A*i,k+v*h,z+A*(1-i)];if(rectsIntersect(d,M)){const _=y(S);for(let E=0;E<_.length;E++)b.push(_[E])}}return b}e.check=o;function l(r,d){const{scales:a,postfn:u,hAnchor:h,vAnchor:i}=r,s=Geom.flatData(r),c=findLength(Object.values(s)),g=["x","y","width","height"],[p,m,f,x]=Geom.getters(s,g);for(let y=0;y<c;y++){let b=exports.Scale.pushforward(a.x,p(y)),S=exports.Scale.pushforward(a.y,m(y)),k=exports.Scale.pushforward(a.width,f(y)),z=exports.Scale.pushforward(a.height,x(y));const v=[b,S,k,z];u(v),[b,S,k,z]=v;const A=[b-k*h,S-z*i,b+k*h,S+z*(1-i)];if(pointInRect(d,A)){const w={};Meta.has(s.x,"name")&&(w[Meta.get(s.x,"name")]=p(y)),Meta.has(s.y,"name")&&(w[Meta.get(s.y,"name")]=m(y)),Meta.has(s.height,"name")&&(w[Meta.get(s.height,"name")]=x(y));for(const[M,_]of Object.entries(s))["x","y","width","height"].includes(M)||_&&Meta.has(_,"name")&&(w[Meta.get(_,"name")]=Geom.getter(_)(y));return w}}}e.query=l})(Bars||(Bars={}));var Lines;(e=>{function t(){const r={},d=[];return{type:Geom.Type.Lines,data:d,scales:r}}e.of=t;function n(r,d){const{scales:a}=r,u=Geom.groupedData(r),h=findLength(Object.values(u)),i=["x","y",LAYER],[s,c,g]=Geom.getters(u,i);for(let p=0;p<h;p++){const m=exports.Scale.pushforward(a.x,s(p)),f=exports.Scale.pushforward(a.y,c(p)),x=d[g(p)];Frame.line(x,m,f)}}e.render=n;function o(r,d){const{scales:a}=r,u=Geom.flatData(r),h=findLength(Object.values(u)),i=["x","y",POSITIONS],[s,c,g]=Geom.getters(u,i),p=[];for(let m=0;m<h;m++){const f=exports.Scale.pushforward(a.x,s(m)),x=exports.Scale.pushforward(a.y,c(m));for(let y=1;y<f.length;y++){const b=[f[y-1],x[y-1],f[y],x[y]];if(rectSegmentIntersect(d,b)){const S=g(m);for(let k=0;k<S.length;k++)p.push(S[k])}}}return p}e.check=o;function l(r,d){let{scales:a}=r;const u=Geom.flatData(r),h=findLength(Object.values(u)),i=["x","y",POSITIONS],[s,c]=Geom.getters(u,i),g=[d[0]-1,d[1]-1,d[0]+1,d[1]+1];for(let p=0;p<h;p++){const m=exports.Scale.pushforward(a.x,s(p)),f=exports.Scale.pushforward(a.y,c(p));for(let x=1;x<m.length;x++){const y=[m[x-1],f[x-1],m[x],f[x]];if(rectSegmentIntersect(g,y)){const b={},[S,k]=[s(p),c(p)];for(let z=0;z<S.length;z++)b[S[z]]=k[z];for(const[z,v]of Object.entries(u))z==="x"||z==="y"||v&&Meta.has(v,"name")&&(b[Meta.get(v,"name")]=Geom.getter(v)(p));return b}}}}e.query=l})(Lines||(Lines={}));var Points;(e=>{function t(){const r={},d=[];return{type:Geom.Type.Points,data:d,scales:r}}e.of=t;function n(r,d){const{scales:a}=r,u=Geom.groupedData(r),h=findLength(Object.values(u)),i=["x","y","size",LAYER],[s,c,g,p]=Geom.getters(u,i);for(let m=0;m<h;m++){const f=exports.Scale.pushforward(a.x,s(m)),x=exports.Scale.pushforward(a.y,c(m)),y=exports.Scale.pushforward(a.size,g(m)),b=d[p(m)];Frame.point(b,f,x,y)}}e.render=n;function o(r,d){const{scales:a}=r,u=Geom.flatData(r),h=findLength(Object.values(u)),i=["x","y","size",POSITIONS],[s,c,g,p]=Geom.getters(u,i),m=[];for(let f=0;f<h;f++){const x=exports.Scale.pushforward(a.x,s(f)),y=exports.Scale.pushforward(a.y,c(f));let b=exports.Scale.pushforward(a.size,g(f));b=b/Math.sqrt(2);const S=[x-b,y-b,x+b,y+b];if(rectsIntersect(d,S)){const k=p(f);for(let z=0;z<k.length;z++)m.push(k[z])}}return m}e.check=o;function l(r,d){const{scales:a}=r,u=Geom.flatData(r),h=findLength(Object.values(u)),i=["x","y","size"],[s,c,g]=Geom.getters(u,i);for(let p=0;p<h;p++){const m=exports.Scale.pushforward(a.x,s(p)),f=exports.Scale.pushforward(a.y,c(p));let x=exports.Scale.pushforward(a.size,g(p));x=x/Math.sqrt(2);const y=[m-x,f-x,m+x,f+x];if(pointInRect(d,y)){const b={};b[Meta.get(u.x,"name")]=s(p),b[Meta.get(u.y,"name")]=c(p);for(const[S,k]of Object.entries(u))S==="x"||S==="y"||k&&Meta.has(k,"name")&&(b[Meta.get(k,"name")]=Geom.getter(k)(p));return b}}}e.query=l})(Points||(Points={}));var Rectangles;(e=>{function t(){const r={},d=[];return{type:Geom.Type.Rectangles,data:d,scales:r}}e.of=t;function n(r,d){const{scales:a}=r,u=Geom.groupedData(r),h=findLength(Object.values(u)),i=["x0","y0","x1","y1","area",LAYER],[s,c,g,p,m,f]=Geom.getters(u,i);for(let x=0;x<h;x++){let y=exports.Scale.pushforward(a.x,s(x)),b=exports.Scale.pushforward(a.y,c(x)),S=exports.Scale.pushforward(a.x,g(x)),k=exports.Scale.pushforward(a.y,p(x));const z=d[f(x)];if(u.area){const v=exports.Scale.pushforward(a.area,m(x)),A=S-y,w=k-b;y=y+(1-v)/2*A,S=S-(1-v)/2*A,b=b+(1-v)/2*w,k=k-(1-v)/2*w}Frame.rectangleXY(z,y,b,S,k)}}e.render=n;function o(r,d){const{scales:a}=r,u=Geom.flatData(r),h=findLength(Object.values(u)),i=["x0","y0","x1","y1","area",POSITIONS],[s,c,g,p,m,f]=Geom.getters(u,i),x=[];for(let y=0;y<h;y++){let b=exports.Scale.pushforward(a.x,s(y)),S=exports.Scale.pushforward(a.y,c(y)),k=exports.Scale.pushforward(a.x,g(y)),z=exports.Scale.pushforward(a.y,p(y));if(u.area){const v=exports.Scale.pushforward(a.area,m(y)),A=k-b,w=z-S;b=b+(1-v)/2*A,k=k-(1-v)/2*A,S=S+(1-v)/2*w,z=z-(1-v)/2*w}if(rectsIntersect(d,[b,S,k,z])){const v=f(y);for(let A=0;A<v.length;A++)x.push(v[A])}}return x}e.check=o;function l(r,d){const{scales:a}=r,u=Geom.flatData(r),h=findLength(Object.values(u)),i=["x0","y0","x1","y1","area"],[s,c,g,p,m]=Geom.getters(u,i);for(let f=0;f<h;f++){let x=exports.Scale.pushforward(a.x,s(f)),y=exports.Scale.pushforward(a.y,c(f)),b=exports.Scale.pushforward(a.x,g(f)),S=exports.Scale.pushforward(a.y,p(f));if(u.area){const k=exports.Scale.pushforward(a.area,m(f)),z=b-x,v=S-y;x=x+(1-k)/2*z,b=b-(1-k)/2*z,y=y+(1-k)/2*v,S=S-(1-k)/2*v}if(pointInRect(d,[x,y,b,S])){const k={};for(const z of Object.values(u))z&&Meta.has(z,"name")&&(k[Meta.get(z,"name")]=Geom.getter(z)(f));return k}}}e.query=l})(Rectangles||(Rectangles={}));var Geom;(e=>{(h=>{h[h.Points=0]="Points",h[h.Bars=1]="Bars",h[h.Rectangles=2]="Rectangles",h[h.Lines=3]="Lines"})(e.Type||(e.Type={}));const t={0:Points,1:Bars,2:Rectangles,3:Lines};function n(h){return h.data[h.data.length-2]}e.flatData=n;function o(h){return h.data[h.data.length-1]}e.groupedData=o;function l(h,i=()=>.5){return Getter.of(h??i)}e.getter=l;function r(h,i,s=()=>.5){return i.map(c=>e.getter(h[c],s))}e.getters=r;function d(h,i){t[h.type].render(h,i)}e.render=d;function a(h,i){return t[h.type].check(h,i)}e.check=a;function u(h,i){return t[h.type].query(h,i)}e.query=u})(Geom||(Geom={}));const PARENT=Symbol("parent"),VALUES=Symbol("values"),INDICES=Symbol("indices"),FACTOR=Symbol("factor"),REDUCER=Symbol("reducer");var Reduced;(e=>{function t(c,g,p,m){const f=c;return f[VALUES]=c,f[FACTOR]=g,f[REDUCER]=p,m&&n(f,m),f}e.of=t;function n(c,g){c[PARENT]=g}e.setParent=n;function o(c){const[,g,p,m]=s(c);if(!m)throw new Error("Parent missing");const f=exports.Factor.parentIndices(a(m),g),x=subset(m,f),y=t(x,a(m),p,u(m));return h(y,m),i(y,f),Meta.copy(y,c,["name"]),y}e.parent=o;function l(c){const[g,p,m,f,x]=s(c);if(!f)throw new Error("Cannot stack a without a parent");const y=exports.Factor.parentIndices(a(f),p),{reducefn:b,initialfn:S}=m,[k,z]=[g.length,[]],v=Array.from(Array(k),()=>S()),A=Getter.of(y);for(let _=0;_<g.length;_++){const E=A(_);z[E]===void 0&&(z[E]=S()),z[E]=b(z[E],g[_]),v[_]=z[E]}const w=x?subset(v,x):v,M=e.of(w,p,m,f);return h(M,v),x&&i(M,x),Meta.copy(M,c,["name"]),M}e.stack=l;function r(c,g){const[p,m,f,x,y]=s(c);if(!x)throw new Error("Cannot normalize a without a parent");const b=exports.Factor.parentIndices(a(x),m),S=subset(x,b),k=[...p];for(let A=0;A<c.length;A++)k[A]=g(k[A],S[A]);const z=y?subset(k,y):k,v=e.of(z,m,f,x);return h(v,k),y&&i(v,y),Meta.copy(v,c,["name"]),v}e.normalize=r;function d(c){const[g,p,m,f,x]=s(c),y=[];y.push(m.initialfn());for(let k=0;k<g.length-1;k++)y.push(g[k]);const b=x?subset(y,x):y,S=e.of(b,p,m,f);return h(S,y),x&&i(S,x),Meta.copy(S,c,["name"]),S}e.shiftLeft=d;function a(c){return c[FACTOR]}function u(c){return c[PARENT]}e.getParent=u;function h(c,g){c[VALUES]=g}function i(c,g){c[INDICES]=g}function s(c){return[c[VALUES],c[FACTOR],c[REDUCER],c[PARENT],c[INDICES]]}})(Reduced||(Reduced={})),exports.Reducer=void 0,(Reducer=>{Reducer.sum={name:"sum",fallback:"count",initialfn:()=>0,reducefn:(e,t)=>e+t},Reducer.max={name:"max",initialfn:()=>-1/0,reducefn:(e,t)=>Math.max(e,t)},Reducer.product={name:"product",initialfn:()=>1,reducefn:(e,t)=>e*t},Reducer.table={name:"table",initialfn:()=>({}),reducefn:(e,t)=>(e[t]=e[t]+1||0,e)};function parse(value){if(typeof value=="string")return Reducer[value];if(typeof value.initialfn=="string"&&typeof value.reducefn=="string"){const parsed={name:value.name};return parsed.initialfn=eval(value.initialfn),parsed.reducefn=eval(value.reducefn),parsed}return value}Reducer.parse=parse;function reduce(e,t,n){const{indices:o,cardinality:l}=t,{initialfn:r,reducefn:d}=n,a=Array.from(Array(l),()=>r()),u=Getter.of(o),h=Getter.of(e);for(let s=0;s<o.length;s++){const c=u(s);a[c]=d(a[c],h(s))}const i=Reduced.of(a,t,n);return Meta.copy(i,e),Meta.set(i,"name",getName(a,n)??"[unknown summary]"),i}Reducer.reduce=reduce;function getName(e,t){return Meta.has(e,"name")?`${t.name} of ${Meta.get(e,"name")}`:t.fallback}Reducer.getName=getName})(exports.Reducer||(exports.Reducer={}));var Summaries;(e=>{function t(r,d){const a=[];for(let u=0;u<d.length;u++){const h=d[u],i=n(r,h),s=Reactive.of()(merge(i,h.data));if(a.push(s),u>0)for(const c of Object.keys(i)){const g=a[u-1][c];Reduced.setParent(i[c],g)}Reactive.listen(h,"changed",()=>{const c=n(r,h);for(const g of Object.keys(c))copyValues(c[g],i[g])}),Reactive.propagate(h,s,"changed")}return a}e.of=t;function n(r,d){const a={};for(const[u,h]of Object.entries(r)){const[i,s]=h;a[u]=exports.Reducer.reduce(i,d,s)}return a}function o(r,d){const a=[];for(let u=0;u<r.length;u++){let h=function(s){const c=d[u](s),g=Reflect.ownKeys(s);for(const p of g)(typeof p=="symbol"||isIntegerString(p))&&(c[p]=s[p]);return c};const i=Reactive.of()(h(r[u]));a.push(i),Reactive.listen(r[u],"changed",()=>{const s=h(r[u]);for(const c of Reflect.ownKeys(s))isArray(s[c])&&isArray(i[c])&&copyValues(s[c],i[c]);Reactive.dispatch(i,"changed")})}return a}e.translate=o;function l(r,d){const a={};let u=0;for(const[h,i]of r)a[`q${u++}`]=[h(d),i];return a}e.formatQueries=l})(Summaries||(Summaries={}));function Barplot(e,t,n){const{data:o,marker:l}=e;let[r,d]=t(o);const a=d&&(n!=null&&n.reducer)?n.reducer:exports.Reducer.sum,u=d||(()=>1),h=exports.Factor.from(r),i=exports.Factor.product(h,l.factor),s=[h,i],c=n!=null&&n.queries?n.queries(o):{},g=Summaries.of({stat:[u,a],...c},s),p=[],m=0,f={type:"bar",scales:{x:"band"}},x={representation:m,...exports.Plot.of(f),summaries:g,coordinates:p};return Reactive.listen(x,"normalize",()=>switchRepresentation$3(x)),barplot(x),exports.Plot.addGeom(x,Bars.of()),x}function sortAxis(e,t){if(e.ordered)ExpanseBand.reorder(e);else{const n=orderIndices(t);ExpanseBand.reorder(e,n)}}function switchRepresentation$3(e){e.representation===0?spineplot(e):barplot(e)}function barplot(e){const{summaries:t,scales:n}=e,o=Summaries.translate(t,[a=>({x:a.label,y:zero,height:a.stat,width:one}),a=>({x:a.label,y:zero,height:Reduced.stack(a.stat),width:one})]),[l]=o,r={default:!0,ratio:!0};exports.Scale.train(n.x,l.x,r),exports.Scale.train(n.y,l.height,r),exports.Scale.train(n.width,[0,1],r),exports.Scale.train(n.height,l.height,r),exports.Expanse.freeze(n.y.domain,["zero"]),exports.Expanse.freeze(n.height.domain,["zero"]),ExpanseBand.setWeights(n.x.domain);const d=1/new Set(l.x).size;exports.Expanse.linkTo(n.y.domain,n.height.domain),exports.Expanse.set(n.width.codomain,a=>{a.scale=d,a.mult=.9,a.offset=0},{default:!0}),Meta.copy(n.y,l.height,["name"]),Reactive.removeAll(e,"reorder"),Reactive.listen(e,"reorder",()=>sortAxis(n.x.domain,l.height)),e.representation=0,exports.Plot.setData(e,o),exports.Plot.render(e),exports.Plot.renderAxes(e)}function spineplot(e){const{summaries:t,scales:n}=e,o=Summaries.translate(t,[d=>({x:d.label,y:zero,height:one,width:d.stat}),d=>({x:d.label,y:zero,height:Reduced.normalize(Reduced.stack(d.stat),(a,u)=>a/u),width:Reduced.parent(d.stat)})]),[l]=o,r={default:!0,ratio:!0};exports.Scale.train(n.x,l.x,r),exports.Scale.train(n.y,[0,1],r),exports.Scale.train(n.width,cumsum(l.width),r),exports.Scale.train(n.height,[0,1],r),exports.Expanse.freeze(n.y.domain,["zero"]),exports.Expanse.freeze(n.height.domain,["zero"]),ExpanseBand.setWeights(n.x.domain,l.width),exports.Expanse.linkTo(n.y.domain,n.height.domain),exports.Expanse.set(n.width.codomain,d=>{d.scale=1,d.mult=1,d.offset=-1},{default:!0}),Meta.set(n.y,"name","proportion"),Reactive.removeAll(e,"reorder"),Reactive.listen(e,"reorder",()=>sortAxis(n.x.domain,l.width)),e.representation=1,exports.Plot.setData(e,o),exports.Plot.render(e),exports.Plot.renderAxes(e)}function Fluctuationplot(e,t,n){const{data:o,marker:l}=e;let[r,d,a]=t(o);const u=a&&(n!=null&&n.reducer)?n.reducer:exports.Reducer.sum,h=a?[...a]:()=>1,i=exports.Factor.product(exports.Factor.from(r),exports.Factor.from(d)),s=exports.Factor.product(i,l.factor),c=[i,s],g=Summaries.formatQueries((n==null?void 0:n.queries)??[],o),p=Summaries.of({stat:[h,u],...g},c),m=[],f=0,x={type:"fluct",scales:{x:"band",y:"band"}},y={representation:f,...exports.Plot.of(x),summaries:p,coordinates:m};return exports.Scale.shareCodomain(y.scales.area,y.scales.width),exports.Scale.shareCodomain(y.scales.area,y.scales.height),Reactive.listen(y,"normalize",()=>switchRepresentation$2(y)),fluctplot(y),exports.Plot.addGeom(y,Bars.of({vAnchor:VAnchor.Middle})),y}function switchRepresentation$2(e){e.representation===0?pctfluctplot(e):fluctplot(e)}function fluctplot(e){const{summaries:t,scales:n}=e,o=Summaries.translate(t,[a=>({x:a.label,y:a.label$,height:a.stat,width:a.stat}),a=>({x:a.label,y:a.label$,height:Reduced.stack(a.stat),width:Reduced.stack(a.stat)})]),[l]=o,r={default:!0,ratio:!0};exports.Scale.train(n.x,l.x,r),exports.Scale.train(n.y,l.y,r),exports.Scale.train(n.width,l.width,r),exports.Scale.train(n.height,l.height,r);const d=max(new Set(l.x).size,new Set(l.y).size);exports.Expanse.set(n.area.codomain,a=>{a.scale=1/d,a.mult=.9,a.offset=0},{default:!0}),exports.Plot.setData(e,o),e.representation=0,exports.Plot.render(e)}function pctfluctplot(e){const{summaries:t,scales:n}=e,o=Summaries.translate(t,[a=>({x:a.label,y:a.label$,height:one,width:one}),a=>({x:a.label,y:a.label$,height:Reduced.normalize(Reduced.stack(a.stat),(u,h)=>u/h),width:Reduced.normalize(Reduced.stack(a.stat),(u,h)=>u/h)})]),[l]=o,r={default:!0,ratio:!0};exports.Scale.train(n.x,l.x,r),exports.Scale.train(n.y,l.y,r),exports.Scale.train(n.width,[0,1],r),exports.Scale.train(n.height,[0,1],r);const d=max(new Set(l.x).size,new Set(l.y).size);exports.Expanse.set(n.area.codomain,a=>{a.scale=1/d,a.mult=.9,a.offset=-1},{default:!0}),exports.Plot.setData(e,o),e.representation=1,exports.Plot.render(e)}function Histogram(e,t,n){const{data:o,marker:l}=e;let[r,d]=t(o);const a=d&&(n!=null&&n.reducer)?n.reducer:exports.Reducer.sum,u=d||(()=>1),[h,i]=minmax(r),s=i-h,c=Reactive.of()({anchor:h,width:s/15}),g=exports.Factor.mono(r.length),p=exports.Factor.product(g,exports.Factor.bin(r,c)),m=exports.Factor.product(p,l.factor),f=[g,p,m],x=n!=null&&n.queries?n.queries(o):{},y=Summaries.of({stat:[u,a],...x},f),b=0,S=[],k={type:"histo"},z={representation:b,...exports.Plot.of(k),summaries:y,coordinates:S};Reactive.listen(z,"normalize",()=>switchRepresentation$1(z));const v=s/10;return Reactive.listen(z,"set-parameters",A=>{A&&(A.width&&Reactive.set(c,w=>w.width=A.width),A.anchor&&Reactive.set(c,w=>w.anchor=A.anchor))}),Reactive.listen(z,"grow",()=>Reactive.set(c,A=>A.width*=1.1111111111111112)),Reactive.listen(z,"shrink",()=>Reactive.set(c,A=>A.width*=.9)),Reactive.listen(z,"increment-anchor",()=>Reactive.set(c,A=>A.anchor+=v)),Reactive.listen(z,"decrement-anchor",()=>Reactive.set(c,A=>A.anchor-=v)),Reactive.listen(z,"reset",()=>{Reactive.set(c,A=>(A.anchor=h,A.width=s/15))}),histogram(z),exports.Plot.addGeom(z,Rectangles.of()),z}function switchRepresentation$1(e){e.representation===0?spinogram(e):histogram(e)}function histogram(e){const{summaries:t}=e,n=Summaries.translate(t,[r=>r,r=>({x0:r.binMin,y0:zero,x1:r.binMax,y1:r.stat}),r=>({x0:r.binMin,y0:zero,x1:r.binMax,y1:Reduced.stack(r.stat)})]),{scales:o}=e,[,l]=n;exports.Scale.train(o.x,l.x1,{default:!0,name:!1}),exports.Scale.train(o.y,l.y1,{default:!0,ratio:!0});for(const r of e.data)Reactive.removeAll(r,"changed");Reactive.listen(l,"changed",()=>{exports.Scale.train(o.x,l.x1,{default:!0,name:!1}),exports.Scale.train(o.y,l.y1,{default:!0,ratio:!0})}),exports.Expanse.freeze(o.y.domain,["zero"]),Meta.copy(o.x,t[1].breaks,["name"]),Meta.copy(o.y,l.y1,["name"]),e.representation=0,exports.Plot.setData(e,n),exports.Plot.render(e),exports.Plot.renderAxes(e)}function spinogram(e){const{summaries:t}=e,n=Summaries.translate(t,[r=>r,r=>({x0:Reduced.shiftLeft(Reduced.stack(r.stat)),y0:zero,x1:Reduced.stack(r.stat),y1:one,query1:r.binMin,query2:r.binMax}),r=>({x0:Reduced.shiftLeft(Reduced.stack(Reduced.parent(r.stat))),y0:zero,x1:Reduced.stack(Reduced.parent(r.stat)),y1:Reduced.normalize(Reduced.stack(r.stat),(d,a)=>d/a)})]),{scales:o}=e,[,l]=n;exports.Scale.train(o.x,[0,...l.x1],{default:!0,name:!1}),exports.Scale.train(o.y,[0,1],{default:!0,ratio:!0}),Reactive.listen(l,"changed",()=>{exports.Scale.train(o.x,[0,...l.x1],{default:!0,name:!1})}),exports.Expanse.freeze(o.y.domain,["zero"]),Meta.set(o.x,"name","cumulative count"),Meta.set(o.y,"name","proportion"),exports.Plot.setData(e,n),e.representation=1,exports.Plot.render(e),exports.Plot.renderAxes(e)}function Histogram2d(e,t,n){const{data:o,marker:l}=e;let[r,d,a]=t(o);const u=a&&(n!=null&&n.reducer)?n.reducer:exports.Reducer.sum,h=a||(()=>1),[i,s]=minmax(r),[c,g]=minmax(d),[p,m]=[s-i,g-c],f=Reactive.of()({anchor:i,width:p/15}),x=Reactive.of()({anchor:c,width:m/15}),y=exports.Factor.bin(r,f),b=exports.Factor.bin(d,x),S=exports.Factor.product(y,b),k=exports.Factor.product(S,l.factor),z=[S,k],v=n!=null&&n.queries?n.queries(o):{},A=Summaries.of({stat:[h,u],...v},z),w=0,M=[],_={type:"histo2d",ratio:n==null?void 0:n.ratio},E={representation:w,...exports.Plot.of(_),summaries:A,coordinates:M};return Reactive.listen(E,"normalize",()=>switchRepresentation(E)),Reactive.listen(E,"set-parameters",I=>{I&&(I.width1&&Reactive.set(f,F=>F.width=I.width1),I.anchor1&&Reactive.set(f,F=>F.anchor=I.anchor1),I.width2&&Reactive.set(x,F=>F.width=I.width2),I.anchor2&&Reactive.set(x,F=>F.anchor=I.anchor2))}),Reactive.listen(E,"grow",()=>{Reactive.set(f,I=>I.width*=1.1111111111111112),Reactive.set(x,I=>I.width*=1.1111111111111112)}),Reactive.listen(E,"shrink",()=>{Reactive.set(f,I=>I.width*=.9),Reactive.set(x,I=>I.width*=.9)}),Reactive.listen(E,"reset",()=>{Reactive.set(f,I=>(I.anchor=i,I.width=p/15)),Reactive.set(x,I=>(I.anchor=c,I.width=m/15))}),histogram2d(E),exports.Plot.addGeom(E,Rectangles.of()),E}function switchRepresentation(e){e.representation===0?spinogram2d(e):histogram2d(e)}function histogram2d(e){const{summaries:t}=e,n=Summaries.translate(t,[r=>({x0:r.binMin,y0:r.binMin$,x1:r.binMax,y1:r.binMax$,area:r.stat}),r=>({x0:r.binMin,y0:r.binMin$,x1:r.binMax,y1:r.binMax$,area:Reduced.stack(r.stat)})]),{scales:o}=e,[,l]=n;exports.Scale.train(o.x,l.x1,{default:!0}),exports.Scale.train(o.y,l.y1,{default:!0}),exports.Scale.train(o.area,l.area,{default:!0}),exports.Expanse.set(o.area.codomain,r=>(r.min=0,r.max=1),{default:!0}),exports.Expanse.freeze(o.area.codomain,["min","max"]);for(const r of e.data)Reactive.removeAll(r,"changed");Reactive.listen(l,"changed",()=>{exports.Scale.train(o.x,l.x1,{default:!0,name:!1}),exports.Scale.train(o.y,l.y1,{default:!0,name:!1}),exports.Scale.train(o.area,l.area,{default:!0})}),e.representation=0,exports.Plot.setData(e,n),Meta.copy(o.x,t[1].breaks,["name"]),Meta.copy(o.y,t[1].breaks$,["name"]),exports.Plot.render(e),exports.Plot.renderAxes(e)}function spinogram2d(e){const{summaries:t}=e,n=Summaries.translate(t,[r=>({x0:r.binMin,y0:r.binMin$,x1:r.binMax,y1:r.binMax$,area:one}),r=>({x0:r.binMin,y0:r.binMin$,x1:r.binMax,y1:r.binMax$,area:Reduced.normalize(Reduced.stack(r.stat),(d,a)=>d/a)})]),{scales:o}=e,[,l]=n;exports.Scale.train(o.x,l.x1,{default:!0}),exports.Scale.train(o.y,l.y1,{default:!0}),exports.Scale.train(o.area,[0,1],{default:!0}),exports.Expanse.set(o.area.codomain,r=>(r.min=0,r.max=1),{default:!0}),exports.Expanse.freeze(o.area.codomain,["min","max"]);for(const r of e.data)Reactive.removeAll(r,"changed");Reactive.listen(l,"changed",()=>{exports.Scale.train(o.x,l.x1,{default:!0,name:!1}),exports.Scale.train(o.y,l.y1,{default:!0,name:!1})}),e.representation=1,exports.Plot.setData(e,n),Meta.copy(o.x,t[1].breaks,["name"]),Meta.copy(o.y,t[1].breaks$,["name"]),exports.Plot.render(e),exports.Plot.renderAxes(e)}function Pcoordsplot(e,t,n){const{data:o,marker:l}=e,r=t(o),d=r.map(k=>Meta.get(k,"name")),a=Getter.constant(d),u=Getter.multi(r),h=n!=null&&n.queries?n.queries(o):{},i=exports.Factor.bijection({x:a,y:u,...h}),s=exports.Factor.product(i,l.factor),c=Summaries.of({},[i,s]),g=Summaries.translate(c,[k=>k,k=>k]),p=exports.Plot.of({type:"pcoords"}),{scales:m}=p,{expandX:f,expandY:x}=e.options,y={zero:f,one:1-f},b={zero:x,one:1-x};exports.Scale.setDomain(m.x,exports.Expanse.split(exports.Expanse.point(d,y))),exports.Scale.setCoomain(m.x,exports.Expanse.split(m.x.codomain));const S=r.map(k=>exports.Expanse.infer(k));return exports.Scale.setDomain(m.y,exports.Expanse.compound(S,b)),exports.Scale.setCoomain(m.y,exports.Expanse.split(m.y.codomain)),Meta.set(m.x,"name","variable"),Meta.set(m.y,"name","value"),exports.Plot.setData(p,g),exports.Plot.addGeom(p,Lines.of()),p}function Scatterplot(e,t,n){const{data:o,marker:l}=e,[r,d,a]=t(o),u=n!=null&&n.queries?n==null?void 0:n.queries(o):{},h={x:r,y:d,size:a??(()=>.5),...u},i=exports.Factor.bijection(h),s=exports.Factor.product(i,l.factor),c=Summaries.of({},[i,s]),g=Summaries.translate(c,[f=>f,f=>f]),p=exports.Plot.of({type:"scatter",ratio:n==null?void 0:n.ratio}),{scales:m}=p;return exports.Scale.train(m.x,r,{default:!0}),exports.Scale.train(m.y,d,{default:!0}),a&&exports.Scale.train(m.size,a,{default:!0}),exports.Plot.setData(p,g),exports.Plot.addGeom(p,Points.of()),{...p,summaries:c}}function _typeof(e){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(e)}var trimLeft=/^\s+/,trimRight=/\s+$/;function tinycolor(e,t){if(e=e||"",t=t||{},e instanceof tinycolor)return e;if(!(this instanceof tinycolor))return new tinycolor(e,t);var n=inputToRGB(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}tinycolor.prototype={isDark:function e(){return this.getBrightness()<128},isLight:function e(){return!this.isDark()},isValid:function e(){return this._ok},getOriginalInput:function e(){return this._originalInput},getFormat:function e(){return this._format},getAlpha:function e(){return this._a},getBrightness:function e(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},getLuminance:function e(){var t=this.toRgb(),n,o,l,r,d,a;return n=t.r/255,o=t.g/255,l=t.b/255,n<=.03928?r=n/12.92:r=Math.pow((n+.055)/1.055,2.4),o<=.03928?d=o/12.92:d=Math.pow((o+.055)/1.055,2.4),l<=.03928?a=l/12.92:a=Math.pow((l+.055)/1.055,2.4),.2126*r+.7152*d+.0722*a},setAlpha:function e(t){return this._a=boundAlpha(t),this._roundA=Math.round(100*this._a)/100,this},toHsv:function e(){var t=rgbToHsv(this._r,this._g,this._b);return{h:t.h*360,s:t.s,v:t.v,a:this._a}},toHsvString:function e(){var t=rgbToHsv(this._r,this._g,this._b),n=Math.round(t.h*360),o=Math.round(t.s*100),l=Math.round(t.v*100);return this._a==1?"hsv("+n+", "+o+"%, "+l+"%)":"hsva("+n+", "+o+"%, "+l+"%, "+this._roundA+")"},toHsl:function e(){var t=rgbToHsl(this._r,this._g,this._b);return{h:t.h*360,s:t.s,l:t.l,a:this._a}},toHslString:function e(){var t=rgbToHsl(this._r,this._g,this._b),n=Math.round(t.h*360),o=Math.round(t.s*100),l=Math.round(t.l*100);return this._a==1?"hsl("+n+", "+o+"%, "+l+"%)":"hsla("+n+", "+o+"%, "+l+"%, "+this._roundA+")"},toHex:function e(t){return rgbToHex(this._r,this._g,this._b,t)},toHexString:function e(t){return"#"+this.toHex(t)},toHex8:function e(t){return rgbaToHex(this._r,this._g,this._b,this._a,t)},toHex8String:function e(t){return"#"+this.toHex8(t)},toRgb:function e(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function e(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function e(){return{r:Math.round(bound01(this._r,255)*100)+"%",g:Math.round(bound01(this._g,255)*100)+"%",b:Math.round(bound01(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function e(){return this._a==1?"rgb("+Math.round(bound01(this._r,255)*100)+"%, "+Math.round(bound01(this._g,255)*100)+"%, "+Math.round(bound01(this._b,255)*100)+"%)":"rgba("+Math.round(bound01(this._r,255)*100)+"%, "+Math.round(bound01(this._g,255)*100)+"%, "+Math.round(bound01(this._b,255)*100)+"%, "+this._roundA+")"},toName:function e(){return this._a===0?"transparent":this._a<1?!1:hexNames[rgbToHex(this._r,this._g,this._b,!0)]||!1},toFilter:function e(t){var n="#"+rgbaToArgbHex(this._r,this._g,this._b,this._a),o=n,l=this._gradientType?"GradientType = 1, ":"";if(t){var r=tinycolor(t);o="#"+rgbaToArgbHex(r._r,r._g,r._b,r._a)}return"progid:DXImageTransform.Microsoft.gradient("+l+"startColorstr="+n+",endColorstr="+o+")"},toString:function e(t){var n=!!t;t=t||this._format;var o=!1,l=this._a<1&&this._a>=0,r=!n&&l&&(t==="hex"||t==="hex6"||t==="hex3"||t==="hex4"||t==="hex8"||t==="name");return r?t==="name"&&this._a===0?this.toName():this.toRgbString():(t==="rgb"&&(o=this.toRgbString()),t==="prgb"&&(o=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(o=this.toHexString()),t==="hex3"&&(o=this.toHexString(!0)),t==="hex4"&&(o=this.toHex8String(!0)),t==="hex8"&&(o=this.toHex8String()),t==="name"&&(o=this.toName()),t==="hsl"&&(o=this.toHslString()),t==="hsv"&&(o=this.toHsvString()),o||this.toHexString())},clone:function e(){return tinycolor(this.toString())},_applyModification:function e(t,n){var o=t.apply(null,[this].concat([].slice.call(n)));return this._r=o._r,this._g=o._g,this._b=o._b,this.setAlpha(o._a),this},lighten:function e(){return this._applyModification(_lighten,arguments)},brighten:function e(){return this._applyModification(_brighten,arguments)},darken:function e(){return this._applyModification(_darken,arguments)},desaturate:function e(){return this._applyModification(_desaturate,arguments)},saturate:function e(){return this._applyModification(_saturate,arguments)},greyscale:function e(){return this._applyModification(_greyscale,arguments)},spin:function e(){return this._applyModification(_spin,arguments)},_applyCombination:function e(t,n){return t.apply(null,[this].concat([].slice.call(n)))},analogous:function e(){return this._applyCombination(_analogous,arguments)},complement:function e(){return this._applyCombination(_complement,arguments)},monochromatic:function e(){return this._applyCombination(_monochromatic,arguments)},splitcomplement:function e(){return this._applyCombination(_splitcomplement,arguments)},triad:function e(){return this._applyCombination(polyad,[3])},tetrad:function e(){return this._applyCombination(polyad,[4])}},tinycolor.fromRatio=function(e,t){if(_typeof(e)=="object"){var n={};for(var o in e)e.hasOwnProperty(o)&&(o==="a"?n[o]=e[o]:n[o]=convertToPercentage(e[o]));e=n}return tinycolor(e,t)};function inputToRGB(e){var t={r:0,g:0,b:0},n=1,o=null,l=null,r=null,d=!1,a=!1;return typeof e=="string"&&(e=stringInputToObject(e)),_typeof(e)=="object"&&(isValidCSSUnit(e.r)&&isValidCSSUnit(e.g)&&isValidCSSUnit(e.b)?(t=rgbToRgb(e.r,e.g,e.b),d=!0,a=String(e.r).substr(-1)==="%"?"prgb":"rgb"):isValidCSSUnit(e.h)&&isValidCSSUnit(e.s)&&isValidCSSUnit(e.v)?(o=convertToPercentage(e.s),l=convertToPercentage(e.v),t=hsvToRgb(e.h,o,l),d=!0,a="hsv"):isValidCSSUnit(e.h)&&isValidCSSUnit(e.s)&&isValidCSSUnit(e.l)&&(o=convertToPercentage(e.s),r=convertToPercentage(e.l),t=hslToRgb(e.h,o,r),d=!0,a="hsl"),e.hasOwnProperty("a")&&(n=e.a)),n=boundAlpha(n),{ok:d,format:e.format||a,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}function rgbToRgb(e,t,n){return{r:bound01(e,255)*255,g:bound01(t,255)*255,b:bound01(n,255)*255}}function rgbToHsl(e,t,n){e=bound01(e,255),t=bound01(t,255),n=bound01(n,255);var o=Math.max(e,t,n),l=Math.min(e,t,n),r,d,a=(o+l)/2;if(o==l)r=d=0;else{var u=o-l;switch(d=a>.5?u/(2-o-l):u/(o+l),o){case e:r=(t-n)/u+(t<n?6:0);break;case t:r=(n-e)/u+2;break;case n:r=(e-t)/u+4;break}r/=6}return{h:r,s:d,l:a}}function hslToRgb(e,t,n){var o,l,r;e=bound01(e,360),t=bound01(t,100),n=bound01(n,100);function d(h,i,s){return s<0&&(s+=1),s>1&&(s-=1),s<.16666666666666666?h+(i-h)*6*s:s<.5?i:s<.6666666666666666?h+(i-h)*(.6666666666666666-s)*6:h}if(t===0)o=l=r=n;else{var a=n<.5?n*(1+t):n+t-n*t,u=2*n-a;o=d(u,a,e+.3333333333333333),l=d(u,a,e),r=d(u,a,e-.3333333333333333)}return{r:o*255,g:l*255,b:r*255}}function rgbToHsv(e,t,n){e=bound01(e,255),t=bound01(t,255),n=bound01(n,255);var o=Math.max(e,t,n),l=Math.min(e,t,n),r,d,a=o,u=o-l;if(d=o===0?0:u/o,o==l)r=0;else{switch(o){case e:r=(t-n)/u+(t<n?6:0);break;case t:r=(n-e)/u+2;break;case n:r=(e-t)/u+4;break}r/=6}return{h:r,s:d,v:a}}function hsvToRgb(e,t,n){e=bound01(e,360)*6,t=bound01(t,100),n=bound01(n,100);var o=Math.floor(e),l=e-o,r=n*(1-t),d=n*(1-l*t),a=n*(1-(1-l)*t),u=o%6,h=[n,d,r,r,a,n][u],i=[a,n,n,d,r,r][u],s=[r,r,a,n,n,d][u];return{r:h*255,g:i*255,b:s*255}}function rgbToHex(e,t,n,o){var l=[pad2(Math.round(e).toString(16)),pad2(Math.round(t).toString(16)),pad2(Math.round(n).toString(16))];return o&&l[0].charAt(0)==l[0].charAt(1)&&l[1].charAt(0)==l[1].charAt(1)&&l[2].charAt(0)==l[2].charAt(1)?l[0].charAt(0)+l[1].charAt(0)+l[2].charAt(0):l.join("")}function rgbaToHex(e,t,n,o,l){var r=[pad2(Math.round(e).toString(16)),pad2(Math.round(t).toString(16)),pad2(Math.round(n).toString(16)),pad2(convertDecimalToHex(o))];return l&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)&&r[3].charAt(0)==r[3].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0)+r[3].charAt(0):r.join("")}function rgbaToArgbHex(e,t,n,o){var l=[pad2(convertDecimalToHex(o)),pad2(Math.round(e).toString(16)),pad2(Math.round(t).toString(16)),pad2(Math.round(n).toString(16))];return l.join("")}tinycolor.equals=function(e,t){return!e||!t?!1:tinycolor(e).toRgbString()==tinycolor(t).toRgbString()},tinycolor.random=function(){return tinycolor.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function _desaturate(e,t){t=t===0?0:t||10;var n=tinycolor(e).toHsl();return n.s-=t/100,n.s=clamp01(n.s),tinycolor(n)}function _saturate(e,t){t=t===0?0:t||10;var n=tinycolor(e).toHsl();return n.s+=t/100,n.s=clamp01(n.s),tinycolor(n)}function _greyscale(e){return tinycolor(e).desaturate(100)}function _lighten(e,t){t=t===0?0:t||10;var n=tinycolor(e).toHsl();return n.l+=t/100,n.l=clamp01(n.l),tinycolor(n)}function _brighten(e,t){t=t===0?0:t||10;var n=tinycolor(e).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(t/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(t/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(t/100)))),tinycolor(n)}function _darken(e,t){t=t===0?0:t||10;var n=tinycolor(e).toHsl();return n.l-=t/100,n.l=clamp01(n.l),tinycolor(n)}function _spin(e,t){var n=tinycolor(e).toHsl(),o=(n.h+t)%360;return n.h=o<0?360+o:o,tinycolor(n)}function _complement(e){var t=tinycolor(e).toHsl();return t.h=(t.h+180)%360,tinycolor(t)}function polyad(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var n=tinycolor(e).toHsl(),o=[tinycolor(e)],l=360/t,r=1;r<t;r++)o.push(tinycolor({h:(n.h+r*l)%360,s:n.s,l:n.l}));return o}function _splitcomplement(e){var t=tinycolor(e).toHsl(),n=t.h;return[tinycolor(e),tinycolor({h:(n+72)%360,s:t.s,l:t.l}),tinycolor({h:(n+216)%360,s:t.s,l:t.l})]}function _analogous(e,t,n){t=t||6,n=n||30;var o=tinycolor(e).toHsl(),l=360/n,r=[tinycolor(e)];for(o.h=(o.h-(l*t>>1)+720)%360;--t;)o.h=(o.h+l)%360,r.push(tinycolor(o));return r}function _monochromatic(e,t){t=t||6;for(var n=tinycolor(e).toHsv(),o=n.h,l=n.s,r=n.v,d=[],a=1/t;t--;)d.push(tinycolor({h:o,s:l,v:r})),r=(r+a)%1;return d}tinycolor.mix=function(e,t,n){n=n===0?0:n||50;var o=tinycolor(e).toRgb(),l=tinycolor(t).toRgb(),r=n/100,d={r:(l.r-o.r)*r+o.r,g:(l.g-o.g)*r+o.g,b:(l.b-o.b)*r+o.b,a:(l.a-o.a)*r+o.a};return tinycolor(d)},tinycolor.readability=function(e,t){var n=tinycolor(e),o=tinycolor(t);return(Math.max(n.getLuminance(),o.getLuminance())+.05)/(Math.min(n.getLuminance(),o.getLuminance())+.05)},tinycolor.isReadable=function(e,t,n){var o=tinycolor.readability(e,t),l,r;switch(r=!1,l=validateWCAG2Parms(n),l.level+l.size){case"AAsmall":case"AAAlarge":r=o>=4.5;break;case"AAlarge":r=o>=3;break;case"AAAsmall":r=o>=7;break}return r},tinycolor.mostReadable=function(e,t,n){var o=null,l=0,r,d,a,u;n=n||{},d=n.includeFallbackColors,a=n.level,u=n.size;for(var h=0;h<t.length;h++)r=tinycolor.readability(e,t[h]),r>l&&(l=r,o=tinycolor(t[h]));return tinycolor.isReadable(e,o,{level:a,size:u})||!d?o:(n.includeFallbackColors=!1,tinycolor.mostReadable(e,["#fff","#000"],n))};var names=tinycolor.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},hexNames=tinycolor.hexNames=flip(names);function flip(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function boundAlpha(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function bound01(e,t){isOnePointZero(e)&&(e="100%");var n=isPercentage(e);return e=Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function clamp01(e){return Math.min(1,Math.max(0,e))}function parseIntFromHex(e){return parseInt(e,16)}function isOnePointZero(e){return typeof e=="string"&&e.indexOf(".")!=-1&&parseFloat(e)===1}function isPercentage(e){return typeof e=="string"&&e.indexOf("%")!=-1}function pad2(e){return e.length==1?"0"+e:""+e}function convertToPercentage(e){return e<=1&&(e=e*100+"%"),e}function convertDecimalToHex(e){return Math.round(parseFloat(e)*255).toString(16)}function convertHexToDecimal(e){return parseIntFromHex(e)/255}var matchers=function(){var e="[-\\+]?\\d+%?",t="[-\\+]?\\d*\\.\\d+%?",n="(?:"+t+")|(?:"+e+")",o="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",l="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+o),rgba:new RegExp("rgba"+l),hsl:new RegExp("hsl"+o),hsla:new RegExp("hsla"+l),hsv:new RegExp("hsv"+o),hsva:new RegExp("hsva"+l),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function isValidCSSUnit(e){return!!matchers.CSS_UNIT.exec(e)}function stringInputToObject(e){e=e.replace(trimLeft,"").replace(trimRight,"").toLowerCase();var t=!1;if(names[e])e=names[e],t=!0;else if(e=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=matchers.rgb.exec(e))?{r:n[1],g:n[2],b:n[3]}:(n=matchers.rgba.exec(e))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=matchers.hsl.exec(e))?{h:n[1],s:n[2],l:n[3]}:(n=matchers.hsla.exec(e))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=matchers.hsv.exec(e))?{h:n[1],s:n[2],v:n[3]}:(n=matchers.hsva.exec(e))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=matchers.hex8.exec(e))?{r:parseIntFromHex(n[1]),g:parseIntFromHex(n[2]),b:parseIntFromHex(n[3]),a:convertHexToDecimal(n[4]),format:t?"name":"hex8"}:(n=matchers.hex6.exec(e))?{r:parseIntFromHex(n[1]),g:parseIntFromHex(n[2]),b:parseIntFromHex(n[3]),format:t?"name":"hex"}:(n=matchers.hex4.exec(e))?{r:parseIntFromHex(n[1]+""+n[1]),g:parseIntFromHex(n[2]+""+n[2]),b:parseIntFromHex(n[3]+""+n[3]),a:convertHexToDecimal(n[4]+""+n[4]),format:t?"name":"hex8"}:(n=matchers.hex3.exec(e))?{r:parseIntFromHex(n[1]+""+n[1]),g:parseIntFromHex(n[2]+""+n[2]),b:parseIntFromHex(n[3]+""+n[3]),format:t?"name":"hex"}:!1}function validateWCAG2Parms(e){var t,n;return e=e||{level:"AA",size:"small"},t=(e.level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),t!=="AA"&&t!=="AAA"&&(t="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:t,size:n}}const defaultOptions={size:10,expandX:.1,expandY:.1,gapPct:.8,gapPx:1,axisLabelSize:1,axisTitleSize:1.25,margins:[0,0,0,0],colors:[],marginLines:[3.5,3.5,1,1],groupColors:["#984ea3","#e41a1c","#4daf4a","#377eb8"],plotBackground:"#fefffe"};updateOptions(defaultOptions);function updateOptions(e){const t=e.groupColors.length;e.colors.length=2*t;for(let r=0;r<t;r++){const d=e.groupColors[r];e.colors[r]=tinycolor(d).darken(10).saturate(20).toString(),e.colors[t+r]=tinycolor(d).lighten(20).saturate(20).toString()}const{marginLines:n,axisTitleSize:o}=e,l=parseFloat(getComputedStyle(document.documentElement).fontSize);e.margins=n.map(r=>r*l*o)}const React={createElement(e,t,...n){const o=document.createElement(e);for(const[l,r]of Object.entries(t||{}))l.startsWith("on")&&l.toLowerCase()in window?o.addEventListener(l.toLowerCase().slice(2),r):o.setAttribute(l,r);return appendChildren(o,...n),o}};function appendChildren(e,...t){if(t.length===0)return;if(t.length>1){for(const l of t)appendChildren(e,l);return}const n=t[0],o=isNode(n)?n:document.createTextNode(n);e.appendChild(o)}function isNode(e){return e.nodeType!=null}function renderAxisLabels(e){renderSingleAxisLabels(e,"x"),renderSingleAxisLabels(e,"y")}function renderSingleAxisLabels(e,t){const{frames:n,scales:o,options:l}=e,{margins:r}=l,d=o[t],a=t==="x"?o.y:o.x,u=n[`${t}Axis`],{context:h}=u,{labels:i,positions:s}=exports.Scale.breaks(d),[c,g,p,m]=r,f=parseInt(h.font.match(/^[0-9]*/)[0],10),x=a.codomain.min-f/2,{width:y,height:b}=u;if(Frame.clear(u),t==="x"){let[S,k]=[0,0];for(let z=0;z<i.length;z++){const v=i[z],A=s[z],w=Frame.textWidth(u,v)+1;outside(A,g,y-m)||overlap(S,A,k,w)||([S,k]=[A,w],Frame.text(u,A,x,v))}}else if(t==="y"){let[S,k]=[0,0];for(let z=0;z<i.length;z++){const v=i[z],A=s[z],w=Frame.textWidth(u,v)+1,M=Frame.textHeight(u,v)+1;r[1]/2<w+M&&(r[1]*=1.05,exports.Plot.resize(e)),!outside(A,c,b-p)&&(overlap(S,A,k,M)||([S,k]=[A,M],Frame.text(u,x,A,v)))}}}function renderAxisTitles(e){renderSingleAxisTitle(e,"x"),renderSingleAxisTitle(e,"y")}function renderSingleAxisTitle(e,t){const{scales:n,frames:o,options:l}=e,{margins:r}=l,d=n[t],a=t==="x"?e.scales.y:e.scales.x,u=o.base,h=Meta.get(d,"name"),i=t==="x"?r[0]:r[1],s=exports.Expanse.unnormalize(d.codomain,.5),c=exports.Expanse.unnormalize(a.codomain,0)-i*2/3;t==="x"&&Frame.text(u,s,c,h),t==="y"&&Frame.text(u,c,s,h,{vertical:!0})}function outside(e,t,n){return e<t||e>n}function overlap(e,t,n,o){const[l,r]=[e-n/2,e+n/2],[d,a]=[t-o/2,t+o/2];return l<a&&r>=d}exports.Plot=void 0,(e=>{(R=>{R.Select="select",R.Pan="pan",R.Query="query"})(e.Mode||(e.Mode={}));function t(R){const T=(R==null?void 0:R.type)??"unknown",C=React.createElement("div",{id:"plot",class:"relative h-full w-full drop-shadow-md"}),O=React.createElement("table",{class:"relative z-30 bg-gray-50 shadow-md"});C.appendChild(O);const L=[],P={},B={},$=[],H=[],q=[],j=structuredClone({...defaultOptions,...R}),{expandX:V,expandY:U}=j,G=[[V,U,1-V,1-U]],W={active:!1,locked:!1,mousedown:!1,mousebutton:MouseButton.Left,mode:"select",mousecoords:[0,0,0,0],lastkey:"",ratio:(R==null?void 0:R.ratio)??void 0},X=Reactive.of()({type:T,data:L,container:C,queryTable:O,frames:P,scales:B,renderables:$,selectables:H,queryables:q,zoomStack:G,parameters:W,options:j});return setupFrames(X,j),setupScales(X,j),setupEvents$1(X),X}e.of=t,e.scatter=Scatterplot,e.bar=Barplot,e.fluct=Fluctuationplot,e.histo=Histogram,e.histo2d=Histogram2d,e.pcoords=Pcoordsplot;function n(R,T){R.appendChild(T.container),e.resize(T)}e.append=n;function o(R,T){for(const C of R.data)Reactive.is(C)&&Reactive.removeAll(C,"changed");R.data.length=0;for(let C=0;C<T.length;C++)R.data.push(T[C]);Reactive.listen(last(T),"changed",()=>e.render(R))}e.setData=o;function l(R,T){T.scales=R.scales,T.data=R.data;const{renderables:C,selectables:O,queryables:L}=R;for(const P of[C,O,L])P.push(T)}e.addGeom=l;function r(R,T){const{renderables:C,selectables:O,queryables:L}=R;for(const P of[C,O,L])remove(P,T)}e.deleteGeom=r;function d(R){addTailwind(R.container,"outline outline-2 outline-slate-600"),R.parameters.active=!0,Reactive.dispatch(R,"activated")}e.activate=d;function a(R){removeTailwind(R.container,"outline outline-2 outline-slate-600"),R.parameters.active=!1,Reactive.dispatch(R,"deactivated")}e.deactivate=a;function u(R){R.parameters.locked=!0}e.lock=u;function h(R){R.parameters.locked=!1}e.unlock=h;function i(R){for(const T of dataLayers)Frame.clear(R.frames[T]);for(const T of R.renderables)Geom.render(T,R.frames)}e.render=i;function s(R){for(const T of["base","xAxis","yAxis"])Frame.clear(R.frames[T]);renderAxisLabels(R),renderAxisTitles(R)}e.renderAxes=s;function c(R){Frame.clear(R.frames.user)}e.clearUserFrame=c;function g(R){for(const Y of Object.values(R.frames))Frame.resize(Y);const{container:T,scales:C,frames:O,parameters:L,options:P}=R,{clientWidth:B,clientHeight:$}=T,{x:H,y:q,width:j,height:V,area:U}=C,{margins:G}=P,[W,X]=[G[0],G[1]],[K,Q]=[$-G[2],B-G[3]];O.under.canvas.style.width=`calc(100% - ${X}px - ${G[3]}px)`,O.under.canvas.style.height=`calc(100% - ${W}px - ${G[2]}px)`,O.over.canvas.style.width=`calc(100% - ${X}px - ${G[3]}px)`,O.over.canvas.style.height=`calc(100% - ${W}px - ${G[2]}px)`;for(const Y of Object.values(O))Frame.clip(Y);const J={default:!0,silent:!0};exports.Expanse.set(H.codomain,Y=>(Y.min=X,Y.max=Q),J),exports.Expanse.set(q.codomain,Y=>(Y.min=W,Y.max=K),J);const[ee,te]=[Q-X,K-W];if(exports.Expanse.set(j.codomain,Y=>Y.max=ee,J),exports.Expanse.set(V.codomain,Y=>Y.max=te,J),exports.Expanse.set(U.codomain,Y=>Y.max=Math.min(ee,te),J),L.ratio){const{expandX:Y,expandY:ne}=defaultOptions;exports.Expanse.set(H.domain,Z=>(Z.zero=Y,Z.one=1-Y),J),exports.Expanse.set(q.domain,Z=>(Z.zero=ne,Z.one=1-ne),J),e.applyRatio(R,L.ratio)}e.render(R),e.renderAxes(R)}e.resize=g;function p(R){const{selectables:T,parameters:C}=R,O=new Set;for(const L of T){const P=Geom.check(L,C.mousecoords);for(let B=0;B<P.length;B++)O.add(P[B])}Reactive.dispatch(R,"set-selected",{cases:Array.from(O)})}e.checkSelection=p;function m(R,T){R.parameters.mode=T}e.setMode=m;function f(R,T){R.parameters.mousedown=T}e.setMousedown=f;function x(R,T){R.parameters.mousebutton=T}e.setMouseButton=x,e.mousemoveHandlers={select:y,pan:b,query:S};function y(R,T){const{container:C,parameters:O,frames:L}=R;if(!O.active||!O.mousedown)return;Reactive.dispatch(R,"clear-transient");const{mousecoords:P}=O,{clientHeight:B}=C,$=T.offsetX,H=B-T.offsetY;P[2]=$,P[3]=H,e.checkSelection(R),Reactive.dispatch(R,"lock-others"),Frame.clear(L.user),Frame.rectangleXY(L.user,...O.mousecoords)}function b(R,T){const{container:C,scales:O,parameters:L}=R;if(!L.active||!L.mousedown)return;const{mousecoords:P}=L,{clientWidth:B,clientHeight:$}=C,[H,q]=P,j=T.offsetX,V=$-T.offsetY,U=(j-H)/B,G=(V-q)/$;exports.Scale.move(O.x,U),exports.Scale.move(O.y,G),P[0]=j,P[1]=V,e.clearUserFrame(R)}function S(R,T){const{offsetX:C,offsetY:O}=T,{container:L,queryTable:P,queryables:B}=R,{clientWidth:$,clientHeight:H}=L;P.style.display="none";const q=C,j=H-O;let V;for(const X of B)if(V=Geom.query(X,[q,j]),V)break;if(!V)return;clearNodeChildren(P);for(const[X,K]of Object.entries(V)){const Q=React.createElement("tr",null,React.createElement("td",{class:"border border-gray-400 px-3"},X),React.createElement("td",{class:"border border-gray-400 px-3 font-mono"},formatLabel(K)));P.appendChild(Q)}P.style.display="inline-block";const U=getComputedStyle(P),G=parseFloat(U.width.slice(0,-2)),{clientWidth:W}=P;q+G>$?(P.style.left="auto",P.style.right=`${W-C+5}px`):(P.style.left=`${q+5}px`,P.style.right="auto"),P.style.top=O+"px"}e.keybindings={"=":"grow","-":"shrink","]":"unfade","[":"fade",z:"zoom",x:"pop-zoom",o:"reorder",";":"decrement-anchor","'":"increment-anchor",n:"normalize"};function k(R){const{area:T,size:C,width:O}=R.scales;exports.Expanse.set(T.codomain,L=>(L.min*=1.1111111111111112,L.max*=1.1111111111111112)),exports.Expanse.set(C.codomain,L=>(L.min*=1.1111111111111112,L.max*=1.1111111111111112)),exports.Expanse.set(O.codomain,L=>L.mult<1?L.mult*=1.1111111111111112:null)}e.grow=k;function z(R){const{area:T,width:C,size:O}=R.scales;exports.Expanse.set(T.codomain,L=>(L.min*=.9,L.max*=.9)),exports.Expanse.set(O.codomain,L=>(L.min*=.9,L.max*=.9)),exports.Expanse.set(C.codomain,L=>L.mult*=.9)}e.shrink=z;function v(R){const{frames:T}=R;for(const C of baseLayers)Frame.setAlpha(T[C],O=>O*9/10);e.render(R)}e.fade=v;function A(R){const{frames:T}=R;for(const C of baseLayers)Frame.setAlpha(T[C],O=>O*10/9);e.render(R)}e.unfade=A;function w(R){const{frames:T,scales:C}=R;for(const O of baseLayers)Frame.resetAlpha(T[O]);for(const O of Object.values(C))exports.Scale.restoreDefaults(O);R.zoomStack.length=1,e.clearUserFrame(R)}e.reset=w;function M(R){e.setMode(R,"query")}e.setQueryMode=M;function _(R,T){const{scales:C,parameters:O,zoomStack:L}=R;let{coords:P,units:B}=T??{};B=B??"screen";let[$,H,q,j]=P??O.mousecoords;const{x:V,y:U}=C;if(B==="data"){const K={silent:!0};exports.Expanse.set(V.domain,Q=>(Q.zero=0,Q.one=1),K),exports.Expanse.set(U.domain,Q=>(Q.zero=0,Q.one=1),K),$=exports.Expanse.normalize(V.domain,$),q=exports.Expanse.normalize(V.domain,q),H=exports.Expanse.normalize(U.domain,H),j=exports.Expanse.normalize(U.domain,j)}if(B==="screen"){if(Math.abs(q-$)<10||Math.abs(j-H)<10)return;$=trunc(exports.Expanse.normalize(V.codomain,$)),q=trunc(exports.Expanse.normalize(V.codomain,q)),H=trunc(exports.Expanse.normalize(U.codomain,H)),j=trunc(exports.Expanse.normalize(U.codomain,j))}[$,q]=[$,q].sort(diff),[H,j]=[H,j].sort(diff),exports.Scale.expand(C.x,$,q),exports.Scale.expand(C.y,H,j);const G=rangeInverse($,q),W=rangeInverse(H,j),X=sqrt(max(G,W));exports.Expanse.set(C.width.codomain,K=>K.max*=G),exports.Expanse.set(C.height.codomain,K=>K.max*=W),exports.Expanse.set(C.area.codomain,K=>K.max*=X),exports.Expanse.set(C.size.codomain,K=>K.max*=X),L.push([$,H,q,j]),Reactive.dispatch(R,"clear-transient"),e.render(R)}e.zoom=_;function E(R){const{scales:T,zoomStack:C}=R;if(C.length===1)return;const[O,L,P,B]=C[C.length-1],[$,H]=invertRange(O,P),[q,j]=invertRange(L,B);exports.Scale.expand(T.x,$,H),exports.Scale.expand(T.y,q,j);const V=rangeInverse($,H),U=rangeInverse(q,j),G=1/sqrt(max(1/V,1/U));exports.Expanse.set(T.width.codomain,W=>W.max*=V),exports.Expanse.set(T.height.codomain,W=>W.max*=U),exports.Expanse.set(T.area.codomain,W=>W.max*=G),exports.Expanse.set(T.size.codomain,W=>W.max*=G),C.pop(),e.clearUserFrame(R),e.render(R)}e.popZoom=E;function I(R,T){const{x:C,y:O}=R.scales;if(!exports.Expanse.isContinuous(C.domain)||!exports.Expanse.isContinuous(O.domain))throw new Error("Both axes need to be continuous to set a ratio");R.parameters.ratio=T,e.resize(R)}e.setRatio=I;function F(R,T){const{scales:C}=R,{x:O,y:L}=C,P=exports.Scale.unitRatio(O),B=exports.Scale.unitRatio(L)*T,$={default:!0,silent:!0};if(P>B){const H=B/P*exports.Expanse.unitRange(L.domain);exports.Expanse.set(O.domain,q=>(q.zero=(1-H)/2,q.one=(1+H)/2),$)}else{const H=P/B*exports.Expanse.unitRange(O.domain);exports.Expanse.set(L.domain,q=>(q.zero=(1-H)/2,q.one=(1+H)/2),$)}}e.applyRatio=F;function D(R,T){return R.scales[T].domain}e.getScale=D;function N(R,T,C){let{min:O,max:L,zero:P,one:B,mult:$,labels:H,direction:q}=C;const j=R.scales[T].domain,V=R.scales[T].codomain;if(!Object.keys(R.scales).includes(T))throw new Error(`Unrecognized scale '${T}'`);const U={default:C.default??!1,unfreeze:C.unfreeze??!1};if([P,B].some(isDefined)&&(P=P??j.zero,L=L??j.max,exports.Expanse.set(j,G=>(G.zero=P,G.one=B),U),R.parameters.ratio=void 0),[O,L].some(isDefined)){if(!exports.Expanse.isContinuous(j))throw new Error("Limits can only be set with a continuous scale");O=O??j.min,L=L??j.max,exports.Expanse.set(j,G=>(G.min=O,G.max=L),U),R.parameters.ratio=void 0}if(H){if(!exports.Expanse.isDiscrete(j))throw new Error("Labels can be ordered with a discrete scale only");if(!stringArraysMatch(j.labels,H))throw new Error("Labels must match the scale's labels");const G=orderIndicesByTable(j.labels,H);exports.Expanse.reorder(j,G)}q&&exports.Expanse.set(j,G=>G.direction=q,U),$&&exports.Expanse.set(V,G=>G.mult=$,U)}e.setScale=N})(exports.Plot||(exports.Plot={}));function setupFrames(e,t){const{container:n,frames:o}=e,{margins:l,colors:r,axisTitleSize:d}=t,[a,u,h,i]=l,s=[7,6,5,4,3,2,1,0],c="absolute top-0 right-0 w-full h-full";for(const g of s){const p=React.createElement("canvas",{class:c});p.style.zIndex=`${7-g+2}`;const m=Frame.of(p,t),f=r[g];Frame.setContext(m,{fillStyle:f,strokeStyle:f}),m.margins=l,o[g]=m}o.base=Frame.of(React.createElement("canvas",{class:c+" z-0 bg-gray-100"}),t),Frame.setContext(o.base,{font:`${d}rem sans-serif`,textBaseline:"middle",textAlign:"center"}),o.under=Frame.of(React.createElement("canvas",{class:c+" z-1 bg-white"}),t),o.under.canvas.style.width=`calc(100% - ${u}px - ${i}px)`,o.under.canvas.style.height=`calc(100% - ${a}px - ${h}px)`,o.under.canvas.style.top=h+"px",o.under.canvas.style.right=i+"px",o.over=Frame.of(React.createElement("canvas",{class:c+"relative z-10 border border-b-black border-l-black"}),t),o.over.canvas.style.width=`calc(100% - ${u}px - ${i}px)`,o.over.canvas.style.height=`calc(100% - ${a}px - ${h}px)`,o.over.canvas.style.top=h+"px",o.over.canvas.style.right=i+"px",o.user=Frame.of(React.createElement("canvas",{class:c+" z-10"}),t),o.user.margins=l,Frame.setContext(o.user,{globalAlpha:.06666666666666667}),o.xAxis=Frame.of(React.createElement("canvas",{class:c}),t),Frame.setContext(o.xAxis,{fillStyle:"#3B4854",textBaseline:"top",textAlign:"center",font:`${defaultOptions.axisLabelSize}rem serif`}),o.yAxis=Frame.of(React.createElement("canvas",{class:c}),t),Frame.setContext(o.yAxis,{fillStyle:"#3B4854",textBaseline:"middle",textAlign:"right",font:`${defaultOptions.axisLabelSize}rem serif`});for(let[g,p]of Object.entries(o))isNaN(parseFloat(g))||(g="data-"+g),p.canvas.id=`frame-${g}`,Frame.append(p,n)}function setupEvents$1(e){const{container:t,parameters:n,frames:o}=e,{mousecoords:l}=n;for(const[r,d]of Object.entries(exports.Plot.keybindings))Reactive.listen(e,r,()=>Reactive.dispatch(e,d));t.addEventListener("mousedown",r=>{r.stopPropagation();const{locked:d}=n;exports.Plot.activate(e),exports.Plot.setMousedown(e,!0),exports.Plot.setMouseButton(e,r.button),r.button===MouseButton.Left?exports.Plot.setMode(e,"select"):r.button===MouseButton.Right&&exports.Plot.setMode(e,"pan");const a=r.offsetX,u=t.clientHeight-r.offsetY;copyValues([a,u,a,u],l),!d&&n.mode==="select"&&(Reactive.dispatch(e,"clear-transient"),exports.Plot.checkSelection(e)),exports.Plot.unlock(e)}),t.addEventListener("contextmenu",r=>{r.preventDefault(),exports.Plot.setMousedown(e,!0),exports.Plot.setMouseButton(e,MouseButton.Right),exports.Plot.setMode(e,"pan"),l[0]=r.offsetX,l[1]=t.clientHeight-r.offsetY,Frame.clear(o.user)}),t.addEventListener("mouseup",()=>exports.Plot.setMousedown(e,!1)),t.addEventListener("mousemove",throttle(r=>{exports.Plot.mousemoveHandlers[n.mode](e,r)},20)),Reactive.listen(e,"reset",()=>exports.Plot.reset(e)),Reactive.listen(e,"resize",()=>exports.Plot.resize(e)),Reactive.listen(e,"activate",()=>exports.Plot.activate(e)),Reactive.listen(e,"deactivate",()=>exports.Plot.deactivate(e)),Reactive.listen(e,"render",()=>exports.Plot.render(e)),Reactive.listen(e,"lock",()=>exports.Plot.lock(e)),Reactive.listen(e,"unlock",()=>exports.Plot.unlock(e)),Reactive.listen(e,"query-mode",()=>exports.Plot.setMode(e,"query")),Reactive.listen(e,"render-axes",()=>exports.Plot.renderAxes(e)),Reactive.listen(e,"clear-transient",()=>exports.Plot.clearUserFrame(e)),Reactive.listen(e,"get-scale",r=>{if(!(!r||!r.scale))return exports.Plot.getScale(e,r.scale)}),Reactive.listen(e,"set-scale",r=>{!r||!r.scale||exports.Plot.setScale(e,r.scale,r)}),Reactive.listen(e,"grow",()=>exports.Plot.grow(e)),Reactive.listen(e,"shrink",()=>exports.Plot.shrink(e)),Reactive.listen(e,"fade",()=>exports.Plot.fade(e)),Reactive.listen(e,"unfade",()=>exports.Plot.unfade(e)),Reactive.listen(e,"zoom",r=>exports.Plot.zoom(e,r)),Reactive.listen(e,"pop-zoom",()=>exports.Plot.popZoom(e));for(const r of Object.values(e.scales))Reactive.listen(r,"changed",()=>{exports.Plot.render(e),exports.Plot.renderAxes(e)})}function setupScales(e,t){var y,b;const{scales:n,container:o}=e,{clientWidth:l,clientHeight:r}=o,d=exports.Expanse[((y=t==null?void 0:t.scales)==null?void 0:y.x)??"continuous"](),a=exports.Expanse[((b=t==null?void 0:t.scales)==null?void 0:b.y)??"continuous"]();n.x=exports.Scale.of(d,exports.Expanse.continuous(0,l)),n.y=exports.Scale.of(a,exports.Expanse.continuous(0,r)),n.height=exports.Scale.of(exports.Expanse.continuous(),exports.Expanse.continuous(0,r)),n.width=exports.Scale.of(exports.Expanse.continuous(),exports.Expanse.continuous(0,l)),n.area=exports.Scale.of(exports.Expanse.continuous(),exports.Expanse.continuous()),n.size=exports.Scale.of(exports.Expanse.continuous(),exports.Expanse.continuous(0,t.size));const{x:u,y:h,width:i,height:s,size:c,area:g}=n,p={default:!0,silent:!0},{expandX:m,expandY:f}=defaultOptions;exports.Expanse.set(g.domain,S=>S.ratio=!0,p),exports.Expanse.set(c.domain,S=>S.ratio=!0,p),exports.Expanse.set(g.codomain,S=>(S.trans=square,S.inv=sqrt),p),exports.Expanse.set(c.codomain,S=>(S.trans=square,S.inv=sqrt),p),exports.Expanse.set(u.domain,S=>(S.zero=m,S.one=1-m),p),exports.Expanse.set(h.domain,S=>(S.zero=f,S.one=1-f),p),exports.Expanse.set(i.domain,S=>S.one=1-2*m,p),exports.Expanse.set(s.domain,S=>S.one=1-2*f,p),exports.Expanse.set(g.domain,S=>S.one=1-2*Math.max(m,f),p);const x=S=>Math.max(S,0);exports.Expanse.set(i.codomain,S=>S.inv=x,p),exports.Expanse.set(s.codomain,S=>S.inv=x,p)}var DOM;(e=>{function t(n,o){return n.querySelector(o)}e.select=t})(DOM||(DOM={}));function keybindingsMenu(e){const t=React.createElement("div",null,React.createElement("div",{id:"modal",class:"tailwind absolute left-0 top-0 z-50 flex size-full flex-col items-center bg-slate-800 bg-opacity-80 p-10"},React.createElement("div",{id:"bindings",class:"relative flex h-full w-fit flex-col flex-wrap justify-start py-10"})),React.createElement("button",{class:"absolute right-0 top-0 z-30 select-none rounded-bl-md bg-gray-300 p-1 px-2 text-sm text-white hover:bg-gray-400"},"keybindings")),n=DOM.select(t,"#modal"),o=DOM.select(t,"#bindings"),l=DOM.select(t,"button");o.style.columnFill="auto",n.style.display="none";let r=!1;function d(){n.style.display="flex"}function a(){r||(n.style.display="none")}l.addEventListener("click",d),n.addEventListener("click",a);const u=e.keybindings;for(const[h,i]of Object.entries(u)){const s=React.createElement("span",{class:"m-1 flex flex-row"},React.createElement("button",{class:"m-1 w-8 rounded-md bg-gray-400 p-1 px-2 text-center text-white outline-none hover:bg-gray-500"},h),React.createElement("div",{class:"m-1 p-1 px-2 text-white"},capitalize(i.replaceAll("-"," ")))),c=DOM.select(s,"div"),g=DOM.select(s,"button");c.addEventListener("click",m=>m.stopPropagation()),g.addEventListener("click",m=>{r||(m.stopPropagation(),addTailwind(g,"text-black bg-slate-200 hover:bg-slate-200"),window.addEventListener("keydown",p),r=!0)});const p=m=>{const{key:f}=m,x=g.innerText;f in u&&f!==x||(exports.Scene.setKeyBinding(e,f,i),g.innerText=m.key,removeTailwind(g,"text-black bg-slate-200 hover:bg-slate-200"),window.removeEventListener("keydown",p),r=!1)};o.appendChild(s)}return t}exports.Scene=void 0,(e=>{function t(w,M){const _=React.createElement("div",{id:"scene-container",class:"pr-15 tailwind relative flex h-full w-full content-center items-center justify-center bg-[#deded9] p-10"},React.createElement("div",{id:"plots-container",class:"grid h-full w-full grid-cols-1 grid-rows-1 gap-5"})),E=DOM.select(_,"#plots-container"),[I,F]=[1,1],D=Marker.of(Object.values(w)[0].length),N=[],R={},T=Object.assign(defaultOptions,M);updateOptions(T);for(const[P,B]of Object.entries(w))Meta.has(B,"name")||Meta.set(B,"name",P);const C={...e.keybindings,...exports.Plot.keybindings},O={send:console.log},L=Reactive.of()({data:w,container:_,plotsContainer:E,rows:I,cols:F,marker:D,client:O,plots:N,plotsByType:R,options:T,keybindings:C});if(M!=null&&M.websocketURL){const P=new WebSocket(M.websocketURL),B={sender:"scene",target:"server",type:"connected"};P.addEventListener("open",()=>P.send(JSON.stringify(B))),P.addEventListener("message",$=>{f(L,JSON.parse($.data))}),window.addEventListener("beforeunload",()=>P.close()),L.client=P}return _.appendChild(keybindingsMenu(L)),setupEvents(L),L}e.of=t;async function n(w,M){const _=await fetchJSON(w);return e.of(_,M)}e.ofAsync=n;function o(w,M){w.appendChild(M.container),e.resize(M)}e.append=o;function l(w,M){const{plotsContainer:_,marker:E,plots:I,plotsByType:F}=w;Reactive.listen(M,"activated",()=>{for(const N of I)N!=M&&Reactive.dispatch(N,"deactivate");w.activePlot=M}),Reactive.listen(M,"lock-others",()=>{for(const N of I)N!==M&&Reactive.dispatch(N,"lock")}),Reactive.listen(M,"set-selected",N=>{Marker.update(E,N.cases)}),Reactive.listen(M,"clear-transient",()=>{for(const N of I)exports.Plot.clearUserFrame(N);Marker.clearTransient(E)});const{type:D}=M;F[D]||(F[D]=[]),F[D].push(I.length),I.push(M),exports.Plot.append(_,M),d(w),c(w),e.resize(w)}e.addPlot=l;function r(w,M){const{type:_,variables:E,reducer:I,queries:F}=M??{};if(!_||_==="unknown"||!E)return;for(const T of E)if(!Object.keys(w.data).includes(T))throw new Error(`Variable '${T}' is not present in the data`);const D=keysToSelectors(E),N={};if(I&&(N.reducer=exports.Reducer.parse(I)),F)if(isStringArray(F))N.queries=keysToSelectors(F);else{const T=C=>F.map(([O,L])=>[C[O],exports.Reducer.parse(L)]);N.queries=T}const R=exports.Plot[_](w,D,N);e.addPlot(w,R)}e.addPlotBySpec=r;function d(w){for(let M=0;M<w.plots.length;M++)w.plots[M].container.id=`plot${M+1}`}function a(w){const M=last(w.plots);M&&h(w,M)}e.popPlot=a;function u(w,M){const _=s(w,M);_&&h(w,_)}e.removePlot=u;function h(w,M){const{plots:_,plotsByType:E,plotsContainer:I}=w,F=_.indexOf(M);for(const D of Object.values(E))if(D.indexOf(F)!==-1){remove(D,F);break}remove(_,M),I.removeChild(M.container),Reactive.removeAllListeners(M),d(w),c(w),e.resize(w)}function i(w,M){return M==="scene"?w:s(w,M)}e.getTarget=i;function s(w,M){const{plots:_,plotsByType:E}=w;let[I,F]=splitNumericSuffix(M);const D=parseInt(F,10)-1;if(I==="plot"||I==="p")return _[D];if(I=I.replace("plot","").replace("gram",""),I in Object.keys(plotIdShort)&&(I=plotIdShort[I]),I in E)return _[E[I][D]]}e.getPlot=s;function c(w){const{plots:M}=w;if(M.length===0)return;const _=Math.ceil(Math.sqrt(M.length)),E=Math.ceil(M.length/_);e.setDimensions(w,E,_)}function g(w,M,_){const{plotsContainer:E}=w;w.rows=M,w.cols=_,E.style.gridTemplateRows=Array(M).fill("1fr").join(" "),E.style.gridTemplateColumns=Array(_).fill("1fr").join(" "),e.resize(w)}e.setDimensions=g;function p(w,M){const{plotsContainer:_,plots:E}=w,I=new Set(M.flat()),F=new Set(seq(0,E.length-1));for(const T of I)F.delete(T);F.size>0&&alert("Warning: Some plots are not included in the layout and will be hidden.");for(let T=0;T<E.length;T++)E[T].container.style.gridArea=`plot${T}`;let D="";for(const T of M)D+=`"${T.map(C=>`plot${C}`).join(" ")}" `;const[N,R]=[M.length,M[0].length];_.style.gridTemplateAreas=D,_.style.gridTemplateRows=Array(N).fill("1fr").join(" "),_.style.gridTemplateColumns=Array(R).fill("1fr").join(" "),e.resize(w)}e.setLayout=p;function m(w){w.plotsContainer.style.gridTemplateAreas="";for(const M of w.plots)M.container.style.gridArea="auto";c(w)}e.clearLayout=m;function f(w,M){if(!w.client)return;const{type:_,target:E,data:I}=M,F=i(w,E);F&&Reactive.dispatch(F,_,I)}e.handleMessage=f;function x(w,M,_){const[E,I]=["scene","server"],F=JSON.stringify({sender:E,target:I,type:M,data:_});w.client.send(F)}e.sendMessage=x;function y(w){for(const M of w.plots)Reactive.dispatch(M,"resize")}e.resize=y;function b(w){for(const M of w.plots)Reactive.dispatch(M,"reset");Marker.clearTransient(w.marker)}e.reset=b;function S(w){for(const M of w.plots)Reactive.dispatch(M,"query-mode")}e.setQueryMode=S;function k(w){Marker.setGroup(w.marker,Group.First)}e.setGroupFirst=k;function z(w){Marker.setGroup(w.marker,Group.Second)}e.setGroupSecond=z;function v(w){Marker.setGroup(w.marker,Group.Third)}e.setGroupThird=v;function A(w,M,_){let E;for(const[I,F]of Object.entries(w.keybindings))if(F===_){E=I;break}E&&delete w.keybindings[E],w.keybindings[M]=_}e.setKeyBinding=A,e.keybindings={r:"reset",q:"query-mode",1:"group-1",2:"group-2",3:"group-3"}})(exports.Scene||(exports.Scene={}));function setupEvents(e){const{marker:t,plots:n,container:o,keybindings:l}=e;o.addEventListener("mousedown",()=>{for(const r of n)Reactive.dispatch(r,"deactivate")}),o.addEventListener("dblclick",()=>{for(const r of n)Reactive.dispatch(r,"deactivate"),Frame.clear(r.frames.user);Marker.clearAll(e.marker),e.activePlot=void 0}),window.addEventListener("keydown",r=>{const d=l[r.key];d&&(e.activePlot&&Reactive.dispatch(e.activePlot,d),Reactive.dispatch(e,d))}),window.addEventListener("keyup",()=>{Marker.setGroup(t,Transient);for(const r of e.plots)r.parameters.mode=exports.Plot.Mode.Select,r.queryTable.style.display="none"}),window.addEventListener("resize",throttle(()=>exports.Scene.resize(e),10)),Reactive.listen(t,"cleared",()=>{for(const r of n)Reactive.dispatch(r,"unlock")}),Reactive.listen(e,"resize",()=>exports.Scene.resize(e)),Reactive.listen(e,"reset",()=>exports.Scene.reset(e)),Reactive.listen(e,"query-mode",()=>exports.Scene.setQueryMode(e)),Reactive.listen(e,"group-1",()=>exports.Scene.setGroupFirst(e)),Reactive.listen(e,"group-2",()=>exports.Scene.setGroupSecond(e)),Reactive.listen(e,"group-3",()=>exports.Scene.setGroupThird(e)),Reactive.listen(e,"connected",()=>{var r;return console.log(`Connected to Websocket server on: ${(r=e.client)==null?void 0:r.url}`)}),Reactive.listen(e,"set-dims",r=>{!r||!r.rows||!r.columns||exports.Scene.setDimensions(e,r.rows,r.cols)}),Reactive.listen(e,"add-plot",r=>{r&&exports.Scene.addPlotBySpec(e,r)}),Reactive.listen(e,"pop-plot",()=>exports.Scene.popPlot(e)),Reactive.listen(e,"remove-plot",r=>{!r||!r.id||exports.Scene.removePlot(e,r.id)}),Reactive.listen(e,"set-selected",r=>{!r||!r.cases||Marker.update(t,r.cases)}),Reactive.listen(e,"set-assigned",r=>{if(!r||!r.group)return;const d=7-Math.min(r.group,3);Marker.update(t,r.cases,{group:d})}),Reactive.listen(e,"get-selected",()=>{const r=filterIndices(Array.from(t.indices),Marker.isTransient);exports.Scene.sendMessage(e,"get-selected",{cases:r})}),Reactive.listen(e,"get-assigned",r=>{if(!r||!r.group)return;const d=u=>(u|4)===7-Math.min(r.group,3),a=filterIndices(Array.from(t.indices),d);exports.Scene.sendMessage(e,"get-assigned",{cases:a,group:r.group})}),Reactive.listen(e,"clear-selection",()=>Marker.clearAll(t)),Reactive.listen(e,"get-scale",r=>{if(!r||!r.id)return;const d=exports.Scene.getPlot(e,r.id);d&&Reactive.dispatch(d,"get-scale",r)}),Reactive.listen(e,"set-scale",r=>{if(!r||!r.id)return;const d=exports.Scene.getPlot(e,r.id);d&&Reactive.dispatch(d,"set-scale",r)}),Reactive.listen(e,"normalize",r=>{if(!r||!r.id)return;const d=exports.Scene.getPlot(e,r.id);d&&Reactive.dispatch(d,"normalize")}),Reactive.listen(e,"zoom",r=>{if(!r||!r.id)return;const d=exports.Scene.getPlot(e,r.id);d&&Reactive.dispatch(d,"zoom",r)}),Reactive.listen(e,"set-layout",r=>{!r||!r.layout||exports.Scene.setLayout(e,r.layout)}),Reactive.listen(e,"set-parameters",r=>{if(!r||!r.id)return;const d=exports.Scene.getPlot(e,r.id);d&&Reactive.dispatch(d,"set-parameters",r)}),Reactive.listen(e,"clear-layout",()=>exports.Scene.clearLayout(e))}const plotIdShort={s:"scatter",b:"bar",h:"histo",f:"fluct",hh:"histo2d",pc:"pcoords"};return exports.POSITIONS=POSITIONS,exports.addIndexed=addIndexed,exports.addTailwind=addTailwind,exports.applyDirection=applyDirection,exports.applyWith=applyWith,exports.binBreaks=binBreaks,exports.call=call,exports.capitalize=capitalize,exports.clearNodeChildren=clearNodeChildren,exports.compareAlphaNumeric=compareAlphaNumeric,exports.convertToSuperscript=convertToSuperscript,exports.copyProps=copyProps,exports.copyValues=copyValues,exports.cumsum=cumsum,exports.dec=dec,exports.diff=diff,exports.exp10=exp10,exports.exponentialToSuperscript=exponentialToSuperscript,exports.fetchJSON=fetchJSON,exports.filterIndices=filterIndices,exports.findLength=findLength,exports.formatAxisLabels=formatAxisLabels,exports.formatLabel=formatLabel,exports.formatText=formatText,exports.identity=identity,exports.inc=inc,exports.invertRange=invertRange,exports.isArray=isArray,exports.isDefined=isDefined,exports.isEventTarget=isEventTarget,exports.isIntegerString=isIntegerString,exports.isNumber=isNumber,exports.isNumberArray=isNumberArray,exports.isObject=isObject,exports.isPrimitive=isPrimitive,exports.isStringArray=isStringArray,exports.isTypedArray=isTypedArray,exports.just=just,exports.keysToSelectors=keysToSelectors,exports.last=last,exports.log10=log10,exports.max=max,exports.merge=merge,exports.minDecimal=minDecimal,exports.minmax=minmax,exports.one=one,exports.orderBy=orderBy,exports.orderIndices=orderIndices,exports.orderIndicesByTable=orderIndicesByTable,exports.ordered=ordered,exports.pointInRect=pointInRect,exports.prettyBreaks=prettyBreaks,exports.prod=prod,exports.randomInteger=randomInteger,exports.rangeInverse=rangeInverse,exports.rectSegmentIntersect=rectSegmentIntersect,exports.rectsIntersect=rectsIntersect,exports.remove=remove,exports.removeTailwind=removeTailwind,exports.rep=rep,exports.round=round,exports.row=row,exports.segmentsIntersect=segmentsIntersect,exports.selector=selector,exports.seq=seq,exports.splitNumericSuffix=splitNumericSuffix,exports.sqrt=sqrt,exports.square=square,exports.stringArraysMatch=stringArraysMatch,exports.stripWS=stripWS,exports.subset=subset,exports.sum=sum,exports.throttle=throttle,exports.timeExecution=timeExecution,exports.toLowerCase=toLowerCase,exports.toUpperCase=toUpperCase,exports.trunc=trunc,exports.uniqueIntegers=uniqueIntegers,exports.zero=zero,Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),exports}({});
