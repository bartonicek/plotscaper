<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Available interactions • plotscaper</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Available interactions">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">plotscaper</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.4</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/plotscaper.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/algebra.html">The algebra of interaction</a></li>
    <li><a class="dropdown-item" href="../articles/available-interactions.html">Available interactions</a></li>
    <li><a class="dropdown-item" href="../articles/example-imdb.html">Example: Top 1,000 movies from the Internet Movie Database</a></li>
    <li><a class="dropdown-item" href="../articles/layout.html">Layout</a></li>
    <li><a class="dropdown-item" href="../articles/performance.html">Performance</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">



<link href="available-interactions_files/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="available-interactions_files/htmlwidgets-1.6.4/htmlwidgets.js"></script><script src="available-interactions_files/plotscape-0.0.0/main.iife.js"></script><script src="available-interactions_files/plotscaper-binding-0.1.4/plotscaper.js"></script><div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Available interactions</h1>
            
      

      <div class="d-none name"><code>available-interactions.Rmd</code></div>
    </div>

    
    
<p>There are many ways of interacting with <code>plotscaper</code>
figures, both client-side with the figure directly, and from within a
running R session.</p>
<p>This vignette isn’t meant to provide an exhaustive overview - I’m
terrible at book-keeping, so I may forget to add/remove descriptions of
some features as time goes on (but I promise to try my best not to).
Meanwhile, you may be better off approaching this vignette as a
compendium of the most important/stable features. If you have any
questions, please consult the package documentation or hit me up via
email.</p>
<div class="section level2">
<h2 id="linked-selection-bread-and-butter">Linked selection: Bread and butter<a class="anchor" aria-label="anchor" href="#linked-selection-bread-and-butter"></a>
</h2>
<p>This is one of the main features of <code>plotscaper</code> (or
indeed, most systems for interactive data visualization). All of the
plots in a <code>plotscaper</code> figure are linked, so clicking or
clicking-and-dragging can be used to select objects in one plot, and the
corresponding cases are then highlighted across all the other plots.</p>
<p>By default, selection is <em>transient</em>, meaning that if you make
a selection and then click anywhere else in the figure, the selection
disappears. You can make the selection <em>permanent</em> and assign
cases to permanent groups by holding the key <code>1</code>,
<code>2</code>, or <code>3</code> while doing the selection. Permanent
selection is only removed by double-clicking.</p>
<p>This is all client-side interactions (clicking buttons and pressing
keys). You can achieve the same effect from R by using the
<code>select_cases</code> and <code>assign_cases</code> functions:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://bartonicek.github.io/plotscaper/">plotscaper</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">schema</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_schema.html">create_schema</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/add_scatterplot.html">add_scatterplot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"wt"</span>, <span class="st">"mpg"</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/add_barplot.html">add_barplot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"cyl"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">schema</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/select_cases.html">select_cases</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/render.html">render</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="plotscaper html-widget html-fill-item" id="htmlwidget-ac96cb3ee4656e2e9ec3" style="width:700px;height:432.632880098888px;"></div>
<script type="application/json" data-for="htmlwidget-ac96cb3ee4656e2e9ec3">{"x":{"data":{"mpg":[21,21,22.8,21.4,18.7,18.1,14.3,24.4,22.8,19.2,17.8,16.4,17.3,15.2,10.4,10.4,14.7,32.4,30.4,33.9,21.5,15.5,15.2,13.3,19.2,27.3,26,30.4,15.8,19.7,15,21.4],"cyl":[6,6,4,6,8,6,8,4,4,6,6,8,8,8,8,8,8,4,4,4,4,8,8,8,8,4,4,4,8,6,8,4],"disp":[160,160,108,258,360,225,360,146.7,140.8,167.6,167.6,275.8,275.8,275.8,472,460,440,78.7,75.7,71.09999999999999,120.1,318,304,350,400,79,120.3,95.09999999999999,351,145,301,121],"hp":[110,110,93,110,175,105,245,62,95,123,123,180,180,180,205,215,230,66,52,65,97,150,150,245,175,66,91,113,264,175,335,109],"drat":[3.9,3.9,3.85,3.08,3.15,2.76,3.21,3.69,3.92,3.92,3.92,3.07,3.07,3.07,2.93,3,3.23,4.08,4.93,4.22,3.7,2.76,3.15,3.73,3.08,4.08,4.43,3.77,4.22,3.62,3.54,4.11],"wt":[2.62,2.875,2.32,3.215,3.44,3.46,3.57,3.19,3.15,3.44,3.44,4.07,3.73,3.78,5.25,5.424,5.345,2.2,1.615,1.835,2.465,3.52,3.435,3.84,3.845,1.935,2.14,1.513,3.17,2.77,3.57,2.78],"qsec":[16.46,17.02,18.61,19.44,17.02,20.22,15.84,20,22.9,18.3,18.9,17.4,17.6,18,17.98,17.82,17.42,19.47,18.52,19.9,20.01,16.87,17.3,15.41,17.05,18.9,16.7,16.9,14.5,15.5,14.6,18.6],"vs":[0,0,1,1,0,1,0,1,1,1,1,0,0,0,0,0,0,1,1,1,1,0,0,0,0,1,0,1,0,0,0,1],"am":[1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,1,1,1,1,1,1,1],"gear":[4,4,4,3,3,3,3,4,4,4,4,3,3,3,3,3,3,4,4,4,3,3,3,3,3,4,5,5,5,5,5,4],"carb":[4,4,1,1,2,1,4,2,2,4,4,3,3,3,4,4,4,1,2,1,1,2,2,4,2,1,2,2,4,6,8,2]},"queue":[{"sender":"server","target":"scene","type":"add-plot","data":{"type":"scatter","variables":["wt","mpg"],"id":"b96d95e0-89ed-444a-8788-e27f717d0036"}},{"sender":"server","target":"scene","type":"add-plot","data":{"type":"bar","variables":["cyl"],"id":"6d023415-f7e0-4d2d-955c-01c2d5039149"}},{"sender":"server","target":"scene","type":"set-selected","data":{"cases":[0,1,2,3,4,5,6,7,8,9]}}],"options":null},"evals":[],"jsHooks":[]}</script><div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">schema</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/assign_cases.html">assign_cases</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="co"># Use e.g. 'group = 2' to assign to a different group</span></span>
<span>  <span class="fu"><a href="../reference/render.html">render</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="plotscaper html-widget html-fill-item" id="htmlwidget-e5c8c404fe174e4c81bd" style="width:700px;height:432.632880098888px;"></div>
<script type="application/json" data-for="htmlwidget-e5c8c404fe174e4c81bd">{"x":{"data":{"mpg":[21,21,22.8,21.4,18.7,18.1,14.3,24.4,22.8,19.2,17.8,16.4,17.3,15.2,10.4,10.4,14.7,32.4,30.4,33.9,21.5,15.5,15.2,13.3,19.2,27.3,26,30.4,15.8,19.7,15,21.4],"cyl":[6,6,4,6,8,6,8,4,4,6,6,8,8,8,8,8,8,4,4,4,4,8,8,8,8,4,4,4,8,6,8,4],"disp":[160,160,108,258,360,225,360,146.7,140.8,167.6,167.6,275.8,275.8,275.8,472,460,440,78.7,75.7,71.09999999999999,120.1,318,304,350,400,79,120.3,95.09999999999999,351,145,301,121],"hp":[110,110,93,110,175,105,245,62,95,123,123,180,180,180,205,215,230,66,52,65,97,150,150,245,175,66,91,113,264,175,335,109],"drat":[3.9,3.9,3.85,3.08,3.15,2.76,3.21,3.69,3.92,3.92,3.92,3.07,3.07,3.07,2.93,3,3.23,4.08,4.93,4.22,3.7,2.76,3.15,3.73,3.08,4.08,4.43,3.77,4.22,3.62,3.54,4.11],"wt":[2.62,2.875,2.32,3.215,3.44,3.46,3.57,3.19,3.15,3.44,3.44,4.07,3.73,3.78,5.25,5.424,5.345,2.2,1.615,1.835,2.465,3.52,3.435,3.84,3.845,1.935,2.14,1.513,3.17,2.77,3.57,2.78],"qsec":[16.46,17.02,18.61,19.44,17.02,20.22,15.84,20,22.9,18.3,18.9,17.4,17.6,18,17.98,17.82,17.42,19.47,18.52,19.9,20.01,16.87,17.3,15.41,17.05,18.9,16.7,16.9,14.5,15.5,14.6,18.6],"vs":[0,0,1,1,0,1,0,1,1,1,1,0,0,0,0,0,0,1,1,1,1,0,0,0,0,1,0,1,0,0,0,1],"am":[1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,1,1,1,1,1,1,1],"gear":[4,4,4,3,3,3,3,4,4,4,4,3,3,3,3,3,3,4,4,4,3,3,3,3,3,4,5,5,5,5,5,4],"carb":[4,4,1,1,2,1,4,2,2,4,4,3,3,3,4,4,4,1,2,1,1,2,2,4,2,1,2,2,4,6,8,2]},"queue":[{"sender":"server","target":"scene","type":"add-plot","data":{"type":"scatter","variables":["wt","mpg"],"id":"b96d95e0-89ed-444a-8788-e27f717d0036"}},{"sender":"server","target":"scene","type":"add-plot","data":{"type":"bar","variables":["cyl"],"id":"6d023415-f7e0-4d2d-955c-01c2d5039149"}},{"sender":"server","target":"scene","type":"set-assigned","data":{"cases":[0,1,2,3,4,5,6,7,8,9],"group":1}}],"options":null},"evals":[],"jsHooks":[]}</script><p>Additionally, if you’re inside a running R session, you can also use
the <code>selected_cases</code> and <code>assigned_cases</code> to query
the current selection status. The document you’re reading is a static
HTML, therefore these functions will not work here.</p>
<p>Transient and permanent selection combine into a Cartesian product
(just a fancy way of saying “all possible combinations”), so you can
have up to 8 distinct selection groups present in a figure at a time:
base, base + transient, group 1, group 1 + transient, etc…</p>
<p>Now, it might not be the best idea to have 8 different selection
groups present in a plot at a single time - from static data
visualization, we know that the number of distinct groups we can
efficiently perceive based on color is limited, so once we go past, say,
three we really start to strain our visual system.</p>
<p>However, combining transient selection with permanent selection can
be useful for quickly answering queries about nested subsets of our
data. For example, here’s how we can figure out what proportion of
8-cylinder cars are automatic:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">schema</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/assign_cases.html">assign_cases</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/which.html" class="external-link">which</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">$</span><span class="va">cyl</span> <span class="op">==</span> <span class="fl">8</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/select_cases.html">select_cases</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/which.html" class="external-link">which</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">$</span><span class="va">am</span> <span class="op">==</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/render.html">render</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="plotscaper html-widget html-fill-item" id="htmlwidget-36aa3d2a04d42bbc2145" style="width:700px;height:432.632880098888px;"></div>
<script type="application/json" data-for="htmlwidget-36aa3d2a04d42bbc2145">{"x":{"data":{"mpg":[21,21,22.8,21.4,18.7,18.1,14.3,24.4,22.8,19.2,17.8,16.4,17.3,15.2,10.4,10.4,14.7,32.4,30.4,33.9,21.5,15.5,15.2,13.3,19.2,27.3,26,30.4,15.8,19.7,15,21.4],"cyl":[6,6,4,6,8,6,8,4,4,6,6,8,8,8,8,8,8,4,4,4,4,8,8,8,8,4,4,4,8,6,8,4],"disp":[160,160,108,258,360,225,360,146.7,140.8,167.6,167.6,275.8,275.8,275.8,472,460,440,78.7,75.7,71.09999999999999,120.1,318,304,350,400,79,120.3,95.09999999999999,351,145,301,121],"hp":[110,110,93,110,175,105,245,62,95,123,123,180,180,180,205,215,230,66,52,65,97,150,150,245,175,66,91,113,264,175,335,109],"drat":[3.9,3.9,3.85,3.08,3.15,2.76,3.21,3.69,3.92,3.92,3.92,3.07,3.07,3.07,2.93,3,3.23,4.08,4.93,4.22,3.7,2.76,3.15,3.73,3.08,4.08,4.43,3.77,4.22,3.62,3.54,4.11],"wt":[2.62,2.875,2.32,3.215,3.44,3.46,3.57,3.19,3.15,3.44,3.44,4.07,3.73,3.78,5.25,5.424,5.345,2.2,1.615,1.835,2.465,3.52,3.435,3.84,3.845,1.935,2.14,1.513,3.17,2.77,3.57,2.78],"qsec":[16.46,17.02,18.61,19.44,17.02,20.22,15.84,20,22.9,18.3,18.9,17.4,17.6,18,17.98,17.82,17.42,19.47,18.52,19.9,20.01,16.87,17.3,15.41,17.05,18.9,16.7,16.9,14.5,15.5,14.6,18.6],"vs":[0,0,1,1,0,1,0,1,1,1,1,0,0,0,0,0,0,1,1,1,1,0,0,0,0,1,0,1,0,0,0,1],"am":[1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,1,1,1,1,1,1,1],"gear":[4,4,4,3,3,3,3,4,4,4,4,3,3,3,3,3,3,4,4,4,3,3,3,3,3,4,5,5,5,5,5,4],"carb":[4,4,1,1,2,1,4,2,2,4,4,3,3,3,4,4,4,1,2,1,1,2,2,4,2,1,2,2,4,6,8,2]},"queue":[{"sender":"server","target":"scene","type":"add-plot","data":{"type":"scatter","variables":["wt","mpg"],"id":"b96d95e0-89ed-444a-8788-e27f717d0036"}},{"sender":"server","target":"scene","type":"add-plot","data":{"type":"bar","variables":["cyl"],"id":"6d023415-f7e0-4d2d-955c-01c2d5039149"}},{"sender":"server","target":"scene","type":"set-assigned","data":{"cases":[4,6,11,12,13,14,15,16,21,22,23,24,28,30],"group":1}},{"sender":"server","target":"scene","type":"set-selected","data":{"cases":[0,1,2,17,18,19,25,26,27,28,29,30,31]}}],"options":null},"evals":[],"jsHooks":[]}</script><p>There are some additional considerations about linked selection, see
the <a href="algebra.html">algebra</a> vignette.</p>
</div>
<div class="section level2">
<h2 id="zooming-panning-and-scales">Zooming, panning, and scales<a class="anchor" aria-label="anchor" href="#zooming-panning-and-scales"></a>
</h2>
<div class="section level3">
<h3 id="zooming">Zooming<a class="anchor" aria-label="anchor" href="#zooming"></a>
</h3>
<p>Once we’ve made a selection, we can zoom into the selected region by
pressing the zoom key (<code>Z</code> by default). We can zoom into a
plot multiple times. To revert the zoom, we can either do a full reset
of the figure (<code>R</code> key; will get rid off other temporary
state as well, including histogram binwidth/anchor changes, barplot
reordering, etc…), or “pop” one level of zoom (<code>X</code> key).</p>
<p>Server-side, we can use the <code>zoom</code> function to zoom into a
specific region of a plot. For example, here’s how we can zoom into the
middle 1/4 of the scatterplot:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">schema</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/zoom.html">zoom</a></span><span class="op">(</span><span class="st">"plot1"</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.25</span>, <span class="fl">0.25</span>, <span class="fl">0.75</span>, <span class="fl">0.75</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/render.html">render</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="plotscaper html-widget html-fill-item" id="htmlwidget-febe03efa1a2d8d52a86" style="width:700px;height:432.632880098888px;"></div>
<script type="application/json" data-for="htmlwidget-febe03efa1a2d8d52a86">{"x":{"data":{"mpg":[21,21,22.8,21.4,18.7,18.1,14.3,24.4,22.8,19.2,17.8,16.4,17.3,15.2,10.4,10.4,14.7,32.4,30.4,33.9,21.5,15.5,15.2,13.3,19.2,27.3,26,30.4,15.8,19.7,15,21.4],"cyl":[6,6,4,6,8,6,8,4,4,6,6,8,8,8,8,8,8,4,4,4,4,8,8,8,8,4,4,4,8,6,8,4],"disp":[160,160,108,258,360,225,360,146.7,140.8,167.6,167.6,275.8,275.8,275.8,472,460,440,78.7,75.7,71.09999999999999,120.1,318,304,350,400,79,120.3,95.09999999999999,351,145,301,121],"hp":[110,110,93,110,175,105,245,62,95,123,123,180,180,180,205,215,230,66,52,65,97,150,150,245,175,66,91,113,264,175,335,109],"drat":[3.9,3.9,3.85,3.08,3.15,2.76,3.21,3.69,3.92,3.92,3.92,3.07,3.07,3.07,2.93,3,3.23,4.08,4.93,4.22,3.7,2.76,3.15,3.73,3.08,4.08,4.43,3.77,4.22,3.62,3.54,4.11],"wt":[2.62,2.875,2.32,3.215,3.44,3.46,3.57,3.19,3.15,3.44,3.44,4.07,3.73,3.78,5.25,5.424,5.345,2.2,1.615,1.835,2.465,3.52,3.435,3.84,3.845,1.935,2.14,1.513,3.17,2.77,3.57,2.78],"qsec":[16.46,17.02,18.61,19.44,17.02,20.22,15.84,20,22.9,18.3,18.9,17.4,17.6,18,17.98,17.82,17.42,19.47,18.52,19.9,20.01,16.87,17.3,15.41,17.05,18.9,16.7,16.9,14.5,15.5,14.6,18.6],"vs":[0,0,1,1,0,1,0,1,1,1,1,0,0,0,0,0,0,1,1,1,1,0,0,0,0,1,0,1,0,0,0,1],"am":[1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,1,1,1,1,1,1,1],"gear":[4,4,4,3,3,3,3,4,4,4,4,3,3,3,3,3,3,4,4,4,3,3,3,3,3,4,5,5,5,5,5,4],"carb":[4,4,1,1,2,1,4,2,2,4,4,3,3,3,4,4,4,1,2,1,1,2,2,4,2,1,2,2,4,6,8,2]},"queue":[{"sender":"server","target":"scene","type":"add-plot","data":{"type":"scatter","variables":["wt","mpg"],"id":"b96d95e0-89ed-444a-8788-e27f717d0036"}},{"sender":"server","target":"scene","type":"add-plot","data":{"type":"bar","variables":["cyl"],"id":"6d023415-f7e0-4d2d-955c-01c2d5039149"}},{"sender":"server","target":"scene","type":"zoom","data":{"id":"plot1","coords":[0.25,0.25,0.75,0.75],"units":"pct"}}],"options":null},"evals":[],"jsHooks":[]}</script><p>By default, the <code>zoom</code> function uses the <code>pct</code>
units, meaning that the coordinates we provide (vector of rectangle
corners: <code>x0, y0, x1, y1</code>) are interpreted as percentages. We
can change the <code>units</code> argument to <code>abs</code> (absolute
pixels) or <code>data</code> (data coordinates; continuous scales
only):</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">schema</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/zoom.html">zoom</a></span><span class="op">(</span><span class="st">"plot1"</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">10</span>, <span class="fl">50</span><span class="op">)</span>, units <span class="op">=</span> <span class="st">"data"</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/render.html">render</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="plotscaper html-widget html-fill-item" id="htmlwidget-1fb4450895fe099f74a1" style="width:700px;height:432.632880098888px;"></div>
<script type="application/json" data-for="htmlwidget-1fb4450895fe099f74a1">{"x":{"data":{"mpg":[21,21,22.8,21.4,18.7,18.1,14.3,24.4,22.8,19.2,17.8,16.4,17.3,15.2,10.4,10.4,14.7,32.4,30.4,33.9,21.5,15.5,15.2,13.3,19.2,27.3,26,30.4,15.8,19.7,15,21.4],"cyl":[6,6,4,6,8,6,8,4,4,6,6,8,8,8,8,8,8,4,4,4,4,8,8,8,8,4,4,4,8,6,8,4],"disp":[160,160,108,258,360,225,360,146.7,140.8,167.6,167.6,275.8,275.8,275.8,472,460,440,78.7,75.7,71.09999999999999,120.1,318,304,350,400,79,120.3,95.09999999999999,351,145,301,121],"hp":[110,110,93,110,175,105,245,62,95,123,123,180,180,180,205,215,230,66,52,65,97,150,150,245,175,66,91,113,264,175,335,109],"drat":[3.9,3.9,3.85,3.08,3.15,2.76,3.21,3.69,3.92,3.92,3.92,3.07,3.07,3.07,2.93,3,3.23,4.08,4.93,4.22,3.7,2.76,3.15,3.73,3.08,4.08,4.43,3.77,4.22,3.62,3.54,4.11],"wt":[2.62,2.875,2.32,3.215,3.44,3.46,3.57,3.19,3.15,3.44,3.44,4.07,3.73,3.78,5.25,5.424,5.345,2.2,1.615,1.835,2.465,3.52,3.435,3.84,3.845,1.935,2.14,1.513,3.17,2.77,3.57,2.78],"qsec":[16.46,17.02,18.61,19.44,17.02,20.22,15.84,20,22.9,18.3,18.9,17.4,17.6,18,17.98,17.82,17.42,19.47,18.52,19.9,20.01,16.87,17.3,15.41,17.05,18.9,16.7,16.9,14.5,15.5,14.6,18.6],"vs":[0,0,1,1,0,1,0,1,1,1,1,0,0,0,0,0,0,1,1,1,1,0,0,0,0,1,0,1,0,0,0,1],"am":[1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,1,1,1,1,1,1,1],"gear":[4,4,4,3,3,3,3,4,4,4,4,3,3,3,3,3,3,4,4,4,3,3,3,3,3,4,5,5,5,5,5,4],"carb":[4,4,1,1,2,1,4,2,2,4,4,3,3,3,4,4,4,1,2,1,1,2,2,4,2,1,2,2,4,6,8,2]},"queue":[{"sender":"server","target":"scene","type":"add-plot","data":{"type":"scatter","variables":["wt","mpg"],"id":"b96d95e0-89ed-444a-8788-e27f717d0036"}},{"sender":"server","target":"scene","type":"add-plot","data":{"type":"bar","variables":["cyl"],"id":"6d023415-f7e0-4d2d-955c-01c2d5039149"}},{"sender":"server","target":"scene","type":"zoom","data":{"id":"plot1","coords":[0,0,10,50],"units":"data"}}],"options":null},"evals":[],"jsHooks":[]}</script>
</div>
<div class="section level3">
<h3 id="panning">Panning<a class="anchor" aria-label="anchor" href="#panning"></a>
</h3>
<p>Panning is also supported out of the box. To pan a plot, simply click
and hold the right mouse button and move the mouse.</p>
<p>Server-side, I haven’t provided a direct utility for panning.
However, as I will show in the next section, we can achieve the same
behavior either by using <code>zoom</code> or by manipulating
scales.</p>
</div>
<div class="section level3">
<h3 id="scales">Scales<a class="anchor" aria-label="anchor" href="#scales"></a>
</h3>
<p>To achieve the same result as manually panning, we can set the
<code>zero</code> and <code>one</code> properties on the x- and
y-scales. In simple terms, <code>zero</code> and <code>one</code>
determine where the minimum and maximum of the data get mapped to on the
codomain (screen position, in this case). For example, if
<code>zero = 0</code> and <code>one = 1</code> and we’re mapping to a
plotting region 800 pixels wide, then the minimum data value will get
mapped to 0px and the maximum will get mapped to 800px. If
<code>zero = 0.1</code> and <code>one = 0.9</code> (the default), the
minimum data values gets mapped to <code>0.1 * 800 = 80</code> pixels
and the maximum will get mapped to <code>(800 * 0.9) = 720</code>
pixels. Simple enough, right?</p>
<p>We can emulate panning by incrementing zero and one the same amount
for a given scale. For example, here’s how we can “pan” both plots 50%
of the viewport’s width to the left:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">schema</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/set_scale.html">set_scale</a></span><span class="op">(</span><span class="st">"plot1"</span>, <span class="st">"x"</span>, zero <span class="op">=</span> <span class="fl">0.6</span>, one <span class="op">=</span> <span class="fl">1.4</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="co"># zero/one = default value + 0.5</span></span>
<span>  <span class="fu"><a href="../reference/set_scale.html">set_scale</a></span><span class="op">(</span><span class="st">"plot2"</span>, <span class="st">"x"</span>, zero <span class="op">=</span> <span class="fl">0.6</span>, one <span class="op">=</span> <span class="fl">1.4</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="co"># ditto</span></span>
<span>  <span class="fu"><a href="../reference/render.html">render</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="plotscaper html-widget html-fill-item" id="htmlwidget-10b3b7155e8045a1b2ad" style="width:700px;height:432.632880098888px;"></div>
<script type="application/json" data-for="htmlwidget-10b3b7155e8045a1b2ad">{"x":{"data":{"mpg":[21,21,22.8,21.4,18.7,18.1,14.3,24.4,22.8,19.2,17.8,16.4,17.3,15.2,10.4,10.4,14.7,32.4,30.4,33.9,21.5,15.5,15.2,13.3,19.2,27.3,26,30.4,15.8,19.7,15,21.4],"cyl":[6,6,4,6,8,6,8,4,4,6,6,8,8,8,8,8,8,4,4,4,4,8,8,8,8,4,4,4,8,6,8,4],"disp":[160,160,108,258,360,225,360,146.7,140.8,167.6,167.6,275.8,275.8,275.8,472,460,440,78.7,75.7,71.09999999999999,120.1,318,304,350,400,79,120.3,95.09999999999999,351,145,301,121],"hp":[110,110,93,110,175,105,245,62,95,123,123,180,180,180,205,215,230,66,52,65,97,150,150,245,175,66,91,113,264,175,335,109],"drat":[3.9,3.9,3.85,3.08,3.15,2.76,3.21,3.69,3.92,3.92,3.92,3.07,3.07,3.07,2.93,3,3.23,4.08,4.93,4.22,3.7,2.76,3.15,3.73,3.08,4.08,4.43,3.77,4.22,3.62,3.54,4.11],"wt":[2.62,2.875,2.32,3.215,3.44,3.46,3.57,3.19,3.15,3.44,3.44,4.07,3.73,3.78,5.25,5.424,5.345,2.2,1.615,1.835,2.465,3.52,3.435,3.84,3.845,1.935,2.14,1.513,3.17,2.77,3.57,2.78],"qsec":[16.46,17.02,18.61,19.44,17.02,20.22,15.84,20,22.9,18.3,18.9,17.4,17.6,18,17.98,17.82,17.42,19.47,18.52,19.9,20.01,16.87,17.3,15.41,17.05,18.9,16.7,16.9,14.5,15.5,14.6,18.6],"vs":[0,0,1,1,0,1,0,1,1,1,1,0,0,0,0,0,0,1,1,1,1,0,0,0,0,1,0,1,0,0,0,1],"am":[1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,1,1,1,1,1,1,1],"gear":[4,4,4,3,3,3,3,4,4,4,4,3,3,3,3,3,3,4,4,4,3,3,3,3,3,4,5,5,5,5,5,4],"carb":[4,4,1,1,2,1,4,2,2,4,4,3,3,3,4,4,4,1,2,1,1,2,2,4,2,1,2,2,4,6,8,2]},"queue":[{"sender":"server","target":"scene","type":"add-plot","data":{"type":"scatter","variables":["wt","mpg"],"id":"b96d95e0-89ed-444a-8788-e27f717d0036"}},{"sender":"server","target":"scene","type":"add-plot","data":{"type":"bar","variables":["cyl"],"id":"6d023415-f7e0-4d2d-955c-01c2d5039149"}},{"sender":"server","target":"scene","type":"set-scale","data":{"id":"plot1","scale":"x","zero":0.6,"one":1.4}},{"sender":"server","target":"scene","type":"set-scale","data":{"id":"plot2","scale":"x","zero":0.6,"one":1.4}}],"options":null},"evals":[],"jsHooks":[]}</script><p>The reason why <code>zero</code> and <code>one</code> have the value
<code>0.1</code> and <code>0.9</code> by default is to prevent objects
from overlapping the plotting region borders by expanding the scale.
Here’s how it looks like when they’re set to <code>0</code> and
<code>1</code>:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">schema</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/set_scale.html">set_scale</a></span><span class="op">(</span><span class="st">"plot1"</span>, <span class="st">"x"</span>, zero <span class="op">=</span> <span class="fl">0</span>, one <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/set_scale.html">set_scale</a></span><span class="op">(</span><span class="st">"plot1"</span>, <span class="st">"y"</span>, zero <span class="op">=</span> <span class="fl">0</span>, one <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="co"># Barplot scales are a bit more complicated:</span></span>
<span>  <span class="co"># - for 'y' scale, zero is frozen (i.e. panning stretches bars up and down) </span></span>
<span>  <span class="co">#   so we need to unfreeze this parameter is modify it</span></span>
<span>  <span class="co"># - for 'width', there is one more parameter that needs to be modified</span></span>
<span>  <span class="fu"><a href="../reference/set_scale.html">set_scale</a></span><span class="op">(</span><span class="st">"plot2"</span>, <span class="st">"x"</span>, zero <span class="op">=</span> <span class="fl">0</span>, one <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/set_scale.html">set_scale</a></span><span class="op">(</span><span class="st">"plot2"</span>, <span class="st">"y"</span>, zero <span class="op">=</span> <span class="fl">0</span>, one <span class="op">=</span> <span class="fl">1</span>, unfreeze <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/set_scale.html">set_scale</a></span><span class="op">(</span><span class="st">"plot2"</span>, <span class="st">"width"</span>, zero <span class="op">=</span> <span class="fl">0</span>, one <span class="op">=</span> <span class="fl">1</span>, mult <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/render.html">render</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="plotscaper html-widget html-fill-item" id="htmlwidget-4018eef1a407a0df6b52" style="width:700px;height:432.632880098888px;"></div>
<script type="application/json" data-for="htmlwidget-4018eef1a407a0df6b52">{"x":{"data":{"mpg":[21,21,22.8,21.4,18.7,18.1,14.3,24.4,22.8,19.2,17.8,16.4,17.3,15.2,10.4,10.4,14.7,32.4,30.4,33.9,21.5,15.5,15.2,13.3,19.2,27.3,26,30.4,15.8,19.7,15,21.4],"cyl":[6,6,4,6,8,6,8,4,4,6,6,8,8,8,8,8,8,4,4,4,4,8,8,8,8,4,4,4,8,6,8,4],"disp":[160,160,108,258,360,225,360,146.7,140.8,167.6,167.6,275.8,275.8,275.8,472,460,440,78.7,75.7,71.09999999999999,120.1,318,304,350,400,79,120.3,95.09999999999999,351,145,301,121],"hp":[110,110,93,110,175,105,245,62,95,123,123,180,180,180,205,215,230,66,52,65,97,150,150,245,175,66,91,113,264,175,335,109],"drat":[3.9,3.9,3.85,3.08,3.15,2.76,3.21,3.69,3.92,3.92,3.92,3.07,3.07,3.07,2.93,3,3.23,4.08,4.93,4.22,3.7,2.76,3.15,3.73,3.08,4.08,4.43,3.77,4.22,3.62,3.54,4.11],"wt":[2.62,2.875,2.32,3.215,3.44,3.46,3.57,3.19,3.15,3.44,3.44,4.07,3.73,3.78,5.25,5.424,5.345,2.2,1.615,1.835,2.465,3.52,3.435,3.84,3.845,1.935,2.14,1.513,3.17,2.77,3.57,2.78],"qsec":[16.46,17.02,18.61,19.44,17.02,20.22,15.84,20,22.9,18.3,18.9,17.4,17.6,18,17.98,17.82,17.42,19.47,18.52,19.9,20.01,16.87,17.3,15.41,17.05,18.9,16.7,16.9,14.5,15.5,14.6,18.6],"vs":[0,0,1,1,0,1,0,1,1,1,1,0,0,0,0,0,0,1,1,1,1,0,0,0,0,1,0,1,0,0,0,1],"am":[1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,1,1,1,1,1,1,1],"gear":[4,4,4,3,3,3,3,4,4,4,4,3,3,3,3,3,3,4,4,4,3,3,3,3,3,4,5,5,5,5,5,4],"carb":[4,4,1,1,2,1,4,2,2,4,4,3,3,3,4,4,4,1,2,1,1,2,2,4,2,1,2,2,4,6,8,2]},"queue":[{"sender":"server","target":"scene","type":"add-plot","data":{"type":"scatter","variables":["wt","mpg"],"id":"b96d95e0-89ed-444a-8788-e27f717d0036"}},{"sender":"server","target":"scene","type":"add-plot","data":{"type":"bar","variables":["cyl"],"id":"6d023415-f7e0-4d2d-955c-01c2d5039149"}},{"sender":"server","target":"scene","type":"set-scale","data":{"id":"plot1","scale":"x","zero":0,"one":1}},{"sender":"server","target":"scene","type":"set-scale","data":{"id":"plot1","scale":"y","zero":0,"one":1}},{"sender":"server","target":"scene","type":"set-scale","data":{"id":"plot2","scale":"x","zero":0,"one":1}},{"sender":"server","target":"scene","type":"set-scale","data":{"id":"plot2","scale":"y","zero":0,"one":1,"unfreeze":true}},{"sender":"server","target":"scene","type":"set-scale","data":{"id":"plot2","scale":"width","zero":0,"one":1,"mult":1}}],"options":null},"evals":[],"jsHooks":[]}</script><p>These plots don’t look the best, as I’m sure you’d agree.</p>
<p>Any changes to scale parameters are temporary by default - if you
press the reset key (<code>R</code>), they revert back to the defaults.
If you want the changes to persist, add <code>default = TRUE</code>
argument to the <code>set_scale</code> call.</p>
<p>We could also implement panning by specifying the minimum and maximum
of the data scale explicitly. I generally don’t recommend doing this,
since this only works for continuous scales and also goes against how
zooming and panning are implemented in <code>plotscaper</code>: user
interactions manipulate <code>zero</code> and <code>one</code> only and
do not touch the data values on scales (even
<code>zoom(..., units = "data")</code> does this). If you set the data
limits explicitly, you may encounter some weird behavior (maybe not, but
consider this a fair warning).</p>
<p>Anyway, I’d recommend using <code>zoom(..., units = "data")</code>
but if you really want to mess with the data limits, you can do it:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">schema</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/set_scale.html">set_scale</a></span><span class="op">(</span><span class="st">"plot1"</span>, <span class="st">"x"</span>, zero <span class="op">=</span> <span class="fl">0</span>, one <span class="op">=</span> <span class="fl">1</span>, min <span class="op">=</span> <span class="fl">0</span>, max <span class="op">=</span> <span class="fl">10</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/set_scale.html">set_scale</a></span><span class="op">(</span><span class="st">"plot1"</span>, <span class="st">"y"</span>, zero <span class="op">=</span> <span class="fl">0</span>, one <span class="op">=</span> <span class="fl">1</span>, min <span class="op">=</span> <span class="fl">0</span>, max <span class="op">=</span> <span class="fl">50</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/render.html">render</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="plotscaper html-widget html-fill-item" id="htmlwidget-5b1b2f4ad92281566982" style="width:700px;height:432.632880098888px;"></div>
<script type="application/json" data-for="htmlwidget-5b1b2f4ad92281566982">{"x":{"data":{"mpg":[21,21,22.8,21.4,18.7,18.1,14.3,24.4,22.8,19.2,17.8,16.4,17.3,15.2,10.4,10.4,14.7,32.4,30.4,33.9,21.5,15.5,15.2,13.3,19.2,27.3,26,30.4,15.8,19.7,15,21.4],"cyl":[6,6,4,6,8,6,8,4,4,6,6,8,8,8,8,8,8,4,4,4,4,8,8,8,8,4,4,4,8,6,8,4],"disp":[160,160,108,258,360,225,360,146.7,140.8,167.6,167.6,275.8,275.8,275.8,472,460,440,78.7,75.7,71.09999999999999,120.1,318,304,350,400,79,120.3,95.09999999999999,351,145,301,121],"hp":[110,110,93,110,175,105,245,62,95,123,123,180,180,180,205,215,230,66,52,65,97,150,150,245,175,66,91,113,264,175,335,109],"drat":[3.9,3.9,3.85,3.08,3.15,2.76,3.21,3.69,3.92,3.92,3.92,3.07,3.07,3.07,2.93,3,3.23,4.08,4.93,4.22,3.7,2.76,3.15,3.73,3.08,4.08,4.43,3.77,4.22,3.62,3.54,4.11],"wt":[2.62,2.875,2.32,3.215,3.44,3.46,3.57,3.19,3.15,3.44,3.44,4.07,3.73,3.78,5.25,5.424,5.345,2.2,1.615,1.835,2.465,3.52,3.435,3.84,3.845,1.935,2.14,1.513,3.17,2.77,3.57,2.78],"qsec":[16.46,17.02,18.61,19.44,17.02,20.22,15.84,20,22.9,18.3,18.9,17.4,17.6,18,17.98,17.82,17.42,19.47,18.52,19.9,20.01,16.87,17.3,15.41,17.05,18.9,16.7,16.9,14.5,15.5,14.6,18.6],"vs":[0,0,1,1,0,1,0,1,1,1,1,0,0,0,0,0,0,1,1,1,1,0,0,0,0,1,0,1,0,0,0,1],"am":[1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,1,1,1,1,1,1,1],"gear":[4,4,4,3,3,3,3,4,4,4,4,3,3,3,3,3,3,4,4,4,3,3,3,3,3,4,5,5,5,5,5,4],"carb":[4,4,1,1,2,1,4,2,2,4,4,3,3,3,4,4,4,1,2,1,1,2,2,4,2,1,2,2,4,6,8,2]},"queue":[{"sender":"server","target":"scene","type":"add-plot","data":{"type":"scatter","variables":["wt","mpg"],"id":"b96d95e0-89ed-444a-8788-e27f717d0036"}},{"sender":"server","target":"scene","type":"add-plot","data":{"type":"bar","variables":["cyl"],"id":"6d023415-f7e0-4d2d-955c-01c2d5039149"}},{"sender":"server","target":"scene","type":"set-scale","data":{"id":"plot1","scale":"x","zero":0,"one":1,"min":0,"max":10}},{"sender":"server","target":"scene","type":"set-scale","data":{"id":"plot1","scale":"y","zero":0,"one":1,"min":0,"max":50}}],"options":null},"evals":[],"jsHooks":[]}</script><p>(notice also that the points stay constant size, whereas
<code>zoom</code> shrinks/grows objects in response to
zooming/unzooming)</p>
<p>Finally, we can also flip the direction of a scale like so:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">schema</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/set_scale.html">set_scale</a></span><span class="op">(</span><span class="st">"plot1"</span>, <span class="st">"y"</span>, direction <span class="op">=</span> <span class="op">-</span><span class="fl">1</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/render.html">render</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="plotscaper html-widget html-fill-item" id="htmlwidget-25c3e940e6859592f801" style="width:700px;height:432.632880098888px;"></div>
<script type="application/json" data-for="htmlwidget-25c3e940e6859592f801">{"x":{"data":{"mpg":[21,21,22.8,21.4,18.7,18.1,14.3,24.4,22.8,19.2,17.8,16.4,17.3,15.2,10.4,10.4,14.7,32.4,30.4,33.9,21.5,15.5,15.2,13.3,19.2,27.3,26,30.4,15.8,19.7,15,21.4],"cyl":[6,6,4,6,8,6,8,4,4,6,6,8,8,8,8,8,8,4,4,4,4,8,8,8,8,4,4,4,8,6,8,4],"disp":[160,160,108,258,360,225,360,146.7,140.8,167.6,167.6,275.8,275.8,275.8,472,460,440,78.7,75.7,71.09999999999999,120.1,318,304,350,400,79,120.3,95.09999999999999,351,145,301,121],"hp":[110,110,93,110,175,105,245,62,95,123,123,180,180,180,205,215,230,66,52,65,97,150,150,245,175,66,91,113,264,175,335,109],"drat":[3.9,3.9,3.85,3.08,3.15,2.76,3.21,3.69,3.92,3.92,3.92,3.07,3.07,3.07,2.93,3,3.23,4.08,4.93,4.22,3.7,2.76,3.15,3.73,3.08,4.08,4.43,3.77,4.22,3.62,3.54,4.11],"wt":[2.62,2.875,2.32,3.215,3.44,3.46,3.57,3.19,3.15,3.44,3.44,4.07,3.73,3.78,5.25,5.424,5.345,2.2,1.615,1.835,2.465,3.52,3.435,3.84,3.845,1.935,2.14,1.513,3.17,2.77,3.57,2.78],"qsec":[16.46,17.02,18.61,19.44,17.02,20.22,15.84,20,22.9,18.3,18.9,17.4,17.6,18,17.98,17.82,17.42,19.47,18.52,19.9,20.01,16.87,17.3,15.41,17.05,18.9,16.7,16.9,14.5,15.5,14.6,18.6],"vs":[0,0,1,1,0,1,0,1,1,1,1,0,0,0,0,0,0,1,1,1,1,0,0,0,0,1,0,1,0,0,0,1],"am":[1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,1,1,1,1,1,1,1],"gear":[4,4,4,3,3,3,3,4,4,4,4,3,3,3,3,3,3,4,4,4,3,3,3,3,3,4,5,5,5,5,5,4],"carb":[4,4,1,1,2,1,4,2,2,4,4,3,3,3,4,4,4,1,2,1,1,2,2,4,2,1,2,2,4,6,8,2]},"queue":[{"sender":"server","target":"scene","type":"add-plot","data":{"type":"scatter","variables":["wt","mpg"],"id":"b96d95e0-89ed-444a-8788-e27f717d0036"}},{"sender":"server","target":"scene","type":"add-plot","data":{"type":"bar","variables":["cyl"],"id":"6d023415-f7e0-4d2d-955c-01c2d5039149"}},{"sender":"server","target":"scene","type":"set-scale","data":{"id":"plot1","scale":"y","direction":-1}}],"options":null},"evals":[],"jsHooks":[]}</script>
</div>
<div class="section level3">
<h3 id="discrete-scales">Discrete scales<a class="anchor" aria-label="anchor" href="#discrete-scales"></a>
</h3>
<p>We can also interactively reorder discrete scales. In a barplot, we
can automatically sort bars by their value (<code>O</code> key).</p>
<p>Server-side, we can do this by setting the <code>breaks</code>
argument (and we have more fine-grained control - we can order the bars
any way we want):</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">schema</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/set_scale.html">set_scale</a></span><span class="op">(</span><span class="st">"plot2"</span>, <span class="st">"x"</span>, breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"6"</span>, <span class="st">"4"</span>, <span class="st">"8"</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/render.html">render</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="plotscaper html-widget html-fill-item" id="htmlwidget-3f27c09be0c60bb52829" style="width:700px;height:432.632880098888px;"></div>
<script type="application/json" data-for="htmlwidget-3f27c09be0c60bb52829">{"x":{"data":{"mpg":[21,21,22.8,21.4,18.7,18.1,14.3,24.4,22.8,19.2,17.8,16.4,17.3,15.2,10.4,10.4,14.7,32.4,30.4,33.9,21.5,15.5,15.2,13.3,19.2,27.3,26,30.4,15.8,19.7,15,21.4],"cyl":[6,6,4,6,8,6,8,4,4,6,6,8,8,8,8,8,8,4,4,4,4,8,8,8,8,4,4,4,8,6,8,4],"disp":[160,160,108,258,360,225,360,146.7,140.8,167.6,167.6,275.8,275.8,275.8,472,460,440,78.7,75.7,71.09999999999999,120.1,318,304,350,400,79,120.3,95.09999999999999,351,145,301,121],"hp":[110,110,93,110,175,105,245,62,95,123,123,180,180,180,205,215,230,66,52,65,97,150,150,245,175,66,91,113,264,175,335,109],"drat":[3.9,3.9,3.85,3.08,3.15,2.76,3.21,3.69,3.92,3.92,3.92,3.07,3.07,3.07,2.93,3,3.23,4.08,4.93,4.22,3.7,2.76,3.15,3.73,3.08,4.08,4.43,3.77,4.22,3.62,3.54,4.11],"wt":[2.62,2.875,2.32,3.215,3.44,3.46,3.57,3.19,3.15,3.44,3.44,4.07,3.73,3.78,5.25,5.424,5.345,2.2,1.615,1.835,2.465,3.52,3.435,3.84,3.845,1.935,2.14,1.513,3.17,2.77,3.57,2.78],"qsec":[16.46,17.02,18.61,19.44,17.02,20.22,15.84,20,22.9,18.3,18.9,17.4,17.6,18,17.98,17.82,17.42,19.47,18.52,19.9,20.01,16.87,17.3,15.41,17.05,18.9,16.7,16.9,14.5,15.5,14.6,18.6],"vs":[0,0,1,1,0,1,0,1,1,1,1,0,0,0,0,0,0,1,1,1,1,0,0,0,0,1,0,1,0,0,0,1],"am":[1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,1,1,1,1,1,1,1],"gear":[4,4,4,3,3,3,3,4,4,4,4,3,3,3,3,3,3,4,4,4,3,3,3,3,3,4,5,5,5,5,5,4],"carb":[4,4,1,1,2,1,4,2,2,4,4,3,3,3,4,4,4,1,2,1,1,2,2,4,2,1,2,2,4,6,8,2]},"queue":[{"sender":"server","target":"scene","type":"add-plot","data":{"type":"scatter","variables":["wt","mpg"],"id":"b96d95e0-89ed-444a-8788-e27f717d0036"}},{"sender":"server","target":"scene","type":"add-plot","data":{"type":"bar","variables":["cyl"],"id":"6d023415-f7e0-4d2d-955c-01c2d5039149"}},{"sender":"server","target":"scene","type":"set-scale","data":{"id":"plot2","scale":"x","labels":["6","4","8"]}}],"options":null},"evals":[],"jsHooks":[]}</script><blockquote>
<p>Note: make sure that <code>breaks</code> match your factor levels
exactly - failing to do so will result in a client-side error, which you
will not see unless you open up the developer console (right click
viewer panel + “inspect element”).</p>
</blockquote>
</div>
</div>
<div class="section level2">
<h2 id="size-and-opacity">Size and opacity<a class="anchor" aria-label="anchor" href="#size-and-opacity"></a>
</h2>
<p>We can manipulate the size and opacity of objects in the figure by
using the grow/shrink keys (<code>+</code>/<code>-</code>) and the
fade/unfade keys (<code>[</code>/<code>]</code>), respectively.
Manipulating the size of objects actually works a bit differently
depending on the type of the object and plot: in scatterplots, it
modifies point area, in barplots, it modifies the bar widths, in
histograms, it changes the binwidth (see more on that further
below).</p>
<p>These interactions make the most sense to me on client-side, I may
add some utilities to do them from the server-side too in the
future.</p>
</div>
<div class="section level2">
<h2 id="querying">Querying<a class="anchor" aria-label="anchor" href="#querying"></a>
</h2>
<p>You can query any geometric object in <code>plotscaper</code> by
pressing and holding the query key (<code>Q</code>) and hovering over
it.</p>
<p>Like manipulating size and opacity, querying does not have a
server-side analog. This is because all of the data summaries exist
client-side only. This is also what makes <code>plotscaper</code>
relatively fast - everything is computed client-side, and communication
with the R session happens only when necessary.</p>
<p>I could theoretically implement a way to query objects from the
server-side, but coming up with a sensible API for this seems like a
fairly complicated (and pointless) exercise - while hovering over a
rectangle is a simple and unambiguous way to specify that you want to
query that specific rectangle at those specific coordinates, how would
you do the same in code? Maybe I’ll change my mind about this in the
future.</p>
<p>For now, if you want the object summaries in R, you can always just
subset the relevant rows (using <code>selected_cases</code> or
<code>assigned_cases</code> to get the cases corresponding to the
specific object) and compute the summaries yourself.</p>
</div>
<div class="section level2">
<h2 id="parametric-interaction-normalization-histograms">Parametric interaction: normalization, histograms<a class="anchor" aria-label="anchor" href="#parametric-interaction-normalization-histograms"></a>
</h2>
<p><code>plotscaper</code> also supports certain custom parametric
interactions. For example, many of the aggregation plots such as
barplot, histogram (1d or 2d), or fluctuation can be “normalized”,
meaning that, for example, we can turn a barplot into a spineplot, which
sets the total height of each bar to one and maps the count/statistic to
the bars’ width. This is useful for accurately comparing proportions
across bars of different heights. Client-side, we can do this by
pressing the <code>N</code> key.</p>
<p>Server-side, we can call the <code>normalize</code> function. Compare
the following two figures:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">schema</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/select_cases.html">select_cases</a></span><span class="op">(</span><span class="fl">5</span><span class="op">:</span><span class="fl">15</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/render.html">render</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="plotscaper html-widget html-fill-item" id="htmlwidget-416566eb193bf50d04e6" style="width:700px;height:432.632880098888px;"></div>
<script type="application/json" data-for="htmlwidget-416566eb193bf50d04e6">{"x":{"data":{"mpg":[21,21,22.8,21.4,18.7,18.1,14.3,24.4,22.8,19.2,17.8,16.4,17.3,15.2,10.4,10.4,14.7,32.4,30.4,33.9,21.5,15.5,15.2,13.3,19.2,27.3,26,30.4,15.8,19.7,15,21.4],"cyl":[6,6,4,6,8,6,8,4,4,6,6,8,8,8,8,8,8,4,4,4,4,8,8,8,8,4,4,4,8,6,8,4],"disp":[160,160,108,258,360,225,360,146.7,140.8,167.6,167.6,275.8,275.8,275.8,472,460,440,78.7,75.7,71.09999999999999,120.1,318,304,350,400,79,120.3,95.09999999999999,351,145,301,121],"hp":[110,110,93,110,175,105,245,62,95,123,123,180,180,180,205,215,230,66,52,65,97,150,150,245,175,66,91,113,264,175,335,109],"drat":[3.9,3.9,3.85,3.08,3.15,2.76,3.21,3.69,3.92,3.92,3.92,3.07,3.07,3.07,2.93,3,3.23,4.08,4.93,4.22,3.7,2.76,3.15,3.73,3.08,4.08,4.43,3.77,4.22,3.62,3.54,4.11],"wt":[2.62,2.875,2.32,3.215,3.44,3.46,3.57,3.19,3.15,3.44,3.44,4.07,3.73,3.78,5.25,5.424,5.345,2.2,1.615,1.835,2.465,3.52,3.435,3.84,3.845,1.935,2.14,1.513,3.17,2.77,3.57,2.78],"qsec":[16.46,17.02,18.61,19.44,17.02,20.22,15.84,20,22.9,18.3,18.9,17.4,17.6,18,17.98,17.82,17.42,19.47,18.52,19.9,20.01,16.87,17.3,15.41,17.05,18.9,16.7,16.9,14.5,15.5,14.6,18.6],"vs":[0,0,1,1,0,1,0,1,1,1,1,0,0,0,0,0,0,1,1,1,1,0,0,0,0,1,0,1,0,0,0,1],"am":[1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,1,1,1,1,1,1,1],"gear":[4,4,4,3,3,3,3,4,4,4,4,3,3,3,3,3,3,4,4,4,3,3,3,3,3,4,5,5,5,5,5,4],"carb":[4,4,1,1,2,1,4,2,2,4,4,3,3,3,4,4,4,1,2,1,1,2,2,4,2,1,2,2,4,6,8,2]},"queue":[{"sender":"server","target":"scene","type":"add-plot","data":{"type":"scatter","variables":["wt","mpg"],"id":"b96d95e0-89ed-444a-8788-e27f717d0036"}},{"sender":"server","target":"scene","type":"add-plot","data":{"type":"bar","variables":["cyl"],"id":"6d023415-f7e0-4d2d-955c-01c2d5039149"}},{"sender":"server","target":"scene","type":"set-selected","data":{"cases":[4,5,6,7,8,9,10,11,12,13,14]}}],"options":null},"evals":[],"jsHooks":[]}</script><div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">schema</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/select_cases.html">select_cases</a></span><span class="op">(</span><span class="fl">5</span><span class="op">:</span><span class="fl">15</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/normalize.html">normalize</a></span><span class="op">(</span><span class="st">"plot2"</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/render.html">render</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="plotscaper html-widget html-fill-item" id="htmlwidget-72cbf064100ce560a04c" style="width:700px;height:432.632880098888px;"></div>
<script type="application/json" data-for="htmlwidget-72cbf064100ce560a04c">{"x":{"data":{"mpg":[21,21,22.8,21.4,18.7,18.1,14.3,24.4,22.8,19.2,17.8,16.4,17.3,15.2,10.4,10.4,14.7,32.4,30.4,33.9,21.5,15.5,15.2,13.3,19.2,27.3,26,30.4,15.8,19.7,15,21.4],"cyl":[6,6,4,6,8,6,8,4,4,6,6,8,8,8,8,8,8,4,4,4,4,8,8,8,8,4,4,4,8,6,8,4],"disp":[160,160,108,258,360,225,360,146.7,140.8,167.6,167.6,275.8,275.8,275.8,472,460,440,78.7,75.7,71.09999999999999,120.1,318,304,350,400,79,120.3,95.09999999999999,351,145,301,121],"hp":[110,110,93,110,175,105,245,62,95,123,123,180,180,180,205,215,230,66,52,65,97,150,150,245,175,66,91,113,264,175,335,109],"drat":[3.9,3.9,3.85,3.08,3.15,2.76,3.21,3.69,3.92,3.92,3.92,3.07,3.07,3.07,2.93,3,3.23,4.08,4.93,4.22,3.7,2.76,3.15,3.73,3.08,4.08,4.43,3.77,4.22,3.62,3.54,4.11],"wt":[2.62,2.875,2.32,3.215,3.44,3.46,3.57,3.19,3.15,3.44,3.44,4.07,3.73,3.78,5.25,5.424,5.345,2.2,1.615,1.835,2.465,3.52,3.435,3.84,3.845,1.935,2.14,1.513,3.17,2.77,3.57,2.78],"qsec":[16.46,17.02,18.61,19.44,17.02,20.22,15.84,20,22.9,18.3,18.9,17.4,17.6,18,17.98,17.82,17.42,19.47,18.52,19.9,20.01,16.87,17.3,15.41,17.05,18.9,16.7,16.9,14.5,15.5,14.6,18.6],"vs":[0,0,1,1,0,1,0,1,1,1,1,0,0,0,0,0,0,1,1,1,1,0,0,0,0,1,0,1,0,0,0,1],"am":[1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,1,1,1,1,1,1,1],"gear":[4,4,4,3,3,3,3,4,4,4,4,3,3,3,3,3,3,4,4,4,3,3,3,3,3,4,5,5,5,5,5,4],"carb":[4,4,1,1,2,1,4,2,2,4,4,3,3,3,4,4,4,1,2,1,1,2,2,4,2,1,2,2,4,6,8,2]},"queue":[{"sender":"server","target":"scene","type":"add-plot","data":{"type":"scatter","variables":["wt","mpg"],"id":"b96d95e0-89ed-444a-8788-e27f717d0036"}},{"sender":"server","target":"scene","type":"add-plot","data":{"type":"bar","variables":["cyl"],"id":"6d023415-f7e0-4d2d-955c-01c2d5039149"}},{"sender":"server","target":"scene","type":"set-selected","data":{"cases":[4,5,6,7,8,9,10,11,12,13,14]}},{"sender":"server","target":"scene","type":"normalize","data":{"id":"plot2"}}],"options":null},"evals":[],"jsHooks":[]}</script><p>In the second figure, it’s much easier to see that the proportion of
the selected cases for 6 and 8 cylinders is the same.</p>
<div class="section level3">
<h3 id="histogram-binwidths-and-anchors">Histogram binwidths and anchors<a class="anchor" aria-label="anchor" href="#histogram-binwidths-and-anchors"></a>
</h3>
<p>Currently, the other parameters than can be interactively manipulated
are histogram binwidth and anchors. This applies to both 1D and 2D
histograms.</p>
<p>On the client-side you can use the grow/shrink keys
(<code>+</code>/<code>-</code>) to change the size of the bins, and the
increment/decrement anchor keys (<code>'</code>/<code>;</code>) to
change the anchor. For 2D histograms, you can only change the binwidth,
and this happens for both axes simultaneously; it didn’t seem to make
sense to change anchor on both axes simultaneously, and I didn’t want to
complicate the default interface by adding more keys. If you want
fine-grained control over the 2D histogram, use the server-side
functions.</p>
<p>On that note, server-side, you can use the
<code>set-parameters</code> function:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/create_schema.html">create_schema</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/add_scatterplot.html">add_scatterplot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"wt"</span>, <span class="st">"mpg"</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/add_histogram.html">add_histogram</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"wt"</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/set_parameters.html">set_parameters</a></span><span class="op">(</span><span class="st">"plot1"</span>, width <span class="op">=</span> <span class="fl">1</span>, anchor <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/render.html">render</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="plotscaper html-widget html-fill-item" id="htmlwidget-d11fc4360aa0230696d7" style="width:700px;height:432.632880098888px;"></div>
<script type="application/json" data-for="htmlwidget-d11fc4360aa0230696d7">{"x":{"data":{"mpg":[21,21,22.8,21.4,18.7,18.1,14.3,24.4,22.8,19.2,17.8,16.4,17.3,15.2,10.4,10.4,14.7,32.4,30.4,33.9,21.5,15.5,15.2,13.3,19.2,27.3,26,30.4,15.8,19.7,15,21.4],"cyl":[6,6,4,6,8,6,8,4,4,6,6,8,8,8,8,8,8,4,4,4,4,8,8,8,8,4,4,4,8,6,8,4],"disp":[160,160,108,258,360,225,360,146.7,140.8,167.6,167.6,275.8,275.8,275.8,472,460,440,78.7,75.7,71.09999999999999,120.1,318,304,350,400,79,120.3,95.09999999999999,351,145,301,121],"hp":[110,110,93,110,175,105,245,62,95,123,123,180,180,180,205,215,230,66,52,65,97,150,150,245,175,66,91,113,264,175,335,109],"drat":[3.9,3.9,3.85,3.08,3.15,2.76,3.21,3.69,3.92,3.92,3.92,3.07,3.07,3.07,2.93,3,3.23,4.08,4.93,4.22,3.7,2.76,3.15,3.73,3.08,4.08,4.43,3.77,4.22,3.62,3.54,4.11],"wt":[2.62,2.875,2.32,3.215,3.44,3.46,3.57,3.19,3.15,3.44,3.44,4.07,3.73,3.78,5.25,5.424,5.345,2.2,1.615,1.835,2.465,3.52,3.435,3.84,3.845,1.935,2.14,1.513,3.17,2.77,3.57,2.78],"qsec":[16.46,17.02,18.61,19.44,17.02,20.22,15.84,20,22.9,18.3,18.9,17.4,17.6,18,17.98,17.82,17.42,19.47,18.52,19.9,20.01,16.87,17.3,15.41,17.05,18.9,16.7,16.9,14.5,15.5,14.6,18.6],"vs":[0,0,1,1,0,1,0,1,1,1,1,0,0,0,0,0,0,1,1,1,1,0,0,0,0,1,0,1,0,0,0,1],"am":[1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,1,1,1,1,1,1,1],"gear":[4,4,4,3,3,3,3,4,4,4,4,3,3,3,3,3,3,4,4,4,3,3,3,3,3,4,5,5,5,5,5,4],"carb":[4,4,1,1,2,1,4,2,2,4,4,3,3,3,4,4,4,1,2,1,1,2,2,4,2,1,2,2,4,6,8,2]},"queue":[{"sender":"server","target":"scene","type":"add-plot","data":{"type":"scatter","variables":["wt","mpg"],"id":"521aff57-b2e0-489c-ad67-b79a8bde5dfc"}},{"sender":"server","target":"scene","type":"add-plot","data":{"type":"histo","variables":["wt"],"id":"4ca791c1-dbb6-48bf-ad26-ba9bda8f72b5"}},{"sender":"server","target":"scene","type":"set-parameters","data":{"id":"plot1","width":1,"anchor":0.5}}],"options":null},"evals":[],"jsHooks":[]}</script><p>(notice that the boundaries of the bins are aligned with the
midpoints of the axis labels)</p>
<p>For 2D histograms, we need to specify which axis we want to set the
parameters to:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">airquality</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ozone"</span>, <span class="st">"solar radiation"</span>, <span class="st">"wind"</span>, </span>
<span>                       <span class="st">"temperature"</span>, <span class="st">"month"</span>, <span class="st">"day"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/create_schema.html">create_schema</a></span><span class="op">(</span><span class="va">airquality</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/add_histogram2d.html">add_histogram2d</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"solar radiation"</span>, <span class="st">"ozone"</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/add_pcoords.html">add_pcoords</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">airquality</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/set_parameters.html">set_parameters</a></span><span class="op">(</span><span class="st">"plot1"</span>, width_x <span class="op">=</span> <span class="fl">30</span>, width_y <span class="op">=</span> <span class="fl">15</span>, </span>
<span>                  anchor_x <span class="op">=</span> <span class="fl">0</span>, anchor_y <span class="op">=</span> <span class="fl">0</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/render.html">render</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning in create_schema(airquality): Removed 42 rows with missing values from</span></span>
<span><span class="co">#&gt; the data</span></span></code></pre></div>
<div class="plotscaper html-widget html-fill-item" id="htmlwidget-21c7483268bafca56cec" style="width:700px;height:432.632880098888px;"></div>
<script type="application/json" data-for="htmlwidget-21c7483268bafca56cec">{"x":{"data":{"ozone":[41,36,12,18,23,19,8,16,11,14,18,14,34,6,30,11,1,11,4,32,23,45,115,37,29,71,39,23,21,37,20,12,13,135,49,32,64,40,77,97,97,85,10,27,7,48,35,61,79,63,16,80,108,20,52,82,50,64,59,39,9,16,122,89,110,44,28,65,22,59,23,31,44,21,9,45,168,73,76,118,84,85,96,78,73,91,47,32,20,23,21,24,44,21,28,9,13,46,18,13,24,16,13,23,36,7,14,30,14,18,20],"solar radiation":[190,118,149,313,299,99,19,256,290,274,65,334,307,78,322,44,8,320,25,92,13,252,223,279,127,291,323,148,191,284,37,120,137,269,248,236,175,314,276,267,272,175,264,175,48,260,274,285,187,220,7,294,223,81,82,213,275,253,254,83,24,77,255,229,207,192,273,157,71,51,115,244,190,259,36,212,238,215,203,225,237,188,167,197,183,189,95,92,252,220,230,259,236,259,238,24,112,237,224,27,238,201,238,14,139,49,20,193,191,131,223],"wind":[7.4,8,12.6,11.5,8.6,13.8,20.1,9.699999999999999,9.199999999999999,10.9,13.2,11.5,12,18.4,11.5,9.699999999999999,9.699999999999999,16.6,9.699999999999999,12,12,14.9,5.7,7.4,9.699999999999999,13.8,11.5,8,14.9,20.7,9.199999999999999,11.5,10.3,4.1,9.199999999999999,9.199999999999999,4.6,10.9,5.1,6.3,5.7,7.4,14.3,14.9,14.3,6.9,10.3,6.3,5.1,11.5,6.9,8.6,8,8.6,12,7.4,7.4,7.4,9.199999999999999,6.9,13.8,7.4,4,10.3,8,11.5,11.5,9.699999999999999,10.3,6.3,7.4,10.9,10.3,15.5,14.3,9.699999999999999,3.4,8,9.699999999999999,2.3,6.3,6.3,6.9,5.1,2.8,4.6,7.4,15.5,10.9,10.3,10.9,9.699999999999999,14.9,15.5,6.3,10.9,11.5,6.9,13.8,10.3,10.3,8,12.6,9.199999999999999,10.3,10.3,16.6,6.9,14.3,8,11.5],"temperature":[67,72,74,62,65,59,61,69,66,68,58,64,66,57,68,62,59,73,61,61,67,81,79,76,82,90,87,82,77,72,65,73,76,84,85,81,83,83,88,92,92,89,73,81,80,81,82,84,87,85,74,86,85,82,86,88,86,83,81,81,81,82,89,90,90,86,82,80,77,79,76,78,78,77,72,79,81,86,97,94,96,94,91,92,93,93,87,84,80,78,75,73,81,76,77,71,71,78,67,76,68,82,64,71,81,69,63,70,75,76,68],"month":[5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9],"day":[1,2,3,4,7,8,9,12,13,14,15,16,17,18,19,20,21,22,23,24,28,29,30,31,7,9,10,13,16,17,18,19,20,1,2,3,5,6,7,8,9,10,12,13,15,16,17,18,19,20,21,24,25,26,27,28,29,30,31,1,2,3,7,8,9,12,13,14,16,17,18,19,20,21,22,24,25,26,28,29,30,31,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,28,29,30]},"queue":[{"sender":"server","target":"scene","type":"add-plot","data":{"type":"histo2d","variables":["solar radiation","ozone"],"id":"53d2d673-a6d3-444f-b846-edcb83e63221"}},{"sender":"server","target":"scene","type":"add-plot","data":{"type":"pcoords","variables":["ozone","solar radiation","wind","temperature","month","day"],"id":"e03f4014-9737-441e-a476-a13d54ddc8c6"}},{"sender":"server","target":"scene","type":"set-parameters","data":{"id":"plot1","width1":30,"anchor1":0,"width2":15,"anchor2":0}}],"options":null},"evals":[],"jsHooks":[]}</script>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Adam Bartonicek.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
